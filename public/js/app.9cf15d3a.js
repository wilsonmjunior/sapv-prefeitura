(function(e){function a(a){for(var o,s,n=a[0],l=a[1],d=a[2],u=0,m=[];u<n.length;u++)s=n[u],i[s]&&m.push(i[s][0]),i[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(a);while(m.length)m.shift()();return r.push.apply(r,d||[]),t()}function t(){for(var e,a=0;a<r.length;a++){for(var t=r[a],o=!0,n=1;n<t.length;n++){var l=t[n];0!==i[l]&&(o=!1)}o&&(r.splice(a--,1),e=s(s.s=t[0]))}return e}var o={},i={app:0},r=[];function s(a){if(o[a])return o[a].exports;var t=o[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=o,s.d=function(e,a,t){s.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,a){if(1&a&&(e=s(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)s.d(t,o,function(a){return e[a]}.bind(null,o));return t},s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,"a",a),a},s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var d=0;d<n.length;d++)a(n[d]);var c=l;r.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"097e":function(e,a,t){"use strict";var o=t("eddc"),i=t.n(o);i.a},"0b91":function(e,a,t){"use strict";var o=t("8fc2"),i=t.n(o);i.a},"0e64":function(e,a,t){e.exports=t.p+"img/local_2.fw.74696b46.png"},"12e8":function(e,a,t){},1628:function(e,a,t){e.exports=t.p+"img/procedimento_2.fw.77a63aa5.png"},1652:function(e,a,t){e.exports=t.p+"img/bloqueio_veiculos_1.fw.e06cbe89.png"},"1aae":function(e,a,t){e.exports=t.p+"img/localidade_2.fw.cb5b25f0.png"},"1d39":function(e,a,t){"use strict";var o=t("9158"),i=t.n(o);i.a},2464:function(e,a,t){e.exports=t.p+"img/msg_delete.f5811232.png"},2602:function(e,a,t){},"277c":function(e,a,t){e.exports=t.p+"img/agendamento_2.a2395d2e.png"},"2cac":function(e,a,t){"use strict";var o=t("7a24"),i=t.n(o);i.a},"32ea":function(e,a,t){e.exports=t.p+"img/especialidade_2.fw.51691e17.png"},3677:function(e,a,t){"use strict";var o=t("2602"),i=t.n(o);i.a},3887:function(e,a,t){},"3a28":function(e,a,t){"use strict";var o=t("539a"),i=t.n(o);i.a},4678:function(e,a,t){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var a=r(e);return t(a)}function r(e){var a=o[e];if(!(a+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id="4678"},"4bbf":function(e,a,t){e.exports=t.p+"img/veiculo_2.121ea10f.png"},"4d6a":function(e,a,t){e.exports=t.p+"img/paciente_1.fw.e9e630de.png"},"4d98":function(e,a,t){"use strict";var o=t("788d"),i=t.n(o);i.a},"528d":function(e,a,t){"use strict";var o=t("d887"),i=t.n(o);i.a},"539a":function(e,a,t){},"56d7":function(e,a,t){"use strict";t.r(a);t("cadf"),t("551c"),t("f751"),t("097d");var o=t("2b0e"),i=t("bb71"),r=(t("da64"),t("df7f"));o["a"].use(i["a"],{lang:{locales:{pt:r["a"]},current:"pt"},iconfont:"md"});var s=t("7bb1"),n=t("c1df"),l=t.n(n),d=t("bc3a"),c=t.n(d),u=t("b676"),m=t.n(u),v=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",{staticClass:"grey lighten-4"},[t("v-content",[t("div",{attrs:{id:"core-view"}},[t("v-fade-transition",{attrs:{mode:"out-in"}},[t("router-view")],1)],1)]),t("nav-bar")],1)},p=[],f=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.isAuthenticated?t("nav",[t("v-navigation-drawer",{attrs:{fixed:"",clipped:e.$vuetify.breakpoint.mdAndUp,app:""},model:{value:e.drawer,callback:function(a){e.drawer=a},expression:"drawer"}},[t("v-list",[e._l(e.items,function(a){return[a.children?t("v-list-group",{key:a.text,attrs:{"prepend-icon":a.model?a.icon:a["icon-alt"],"append-icon":""},model:{value:a.model,callback:function(t){e.$set(a,"model",t)},expression:"item.model"}},[t("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[t("v-list-tile-content",[t("v-list-tile-title",[e._v("\n                "+e._s(a.text)+"\n              ")])],1)],1),e._l(a.children,function(a,o){return t("v-list-tile",{key:o,attrs:{router:"",to:a.route}},[a.icon?t("v-list-tile-action",[t("v-icon",[e._v(e._s(a.icon))])],1):e._e(),t("v-list-tile-content",[t("v-list-tile-title",[e._v("\n                "+e._s(a.text)+"\n              ")])],1)],1)})],2):t("v-list-tile",{key:a.text,attrs:{to:a.route}},[t("v-list-tile-action",[t("v-icon",[e._v(e._s(a.icon))])],1),t("v-list-tile-content",[t("v-list-tile-title",[e._v("\n              "+e._s(a.text)+"\n            ")])],1)],1)]})],2)],1),t("v-toolbar",{staticClass:"grey lighten-3",attrs:{flat:"",app:"","clipped-left":""}},[t("v-toolbar-side-icon",{staticClass:"grey--text",nativeOn:{click:function(a){e.drawer=!e.drawer}}}),t("v-toolbar-title",{staticClass:"grey--text"},[t("span",{staticClass:"font-weight-light"},[e._v("SAPV")]),t("span",[e._v("Prefeitura")])]),t("v-spacer"),t("v-menu",{attrs:{"offset-y":""}},[t("v-btn",{attrs:{slot:"activator",flat:"",color:"grey darken-1",icon:"",outline:""},on:{click:e.logout},slot:"activator"},[t("v-icon",[e._v("logout")])],1)],1)],1)],1):e._e()},g=[],h=(t("a481"),{data:function(){return{drawer:null,sheet:!1,items:[{icon:"dashboard",text:"Dashboard",route:"/"},{icon:"schedule ","icon-alt":"schedule",text:"Agendamento de pacientes",model:!1,children:[{icon:"list",text:"Todos",route:"/agendamentos/todos"},{icon:"person_add",text:"Agendar paciente",route:"/agendamentos/agendar-pacientes"}]},{icon:"history ","icon-alt":"history",text:"Viagens",model:!1,children:[{icon:"list",text:"Listar",route:"/viagens"},{icon:"history",text:"Fixa",route:"/viagens/fixa"},{icon:"report",text:"Emergencia",route:"/viagens/emergencia"}]},{icon:"arrow_forward",text:"Saida de Veículos",route:"/saida-veiculos"},{icon:"arrow_back",text:"Retorno de Veículos",route:"/retorno-veiculos"},{icon:"block",text:"Bloqueio de Veículos",route:"/bloqueio-veiculos"},{icon:"person_outline",text:"Pacientes",route:"/pacientes"},{icon:"commute",text:"Veículos",route:"/veiculos"},{icon:"person",text:"Motoristas",route:"/motoristas"},{icon:"report",text:"Relatório",route:"/relatorio"},{icon:"settings ","icon-alt":"settings",text:"Configurações",model:!1,children:[{icon:"",text:"Localidades",route:"/localidades"},{icon:"",text:"Locais de Consulta",route:"/locais-de-consulta"},{icon:"",text:"Procedimentos",route:"/procedimentos"},{icon:"",text:"Especialidades",route:"/especialidades"},{icon:"",text:"Cid 10",route:"/cids"}]}]}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated},getTitle:function(){return this.$store.getters.getTitle}},mounted:function(){this.$store.commit("updatedToken",localStorage.getItem("token")),this.$store.commit("updatedUser",localStorage.getItem("usuario"))},methods:{logout:function(){localStorage.removeItem("token"),localStorage.removeItem("usuario"),this.$store.commit("updatedToken",null),this.$store.commit("updatedUser",null),this.$router.replace("/login")}}}),_=h,b=t("2877"),x=t("6544"),q=t.n(x),k=t("8336"),V=t("132d"),C=t("8860"),y=t("56b0"),D=t("ba95"),M=t("40fe"),w=t("5d23"),Y=t("e449"),S=t("f774"),P=t("9910"),E=t("71d9"),j=t("706c"),A=t("2a7f"),T=Object(b["a"])(_,f,g,!1,null,null,null),$=T.exports;q()(T,{VBtn:k["a"],VIcon:V["a"],VList:C["a"],VListGroup:y["a"],VListTile:D["a"],VListTileAction:M["a"],VListTileContent:w["a"],VListTileTitle:w["c"],VMenu:Y["a"],VNavigationDrawer:S["a"],VSpacer:P["a"],VToolbar:E["a"],VToolbarSideIcon:j["a"],VToolbarTitle:A["b"]});var F={components:{NavBar:$}},H=F,z=t("7496"),I=t("549c"),B=t("0789"),N=Object(b["a"])(H,v,p,!1,null,null,null),L=N.exports;q()(N,{VApp:z["a"],VContent:I["a"],VFadeTransition:B["c"]});var O,R,W=t("8c4f"),G={},Q=Object(b["a"])(G,O,R,!1,null,null,null),U=Q.exports,J=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-alert",{attrs:{color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertE,callback:function(a){e.alertE=a},expression:"alertE"}},[e._v("\n    "+e._s(e.messageE)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Veículos\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"55%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Gerenciar Veículo\n        ")]),t("v-spacer"),e.progress?[t("v-progress-circular",{attrs:{size:30,width:5,color:"green",indeterminate:""}})]:e._e()],2),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:"",md5:""}},[t("v-text-field",{attrs:{name:"Marca",label:"* Marca","error-messages":e.errors.first("marca")},model:{value:e.veiculo.marca,callback:function(a){e.$set(e.veiculo,"marca",a)},expression:"veiculo.marca"}})],1),t("v-flex",{attrs:{xs12:"",md5:""}},[t("v-text-field",{attrs:{name:"Modelo",label:"* Modelo","error-messages":e.errors.first("modelo")},model:{value:e.veiculo.modelo,callback:function(a){e.$set(e.veiculo,"modelo",a)},expression:"veiculo.modelo"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"quilometragem_atual",label:"* Quilometragem","error-messages":e.errors.first("quilometragem_atual")},model:{value:e.veiculo.quilometragem_atual,callback:function(a){e.$set(e.veiculo,"quilometragem_atual",a)},expression:"veiculo.quilometragem_atual"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{type:"number",name:"Numero",label:"* Número","error-messages":e.errors.first("numero")},model:{value:e.veiculo.numero,callback:function(a){e.$set(e.veiculo,"numero",a)},expression:"veiculo.numero"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"Ano",label:"* Ano",mask:e.mask_ano,"error-messages":e.errors.first("ano")},model:{value:e.veiculo.ano,callback:function(a){e.$set(e.veiculo,"ano",a)},expression:"veiculo.ano"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"Placa",label:"* Placa",mask:e.mask_placa,"error-messages":e.errors.first("placa")},model:{value:e.veiculo.placa,callback:function(a){e.$set(e.veiculo,"placa",a)},expression:"veiculo.placa"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"Capacidade",label:"* Capacidade",mask:e.mask_capacidade,"error-messages":e.errors.first("capacidade"),hint:"Não inclui o motorista"},model:{value:e.veiculo.capacidade,callback:function(a){e.$set(e.veiculo,"capacidade",a)},expression:"veiculo.capacidade"}})],1),e.id>0&&e.bloqueios.length>0?[t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{value:null!=e.veiculo.bloqueio_ativo?"SIM":"NÃO",name:"bloqueado",label:"Bloqueado",readonly:""}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"tipo_bloqueio",label:"Tipo Bloqueio"},model:{value:e.veiculo.bloqueio_ativo,callback:function(a){e.$set(e.veiculo,"bloqueio_ativo",a)},expression:"veiculo.bloqueio_ativo"}})],1)]:e._e(),e.bloqueios.length>0?t("v-flex",{attrs:{xs12:""}},[t("v-expansion-panel",{attrs:{popout:""}},[t("v-expansion-panel-content",[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n                    Bloqueios\n                  ")]),t("v-container",[t("v-data-table",{attrs:{headers:e.headers_bloqueios,items:e.bloqueios,"item-key":"id","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",{staticClass:"text-xs-left"},[e._v("\n                          "+e._s(e.moment(a.item.data_de_bloqueio).format("DD/MM/YYYY"))+"\n                        ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n                          "+e._s(e.moment(a.item.data_previsao_retorno).format("DD/MM/YYYY"))+"\n                        ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n                          "+e._s(e.moment(a.item.data_retorno).format("DD/MM/YYYY"))+"\n                        ")])]}}],null,!1,1100773491)})],1)],1)],1)],1):e._e(),t("v-flex",{attrs:{xs10:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                Cancelar\n              ")])],1)],2)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar este Veículo?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.veiculos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.numero))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.modelo)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.ano)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(e.maskPlaca(a.item.placa))+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.capacidade)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],t("help-veiculo")],2)},K=[],X=(t("ac6a"),c.a.create({baseURL:"http://localhost:3333/",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})),Z={salvar:function(e){return X.post("veiculos",e)},show:function(e){return X.get("veiculos/".concat(e))},alterar:function(e){return X.put("veiculos/".concat(e.id),e)},deletar:function(e){return X.delete("veiculos/".concat(e.id))},listar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return X.get("veiculos",e)}},ee={salvar:function(e){return X.post("bloqueios",e)},alterar:function(e){return X.put("bloqueios/".concat(e.id),e)},deletar:function(e){return X.delete("bloqueios/".concat(e.id))},listar:function(){return X.get("bloqueios")},listarPorVeiculo:function(e){return X.get("veiculos/".concat(e,"/bloqueios"))}},ae=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar veículos\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("cf74")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[o("div",[o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal2}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  edit\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("4bbf")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},te=[],oe={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:1,descricao:'Clique no "botão para adicionar veículo"',descricao2:" e aguarde a nova tela carregar, para cadastrar o veículo ",btn1:!0}]},{titulo:"Para alterar",itens:[{id:1,descricao:"Busque pelo veículo que deseja realizar a alteração"},{id:2,descricao:'Clique no "botão para editar um veículo"',descricao2:"referente ao veículo que deseja realizar a alteração e aguarde carregar a nova tela com os dados do mesmo",btn2:!0}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo veículo que deseja excluir"},{id:2,descricao:'Clique no "botão para excluir um veículo", referente ao veículo que deseja realizar a exclusão e aguarde pela mensagem de confirmação'}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo nome, modelo ou número "campo para pesquisar pelo veículo"'}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Impossivel excluir o veículo, pois este está vinculado a um ou mais agendamentos",solucao:"Não é possível realizar este tipo de ação, pois pode causar inconsistências na base de dados"}]}],arrHelp2:[{titulo:"Para registrar bloqueio: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do bloqueio"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Já existe um veículo com este nome",solucao:"Não realizar cadastro de um veículo que já se encontra registrado"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},ie=oe,re=(t("3677"),t("288c")),se=t("b0af"),ne=t("99d9"),le=t("a523"),de=t("169a"),ce=t("0e8f"),ue=t("a722"),me=Object(b["a"])(ie,ae,te,!1,null,"292c70ac",null),ve=me.exports;q()(me,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var pe={components:{HelpVeiculo:ve},data:function(){return{alert:!1,alertE:!1,dialog:!1,dialogConfirmDelete:!1,progress:!1,message:"",messageE:"",mask_placa:"AAA-####",mask_ano:"####",mask_capacidade:"##",search:"",headers:[{text:"Número",value:"numero"},{text:"Modelo",value:"modelo"},{text:"Ano",value:"ano"},{text:"Placa",value:"placa"},{text:"Capacidade",value:"capacidade"}],headers_bloqueios:[{text:"Data Saida",value:"numero"},{text:"Data Retorno",value:"modelo"},{text:"Tipo",value:"tipo"}],id:0,veiculo:{marca:"",modelo:"",numero:"",placa:"",capacidade:null,ano:null,quilometragem_atual:null,bloqueio_ativo:null},veiculos:[],bloqueios:[]}},mounted:function(){this.listarVeiculos()},methods:{maskPlaca:function(e){return"".concat(e.substr(0,3),"-").concat(e.substr(3,6))},listarVeiculos:function(){var e=this;Z.listar().then(function(a){e.veiculos=a.data})},limpar:function(){this.alert=!1,this.alertE=!1,this.dialog=!1,this.dialogConfirmDelete=!1,this.progress=!1,this.id=0,this.veiculo={},this.errors.clear()},isErrors:function(e){var a=this;this.errors.clear(),this.progress=!1,e.forEach(function(e){a.errors.add({field:e.field,msg:e.message})})},salvar:function(){var e=this;this.progress=!0,0===this.id?Z.salvar(this.veiculo).then(function(){e.limpar(),e.listarVeiculos(),e.message="Veículo adicionado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}):Z.alterar(this.veiculo).then(function(){e.limpar(),e.listarVeiculos(),e.message="Veículo alterado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)})},editar:function(e){var a=this;this.id=e.id,this.veiculo=e,ee.listarPorVeiculo(this.id).then(function(e){e.data&&(a.bloqueios=e.data)}),this.dialog=!0},messageDelete:function(e){this.veiculo=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;Z.deletar(this.veiculo).then(function(a){a.data?(e.alert=!0,e.message="Veículo deletado com sucesso",e.listarVeiculos()):(e.alertE=!0,e.messageE="Não é possivel deletar, pois o veículo está vinculado a uma ou mais viagens")}),this.limpar()},cancelar:function(){this.limpar()}}},fe=pe,ge=t("0798"),he=t("12b2"),_e=t("8fea"),be=t("cd55"),xe=t("49e2"),qe=t("490a"),ke=t("2677"),Ve=Object(b["a"])(fe,J,K,!1,null,null,null),Ce=Ve.exports;q()(Ve,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VProgressCircular:qe["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var ye=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Pacientes\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"50%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Gerenciar Pacientes\n        ")]),t("v-spacer"),e.progress?[t("v-progress-circular",{attrs:{size:30,width:5,color:"green",indeterminate:""}})]:e._e()],2),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"nome",label:"* Nome","error-messages":e.errors.first("nome")},model:{value:e.paciente.nome,callback:function(a){e.$set(e.paciente,"nome",a)},expression:"paciente.nome"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"cpf",label:"CPF",mask:e.mask_cpf,"error-messages":e.errors.first("cpf")},model:{value:e.paciente.cpf,callback:function(a){e.$set(e.paciente,"cpf",a)},expression:"paciente.cpf"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"rg",label:"RG",mask:e.mask_rg,"error-messages":e.errors.first("rg")},model:{value:e.paciente.rg,callback:function(a){e.$set(e.paciente,"rg",a)},expression:"paciente.rg"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"sus",label:"SUS","error-messages":e.errors.first("sus")},model:{value:e.paciente.sus,callback:function(a){e.$set(e.paciente,"sus",a)},expression:"paciente.sus"}})],1),t("v-flex",{attrs:{xs12:"",md10:""}},[t("v-text-field",{attrs:{name:"endereco",label:"* Endereço","error-messages":e.errors.first("endereco")},model:{value:e.paciente.endereco,callback:function(a){e.$set(e.paciente,"endereco",a)},expression:"paciente.endereco"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"numero",label:"* Número","error-messages":e.errors.first("numero")},model:{value:e.paciente.numero,callback:function(a){e.$set(e.paciente,"numero",a)},expression:"paciente.numero"}})],1),t("v-flex",{attrs:{xs12:"",md9:""}},[t("v-text-field",{attrs:{name:"bairro",label:"* Bairro","error-messages":e.errors.first("bairro")},model:{value:e.paciente.bairro,callback:function(a){e.$set(e.paciente,"bairro",a)},expression:"paciente.bairro"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"cep",label:"* Cep",mask:e.mask_cep,"error-messages":e.errors.first("cep")},model:{value:e.paciente.cep,callback:function(a){e.$set(e.paciente,"cep",a)},expression:"paciente.cep"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"celular",label:"* Celular",mask:e.mask_celular,"error-messages":e.errors.first("celular")},model:{value:e.paciente.celular,callback:function(a){e.$set(e.paciente,"celular",a)},expression:"paciente.celular"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"celular_contato",label:"Celular para contato",mask:e.mask_celular,"error-messages":e.errors.first("celular_contato")},model:{value:e.paciente.celular_contato,callback:function(a){e.$set(e.paciente,"celular_contato",a)},expression:"paciente.celular_contato"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"telefone",label:"Telefone",mask:e.mask_telefone,"error-messages":e.errors.first("telefone")},model:{value:e.paciente.telefone,callback:function(a){e.$set(e.paciente,"telefone",a)},expression:"paciente.telefone"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"telefone_contato",label:"Telefome para contato",mask:e.mask_telefone,"error-messages":e.errors.first("telefone_contato")},model:{value:e.paciente.telefone_contato,callback:function(a){e.$set(e.paciente,"telefone_contato",a)},expression:"paciente.telefone_contato"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}},[e._v("\n              Comfirma?\n            ")]),t("v-card-text",[e._v("\n              Você deseja realmente deletar este Paciente?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.pacientes,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.nome))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.celular)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.endereco)+", "+e._s(a.item.numero)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],t("help-paciente")],2)},De=[],Me={salvar:function(e){return X.post("pacientes",e)},alterar:function(e){return X.put("pacientes/".concat(e.id),e)},deletar:function(e){return X.delete("pacientes/".concat(e.id))},listar:function(){return X.get("pacientes")}},we=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar pacientes\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("4d6a")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal2}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  edit\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("ef6a")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},Ye=[],Se={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:1,descricao:'Clique no "botão para adicionar um paciente"',descricao2:" e aguarde a nova tela carregar, para cadastrar um novo paciente ",btn1:!0}]},{titulo:"Para alterar",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Busque pelo paciente que deseja realizar a alteração"},{id:2,descricao:'Clique no "botão para editar um paciente"',descricao2:"referente ao paciente que deseja realizar a alteração e aguarde carregar a nova tela com os dados do mesmo",btn2:!0}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo paciente que deseja excluir"},{id:2,descricao:'Clique no "botão para excluir um paciente", referente ao paciente que deseja realizar a exclusão e aguarde pela mensagem de confirmação',foto:!0}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo nome, cpf ou número do celular no "campo para pesquisar pelo paciente"'}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Não é possivel deletar, pois o paciente está vinculada a uma ou mais viagens",solucao:"Não é possível realizar este tipo de ação, pois pode causar inconsistências na base de dados"}]}],arrHelp2:[{titulo:"Para inserir: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do paciente"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Este paciente já se encontra cadastrado ",solucao:"Não realizar cadastro de uma paciente que ja se encontra registrada"},{id:2,descricao:"O RG informado já está vinculado a outro cadastro",solucao:"Não é possivel cadastrar um mototirsta com um mesmo RG"},{id:3,descricao:"O CPF informado já está vinculado a outro cadastro",solucao:"Não é possivel cadastrar um mototirsta com um mesmo CPF"},{id:4,descricao:"O número do CPF não foi informado corretamente",solucao:"Informe um CPF válido"},{id:5,descricao:"O número do SUS informado já está vinculado a outro cadastro",solucao:"Não é possivel cadastrar um mototirsta com um mesmo número do SUS"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},Pe=Se,Ee=(t("1d39"),Object(b["a"])(Pe,we,Ye,!1,null,"21419c30",null)),je=Ee.exports;q()(Ee,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Ae={components:{HelpPaciente:je},data:function(){return{alert:!1,dialog:!1,dialogConfirmDelete:!1,progress:!1,message:"",search:"",mask_cpf:"###.###.###-##",mask_rg:"########N",mask_cep:"#####-###",mask_telefone:"(##)####-####",mask_celular:"(##)#####-####",headers:[{text:"Nome",value:"nome"},{text:"Celular",value:"celular"},{text:"Endereço",value:"endereço"}],id:0,paciente:{nome:"",cpf:"",rg:"",sus:"",bairro:"",endereco:"",numero:"",cep:"19640000",celular:"",celular_contato:"",telefone:"",telefone_contato:""},pacientes:[]}},mounted:function(){this.listarPacientes()},methods:{listarPacientes:function(){var e=this;Me.listar().then(function(a){e.pacientes=a.data})},addError:function(e,a){this.errors.add({field:e,msg:a})},isErrors:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.errors.clear(),this.progress=!1,a.forEach(function(a){e.addError(a.field,a.message)})},limpar:function(){this.alert=!1,this.dialog=!1,this.dialogConfirmDelete=!1,this.progress=!1,this.id=0,this.paciente={},this.errors.clear()},salvar:function(){var e=this;this.progress=!0,0===this.id?Me.salvar(this.paciente).then(function(a){e.limpar(),e.listarPacientes(),e.message="Paciente adicionado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}):Me.alterar(this.paciente).then(function(a){e.limpar(),e.listarPacientes(),e.message="Paciente alterado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)})},editar:function(e){this.id=e.id,this.paciente=e,this.dialog=!0},messageDelete:function(e){this.paciente=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;Me.deletar(this.paciente).then(function(a){e.listarPacientes(),e.message="Paciente deletado com sucesso",e.alert=!0}),this.limpar()},cancelar:function(){this.limpar()}}},Te=Ae,$e=Object(b["a"])(Te,ye,De,!1,null,null,null),Fe=$e.exports;q()($e,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VProgressCircular:qe["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var He=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-alert",{attrs:{color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertE,callback:function(a){e.alertE=a},expression:"alertE"}},[e._v("\n    "+e._s(e.messageE)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Motoristas\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"50%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Gerenciar Motoristas\n        ")])],1),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"nome",label:"* Nome","error-messages":e.errors.first("nome")},model:{value:e.motorista.nome,callback:function(a){e.$set(e.motorista,"nome",a)},expression:"motorista.nome"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"cpf",label:"CPF",mask:e.mask_cpf,"error-messages":e.errors.first("cpf")},model:{value:e.motorista.cpf,callback:function(a){e.$set(e.motorista,"cpf",a)},expression:"motorista.cpf"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"rg",label:"RG",mask:e.mask_rg,"error-messages":e.errors.first("rg")},model:{value:e.motorista.rg,callback:function(a){e.$set(e.motorista,"rg",a)},expression:"motorista.rg"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"cnh",label:"* CNH",mask:e.mask_cnh,"error-messages":e.errors.first("cnh")},model:{value:e.motorista.cnh,callback:function(a){e.$set(e.motorista,"cnh",a)},expression:"motorista.cnh"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuDate,callback:function(a){e.menuDate=a},expression:"menuDate"}},[t("v-text-field",{attrs:{slot:"activator",label:"* Validade CNH","prepend-icon":"event","error-messages":e.errors.first("validade_cnh"),readonly:""},slot:"activator",model:{value:e.motorista.validade_cnh,callback:function(a){e.$set(e.motorista,"validade_cnh",a)},expression:"motorista.validade_cnh"}}),t("v-date-picker",{attrs:{locale:"pt-BR"},on:{input:function(a){e.menuDate=!1}},model:{value:e.motorista.validade_cnh,callback:function(a){e.$set(e.motorista,"validade_cnh",a)},expression:"motorista.validade_cnh"}})],1)],1),t("v-flex",{attrs:{xs12:"",md10:""}},[t("v-text-field",{attrs:{name:"endereco",label:"* Endereço","error-messages":e.errors.first("endereco")},model:{value:e.motorista.endereco,callback:function(a){e.$set(e.motorista,"endereco",a)},expression:"motorista.endereco"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"numero",label:"* Número","error-messages":e.errors.first("numero")},model:{value:e.motorista.numero,callback:function(a){e.$set(e.motorista,"numero",a)},expression:"motorista.numero"}})],1),t("v-flex",{attrs:{xs12:"",md9:""}},[t("v-text-field",{attrs:{name:"bairro",label:"* Bairro","error-messages":e.errors.first("bairro")},model:{value:e.motorista.bairro,callback:function(a){e.$set(e.motorista,"bairro",a)},expression:"motorista.bairro"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"cep",label:"* Cep",mask:e.mask_cep,"error-messages":e.errors.first("cep")},model:{value:e.motorista.cep,callback:function(a){e.$set(e.motorista,"cep",a)},expression:"motorista.cep"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"celular",label:"* Celular",mask:e.mask_celular,"error-messages":e.errors.first("celular")},model:{value:e.motorista.celular,callback:function(a){e.$set(e.motorista,"celular",a)},expression:"motorista.celular"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"celular_coorporativo",label:"Celular Corporativo",mask:e.mask_celular,"error-messages":e.errors.first("celular_coorporativo")},model:{value:e.motorista.celular_coorporativo,callback:function(a){e.$set(e.motorista,"celular_coorporativo",a)},expression:"motorista.celular_coorporativo"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"telefone",label:"Telefone",mask:e.mask_telefone,"error-messages":e.errors.first("telefone")},model:{value:e.motorista.telefone,callback:function(a){e.$set(e.motorista,"telefone",a)},expression:"motorista.telefone"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuDate2,callback:function(a){e.menuDate2=a},expression:"menuDate2"}},[t("v-text-field",{attrs:{slot:"activator",label:"* Admissão","prepend-icon":"event","error-messages":e.errors.first("dt_admissao"),readonly:""},slot:"activator",model:{value:e.motorista.dt_admissao,callback:function(a){e.$set(e.motorista,"dt_admissao",a)},expression:"motorista.dt_admissao"}}),t("v-date-picker",{attrs:{locale:"pt-BR","error-messages":e.errors.first("dt_admissao")},on:{input:function(a){e.menuDate2=!1}},model:{value:e.motorista.dt_admissao,callback:function(a){e.$set(e.motorista,"dt_admissao",a)},expression:"motorista.dt_admissao"}})],1)],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px",disabled:0==e.id},model:{value:e.menuDate3,callback:function(a){e.menuDate3=a},expression:"menuDate3"}},[t("v-text-field",{attrs:{slot:"activator",label:"Demissão","prepend-icon":"event","error-messages":e.errors.first("dt_demissao"),readonly:""},slot:"activator",model:{value:e.motorista.dt_demissao,callback:function(a){e.$set(e.motorista,"dt_demissao",a)},expression:"motorista.dt_demissao"}}),t("v-date-picker",{attrs:{locale:"pt-BR","error-messages":e.errors.first("dt_demissao")},on:{input:function(a){e.menuDate3=!1}},model:{value:e.motorista.dt_demissao,callback:function(a){e.$set(e.motorista,"dt_demissao",a)},expression:"motorista.dt_demissao"}})],1)],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:function(a){return e.cancelar()}}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar este Motorista?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.motoristas,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.nome))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.cpf)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.celular)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],t("help-motorista")],2)},ze=[],Ie={salvar:function(e){return X.post("motoristas",e)},alterar:function(e){return X.put("motoristas/".concat(e.id),e)},deletar:function(e){return X.delete("motoristas/".concat(e.id))},listar:function(){return X.get("motoristas")}},Be=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar motoristas\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("a1cc")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[o("div",[o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal2}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  edit\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("84d7")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},Ne=[],Le={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:1,descricao:'Clique no "botão para adicionar um motorista"',descricao2:" e aguarde a nova tela carregar, para cadastrar um novo motorista ",btn1:!0}]},{titulo:"Para alterar",itens:[{id:1,descricao:"Busque pelo motorista que deseja realizar a alteração"},{id:2,descricao:'Clique no "botão para editar um motorista"',descricao2:"referente ao motorista que deseja realizar a alteração e aguarde carregar a nova tela com os dados do mesmo",btn2:!0}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo motorista que deseja excluir"},{id:2,descricao:'Clique no "botão para excluir um motorista", referente ao motorista que deseja realizar a exclusão e aguarde pela mensagem de confirmação',foto:!0}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo nome, cpf ou número do celular no "campo para pesquisar pelo motorista"'}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Não é possivel deletar, pois o motorista está vinculada a uma ou mais viagens",solucao:"Não é possível realizar este tipo de ação, pois pode causar inconsistências na base de dados"}]}],arrHelp2:[{titulo:"Para inserir: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do motorista"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"A data de validade da CNH está inválida",solucao:"Informe uma data válida para a CNH ou talvez a CNH esteja para vencer ou vencida"},{id:2,descricao:"A data de Admissão não foi informada corretamente",solucao:"Informe uma data anterior a data atual"},{id:3,descricao:"A CNH informada já está vinculada a outro cadastro",solucao:"Não é possivel cadastrar um mototirsta com uma mesma CNH ou informe a CNH corretamente"},{id:4,descricao:"O RG informado já está vinculado a outro cadastro",solucao:"Não é possivel cadastrar um mototirsta com um mesmo RG"},{id:5,descricao:"O CPF informado já está vinculado a outro cadastro",solucao:"Não é possivel cadastrar um mototirsta com um mesmo CPF"},{id:6,descricao:"O número do CPF não foi informado corretamente",solucao:"Informe um CPF válido"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},Oe=Le,Re=(t("c55b"),Object(b["a"])(Oe,Be,Ne,!1,null,"13d509ec",null)),We=Re.exports;q()(Re,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Ge={components:{HelpMotorista:We},data:function(){return{menuDate:!1,menuDate2:!1,menuDate3:!1,alert:!1,alertE:!1,dialog:!1,dialogConfirmDelete:!1,progress:!1,message:"",messageE:"",search:"",mask_cpf:"###.###.###-##",mask_rg:"########N",mask_telefone:"(##)####-####",mask_celular:"(##)#####-####",mask_cep:"#####-###",mask_data:"##/##/####",mask_cnh:"###########",headers:[{text:"Nome",value:"nome"},{text:"CPF",value:"cpf"},{text:"Celular",value:"celular"}],id:0,motorista:{nome:"",cpf:"",rg:"",cnh:"",validade_cnh:null,bairro:"",endereco:"",numero:"",cep:"19640000",celular:"",celular_coorporativo:"",telefone:"",dt_admissao:null,dt_demissao:null},motoristas:[]}},mounted:function(){this.listarMotoristas()},methods:{listarMotoristas:function(){var e=this;Ie.listar().then(function(a){e.motoristas=a.data})},isErrors:function(e){var a=this;this.errors.clear(),this.progress=!1,e.forEach(function(e){a.errors.add({field:e.field,msg:e.message})})},limpar:function(){this.alert=!1,this.dialog=!1,this.dialogConfirmDelete=!1,this.progress=!1,this.id=0,this.motorista={validade_cnh:null,cep:"19640000",dt_admissao:null,dt_demissao:null},this.errors.clear()},salvar:function(){var e=this;this.progress=!0,console.log(this.motorista),0===this.id?Ie.salvar(this.motorista).then(function(a){e.limpar(),e.listarMotoristas(),e.message="Motorista adicionado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}):Ie.alterar(this.motorista).then(function(a){e.limpar(),e.listarMotoristas(),e.message="Motorista alterado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)})},editar:function(e){this.id=e.id,this.motorista=e,this.motorista.validade_cnh=this.moment(e.validade_cnh).format("YYYY-MM-DD"),this.motorista.dt_admissao=this.moment(e.dt_admissao).format("YYYY-MM-DD"),this.dialog=!0},messageDelete:function(e){this.motorista=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;Ie.deletar(this.motorista).then(function(a){a.data?(e.listarMotoristas(),e.message="Motorista deletado com sucesso",e.alert=!0):(e.alertE=!0,e.messageE="Não é possivel deletar, pois o motorista está vinculado a uma ou mais viagens")}),this.limpar()},cancelar:function(){this.limpar()}}},Qe=Ge,Ue=t("2e4b"),Je=Object(b["a"])(Qe,He,ze,!1,null,null,null),Ke=Je.exports;q()(Je,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDatePicker:Ue["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VMenu:Y["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Xe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{staticClass:"success",attrs:{transition:"scale-transition",origin:"center center",dismissible:"",dark:"",type:"success"},model:{value:e.alertS,callback:function(a){e.alertS=a},expression:"alertS"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-alert",{staticClass:"error",attrs:{transition:"scale-transition",origin:"center center",dismissible:"",dark:"",type:"error"},model:{value:e.alertE,callback:function(a){e.alertE=a},expression:"alertE"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Agenda de pacientes\n    ")])],1),t("v-card",{attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menu2,callback:function(a){e.menu2=a},expression:"menu2"}},[t("v-text-field",{attrs:{slot:"activator",name:"data","data-vv-name":"data",label:"* Data","prepend-icon":"event","error-messages":e.errors.first("data"),readonly:""},slot:"activator",model:{value:e.dataFormated,callback:function(a){e.dataFormated=a},expression:"dataFormated"}}),t("v-date-picker",{attrs:{name:"data","data-vv-name":"data",locale:"pt-BR"},on:{input:function(a){e.menu2=!1}},model:{value:e.dataAgendamento,callback:function(a){e.dataAgendamento=a},expression:"dataAgendamento"}})],1)],1),t("v-flex",{attrs:{xs12:"",md9:""}},[t("v-autocomplete",{attrs:{"data-vv-name":"localidade",name:"localidade",label:"* Localidade",items:e.localidades,"item-text":"nome","item-value":"id","error-messages":e.errors.first("localidade")},model:{value:e.localidade,callback:function(a){e.localidade=a},expression:"localidade"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{attrs:{items:e.viagens,name:"viagem","data-vv-name":"viagem",box:"",chips:"",color:"blue-grey lighten-2",label:"* Viagens","item-text":"datHorLoc","item-value":"id","error-messages":e.errors.first("viagem")},scopedSlots:e._u([{key:"selection",fn:function(a){return[t("v-chip",{staticClass:"chip--select-multi",attrs:{selected:a.selected,close:""},on:{input:function(t){return e.removeViagem(a.item)}}},[e._v("\n                "+e._s(a.item.data)+" -\n                "+e._s(a.item.horario)+" -\n                "+e._s(a.item.localidade.nome)+"\n              ")])]}},{key:"item",fn:function(a){return["object"!==typeof a.item?[t("v-list-tile-content",{domProps:{textContent:e._s(a.item)}})]:["Fixa"==a.item.tipo?t("v-list-tile-avatar",[t("v-icon",[e._v("\n                    history\n                  ")])],1):e._e(),"Emergencia"==a.item.tipo?t("v-list-tile-avatar",[t("v-icon",[e._v("\n                    report\n                  ")])],1):e._e(),t("v-list-tile-content",[t("v-list-tile-sub-title",{domProps:{innerHTML:e._s("<b>Data:</b> "+a.item.data+"  <b>Horário:</b> "+a.item.horario+"  <b>Localidade:</b> "+a.item.localidade.nome)}}),t("v-list-tile-sub-title",{domProps:{innerHTML:e._s("<b>Motorista:</b> "+a.item.motorista.nome)}})],1)]]}}]),model:{value:e.agendamento.viagem_id,callback:function(a){e.$set(e.agendamento,"viagem_id",a)},expression:"agendamento.viagem_id"}})],1),t("v-layout",{attrs:{"align-center":"","justify-end":"",row:"","fill-height":""}},[t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"capacidade",label:"Capacidade",readonly:""},model:{value:e.capacidade,callback:function(a){e.capacidade=a},expression:"capacidade"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"ocupados",label:"Lugares ocupados",readonly:""},model:{value:e.ocupados,callback:function(a){e.ocupados=a},expression:"ocupados"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"name",label:"Lugares vagos",readonly:""},model:{value:e.vagos,callback:function(a){e.vagos=a},expression:"vagos"}})],1)],1)],1)],1),t("v-container",[t("v-toolbar",{attrs:{flat:"",color:"grey lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Pacientes agendados\n        ")]),t("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t("v-spacer"),t("v-btn",{staticClass:"mb-2",attrs:{dark:"",flat:"",icon:"",outline:"",color:"primary"},on:{click:e.agendarPaciente}},[t("v-icon",[e._v("add")])],1),t("v-dialog",{attrs:{"max-width":"55%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n              Agendar Paciente\n            ")])],1),t("v-card",{attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md9:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"paciente_id","error-messages":e.errors.first("paciente_id"),items:e.pacientes,label:"* Paciente","item-text":"nome","item-value":"id",disabled:e.alterar},model:{value:e.agendamento.paciente_id,callback:function(a){e.$set(e.agendamento,"paciente_id",a)},expression:"agendamento.paciente_id"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.agendamento.horario,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.agendamento,"horario",a)},"update:return-value":function(a){return e.$set(e.agendamento,"horario",a)}},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t("v-text-field",e._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"horario","data-vv-name":"horario",label:"* Horário","prepend-icon":"access_time","error-messages":e.errors.first("horario"),readonly:""},model:{value:e.agendamento.horario,callback:function(a){e.$set(e.agendamento,"horario",a)},expression:"agendamento.horario"}},o))]}}]),model:{value:e.menu1,callback:function(a){e.menu1=a},expression:"menu1"}},[e.menu1?t("v-time-picker",{attrs:{format:"24hr","data-vv-name":"horario","full-width":""},on:{"click:minute":function(a){return e.$refs.menu.save(e.agendamento.horario)}},model:{value:e.agendamento.horario,callback:function(a){e.$set(e.agendamento,"horario",a)},expression:"agendamento.horario"}}):e._e()],1)],1),t("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[t("v-text-field",{attrs:{name:"data",label:"Data",readonly:""},model:{value:e.dataFormated,callback:function(a){e.dataFormated=a},expression:"dataFormated"}})],1),t("v-flex",{attrs:{xs12:"",md9:""}},[t("v-text-field",{attrs:{name:"name",label:"Localidade - Horário",value:e.viagem.localidade.nome+"  -  "+e.moment(e.viagem.horario,"HH:mm:ss").format("HH:mm"),readonly:""}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"local_de_consulta_id","data-vv-name":"local_de_consulta_id","error-messages":e.errors.first("local_de_consulta_id"),items:e.locais,label:"* Locais de consulta","item-text":"nome","item-value":"id"},model:{value:e.agendamento.local_de_consulta_id,callback:function(a){e.$set(e.agendamento,"local_de_consulta_id",a)},expression:"agendamento.local_de_consulta_id"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"especialidade_id","data-vv-name":"especialidade_id","error-messages":e.errors.first("especialidade_id"),items:e.especialidades,"item-text":"nome","item-value":"id",label:"* Especialidade"},model:{value:e.agendamento.especialidade_id,callback:function(a){e.$set(e.agendamento,"especialidade_id",a)},expression:"agendamento.especialidade_id"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"cid_id","data-vv-name":"cid_id","error-messages":e.errors.first("cid_id"),items:e.cids,"item-text":"nome","item-value":"id",label:"* Cid10"},model:{value:e.agendamento.cid_id,callback:function(a){e.$set(e.agendamento,"cid_id",a)},expression:"agendamento.cid_id"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"procedimentos",name:"procedimentos",items:e.procedimentos,chips:"",color:"blue-grey lighten-2",label:"* Procedimentos","item-text":"nome","item-value":"id","error-messages":e.errors.first("procedimentos"),multiple:""},scopedSlots:e._u([{key:"selection",fn:function(a){return[t("v-chip",{staticClass:"chip--select-multi",attrs:{selected:a.selected,close:""},on:{input:function(e){return a.parent.selectItem(a.item)}}},[e._v("\n                        "+e._s(a.item.nome)+"\n                      ")])]}},{key:"item",fn:function(a){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:e._s(a.item.nome)}})],1)]]}}]),model:{value:e.agendamento.procedimentos,callback:function(a){e.$set(e.agendamento,"procedimentos",a)},expression:"agendamento.procedimentos"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"acompanhante",label:"Acompanhante","error-messages":e.errors.first("acompanhante")},model:{value:e.agendamento.acompanhante,callback:function(a){e.$set(e.agendamento,"acompanhante",a)},expression:"agendamento.acompanhante"}})],1),t("v-flex",{attrs:{xs12:""}},["Agendada"==e.viagem.status?t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                    Salvar\n                  ")]):e._e(),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                    Cancelar\n                  ")])],1)],1)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n                  Você deseja realmente deletar este agendamento?\n                ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){e.dialogConfirmDelete=!1}}},[e._v("\n                    Cancelar\n                  ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                    Confirmar\n                  ")])],1)],1)],1)],1)],1)],[t("v-data-table",{attrs:{headers:e.headers,items:e.agendamentos,flat:""},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.paciente.nome)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.horario)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.localDeConsulta.nome)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.paciente.celular)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},["Agendada"==e.viagem.status?t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1):e._e(),"Agendada"==e.viagem.status?t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1):e._e()],1)]}}])})]],2)],1),t("help-agendamento")],1)},Ze=[],ea={salvar:function(e){return X.post("viagens",e)},alterar:function(e){return X.put("viagens/".concat(e.id),e)},deletar:function(e){return X.delete("viagens/".concat(e.id))},show:function(e){return X.get("viagens/".concat(e))},listar:function(){return X.get("viagens")},buscarPorPeriodo:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return X.get("viagens/".concat(t,"/periodo"),{params:{dateIni:e,dateFin:a}})},buscarPorVeiculoStatus:function(e,a){return X.get("veiculos/".concat(e,"/viagens/").concat(a))},buscarPorVeiculoPeriodo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return X.get("veiculos/".concat(t,"/viagens"),{params:{dateIni:e,dateFin:a,horario:o,id:i}})},buscarPorMotoristaPeriodo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return X.get("motoristas/".concat(t,"/viagens"),{params:{dateIni:e,dateFin:a,horario:o,id:i}})},buscarPorLocalidadeData:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return X.get("localidades/".concat(a,"/viagens"),{params:{data:e}})}},aa={salvar:function(e){return X.post("agendamentos",e)},alterar:function(e){return X.put("agendamentos/".concat(e.id),e)},deletar:function(e){return X.delete("agendamentos/".concat(e.id))},show:function(e){return X.get("agendamentos/".concat(e))},buscaPorViagem:function(e){return X.get("viagens/".concat(e,"/agendamentos"))},buscaPorPaciente:function(e,a,t){return X.get("pacientes/".concat(e,"/agendamentos"),{params:{data:a,agendamentoId:t}})},listar:function(){return X.get("agendamentos")}},ta={salvar:function(e){return X.post("localidades",e)},alterar:function(e){return X.put("localidades/".concat(e.id),e)},deletar:function(e){return X.delete("localidades/".concat(e.id))},listar:function(){return X.get("localidades")}},oa={salvar:function(e){return X.post("locaisDeConsulta",e)},alterar:function(e){return X.put("locaisDeConsulta/".concat(e.id),e)},deletar:function(e){return X.delete("locaisDeConsulta/".concat(e.id))},listar:function(){return X.get("locaisDeConsulta")},listarPorLocalidade:function(e){return X.get("localidades/".concat(e,"/locais"))}},ia={salvar:function(e){return X.post("cids",e)},alterar:function(e){return X.put("cids/".concat(e.id),e)},deletar:function(e){return X.delete("cids/".concat(e.id))},listar:function(){return X.get("cids")},listarPorEspecialidade:function(e){return X.get("especialidades/".concat(e,"/cids"))}},ra={salvar:function(e){return X.post("procedimentos",e)},alterar:function(e){return X.put("procedimentos/".concat(e.id),e)},deletar:function(e){return X.delete("procedimentos/".concat(e.id))},listar:function(){return X.get("procedimentos")}},sa={salvar:function(e){return X.post("especialidades",e)},alterar:function(e){return X.put("especialidades/".concat(e.id),e)},deletar:function(e){return X.delete("especialidades/".concat(e.id))},listar:function(){return X.get("especialidades")}},na=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n              Ajuda para gerenciar agendamento de pacientes\n            ")])],1),o("v-container",{attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[[o("img",{staticClass:"image",attrs:{src:t("7d0f")}})]],2),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{staticStyle:{height:"100%"},attrs:{column:""}},[e._l(e.arrHelp,function(a){return[o("div",{key:a.titulo,staticStyle:{"padding-bottom":"10px"}},[o("strong",[e._v(e._s(a.titulo))]),e._l(a.itens,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"5px"}},[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+" "),a.btn?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.descricao2?[e._v("\n                            "+e._s(a.descricao2)+"\n                          ")]:e._e(),a.foto?[o("br"),o("img",{staticClass:"image3",attrs:{src:t("2464")}})]:e._e(),a.solucao?[o("br"),o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                          ")]:e._e(),a.observacao?o("strong",[e._v("Observação: ")]):e._e(),e._v(e._s(a.observacao)+"\n                        ")],2)})],2)]})],2)],1)],1)],1)],1)],1),[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("277c")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{column:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("strong",[e._v(e._s(a.titulo))]),e._l(a.itens,function(a){return[o("div",{key:a.id},[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.solucao?[o("br"),o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                            ")]:e._e(),a.observacao?o("strong",[e._v("Observação: ")]):e._e(),e._v(e._s(a.observacao)+"\n                          ")],2)]})],2)],1)],1)]})],2)],1)],1)]],2)],1)]],2)},la=[],da={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Selecione data referente ao gerenciamento do paciente"},{id:2,descricao:"Selecione a localidade, destino para onde o paciente necessita ir"},{id:3,descricao:"Seleciona a viagem que se enquadra na nessecidade do paciente, levando em consideração o horário para agendamento do paciente"},{id:4,descricao:'Clique no botão "Agendar paciente na viagem selecionada"',btn1:!0,descricao2:"e aguarde carregar a tela de agendamento de paciente"}]},{titulo:"Para alterar",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Realize os 3 primeiros passos realizados para inserir um agendamento"},{id:2,descricao:"Após listar os agendamentos referentes a viagem, procure na lista o agendamento (paciente) que deseja realizar a alteração"},{id:4,descricao:"Clica no botão editar referente ao agendamento que deseja realizar a alteração, ",btn2:!0,descricao2:"e aguarde carregar a tela de agendamento de paciente com os dados do paciente selecionado"}]},{titulo:"Para excluir",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Realize os 3 primeiros passos realizados para inserir um agendamento"},{id:2,descricao:"Após listar os agendamentos referentes a viagem selecionada, procure pelo o agendamento (paciente) que deseja excluir"},{id:3,descricao:"Clique no botão deletar referente ao agendamento que deseja realizar a exclusão e aguarde pela mensagem de confirmação",foto:!0}]},{titulo:"Para pesquisar",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Realize os 3 primeiros passos realizados para inserir um agendamento"},{id:2,descricao:"Após listar os agendamentos referentes a viagem selecionada, procure pelo o agendamento (paciente) em questão"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Viagem já foi realizada ou já passou a data de realização ', solucao: 'Deve ser informado uma data posterior ou igual a data atual,\n                      levando em consideração o horário de realização da viagem"},{id:2,descricao:"Não há vagas na viagem selecionada",solucao:"Agendar outro veiculo para viagem primeiro, para poder dar procedimento ao agendamento do paciente"}]}],arrHelp2:[{titulo:"Para inserir",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do paciente"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Já existe agendamento para o paciente na data informada",solucao:"Não informar um paciente em uma mesma viagem"},{id:2,descricao:"O horário informado é inferior ao horário da viagem",solucao:"Informar um horário de agendamento superior ao horário da viagem ou agendar o paciente em outra viagem com horário compatível com o agendamento do mesmo"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},ca=da,ua=(t("b7ea"),Object(b["a"])(ca,na,la,!1,null,"44fc940a",null)),ma=ua.exports;q()(ua,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var va={$_veeValidate:{validator:"new"},components:{HelpAgendamento:ma},data:function(){return{alterar:!1,alertS:!1,alertE:!1,message:"",dialogConfirmDelete:!1,dialog:!1,menu2:!1,menu1:!1,headers:[{text:"Paciente",value:"paciente"},{text:"Horário",value:"horario"},{text:"Local de consulta",value:"local"},{text:"Celular",value:"celular"}],dataAgendamento:null,localidade:null,localidades:[],procedimentos:[],especialidades:[],cids:[],pacientes:[],viagens:[],locais:[],agendamento_id:0,agendamento:{paciente_id:null,data:null,horario:null,local_de_consulta_id:null,especialidade_id:null,cid_id:null,procedimentos:[],viagem_id:null,acompanhante:""},temAgendamento:!1,temAcompanhante:!1,viagem:{id:null,data:null,horario:null,localidade_id:null,localidade:{nome:""},motorista_id:null,motorista:{nome:""},veiculo_id:null,veiculo:{numMod:null,capacidade:null},agendamentos:[],status:null},agendamentos:[],vagos:0,ocupados:0,capacidade:0,dictionary:{custom:{paciente_id:{required:"O paciente deve ser informado"},horario:{required:"O horário deve ser informado"},local_de_consulta_id:{required:"O local de consulta deve ser informado"},especialidade_id:{required:"A especialidade deve ser informada"},cid_id:{required:"O cid deve ser informado"},procedimentos:{required:"Um ou mais procedimentos devem ser informados"}}}}},computed:{dataFormated:function(){return this.dataAgendamento?this.moment(this.dataAgendamento).format("DD/MM/YYYY"):null}},watch:{dataAgendamento:function(){this.agendamentos=[],this.ocupados=0,this.capacidade=0,this.vagos=0,null==this.localidade?this.listarViagens(this.dataAgendamento,0):this.listarViagens(this.dataAgendamento,this.localidade)},localidade:function(){this.listarViagens(this.dataAgendamento,this.localidade),this.listarLocais()},"agendamento.viagem_id":function(){var e=this;null!=this.agendamento.viagem_id&&(this.ocupados=0,this.vagos=0,ea.show(this.agendamento.viagem_id).then(function(a){if(e.viagem=a.data,e.agendamentos=e.viagem.agendamentos,e.localidade=e.viagem.localidade_id,e.capacidade=e.viagem.veiculo.capacidade,e.agendamentos.length>0){var t=e.agendamentos;t.forEach(function(a){e.ocupados=e.ocupados+1,null!=a.acompanhante&&(e.ocupados=e.ocupados+1)})}e.vagos=e.capacidade-e.ocupados}))},"agendamento.especialidade_id":function(){null!=this.agendamento.especialidade_id&&this.listarCids()},"agendamento.paciente_id":function(){var e=this;null!=this.viagem.data&&this.agendamento.paciente_id>0&&(this.agendamento.data=this.moment(this.dataFormated,"DD/MM/YYYY").format("YYYY-MM-DD"),aa.buscaPorPaciente(this.agendamento.paciente_id,this.agendamento.data,this.agendamento_id).then(function(a){0!=a.data.length&&(e.temAgendamento=!e.temAgendamento,e.errors.add({field:"paciente_id",msg:"Já existe agendamento para o paciente na data informada"}))}))}},mounted:function(){this.$validator.localize("en",this.dictionary),this.listarLocalidades(),this.dataAgendamento=(new Date).toISOString().substr(0,10),this.listarEspecialidades(),this.listarProcedimentos(),this.listarPacientes()},methods:{removeViagem:function(e){this.agendamento.viagem_id=null,this.ocupados=0,this.vagos=0,this.capacidade=0,this.agendamentos=[]},listarViagens:function(e,a){var t=this;this.viagens=[],ea.buscarPorLocalidadeData(e,a).then(function(e){e.data.forEach(function(e){t.viagem=e,t.viagem.veiculo.numMod="".concat(t.viagem.veiculo.numero," ").concat(t.viagem.veiculo.modelo),t.viagem.data=t.moment(e.data).format("DD/MM/YYYY"),t.viagens.push(t.viagem)})})},listarAgendamentos:function(){var e=this;aa.buscaPorViagem(this.viagem.id).then(function(a){e.agendamentos=a.data})},listarLocalidades:function(){var e=this;ta.listar().then(function(a){e.localidades=a.data})},listarLocais:function(){var e=this;oa.listarPorLocalidade(this.localidade).then(function(a){e.locais=a.data})},listarEspecialidades:function(){var e=this;sa.listar().then(function(a){e.especialidades=a.data})},listarCids:function(){var e=this;ia.listarPorEspecialidade(this.agendamento.especialidade_id).then(function(a){e.cids=a.data})},listarPacientes:function(){var e=this;Me.listar().then(function(a){e.pacientes=a.data})},listarProcedimentos:function(){var e=this;ra.listar().then(function(a){e.procedimentos=a.data})},agendarPaciente:function(){this.errors.clear(),"Agendada"==this.viagem.status?(null==this.dataAgendamento&&this.errors.add({field:"data",msg:"Não foi informado a data"}),0==this.viagens.length&&this.errors.add({field:"viagem",msg:"Não há viagens para a data selecionada"}),null==this.localidade&&this.errors.add({field:"localidade",msg:"A localidade deve ser informada"}),null==this.agendamento.viagem_id&&this.errors.add({field:"viagem",msg:"Não foi selecionada nenhuma viagem"}),0==this.vagos&&this.errors.add({field:"viagem",msg:"Não há vagas na viagem selecionada"}),0==this.errors.items.length&&(this.viagem.localidade_id=this.localidade,this.dialog=!0)):(this.alertS=!1,this.alertE=!0,this.message="Viagem já foi realizada ou ja passou a data de realização ")},limparViagem:function(){this.viagem={id:null,data:null,horario:null,localidade_id:null,localidade:{nome:""},motorista_id:null,motorista:{nome:""},veiculo_id:null,veiculo:{numMod:null,capacidade:null}},this.agendamentos=[],this.ocupados=0,this.capacidade=0},limparAgendamento:function(){this.agendamento_id=0,this.agendamento.paciente_id=null,this.agendamento.data=null,this.agendamento.horario=null,this.agendamento.local_de_consulta_id=null,this.agendamento.especialidade_id=null,this.agendamento.cid_id=null,this.agendamento.procedimentos=[],this.agendamento.acompanhante="",this.temAgendamento=!1,this.errors.clear()},salvar:function(){var e=this,a=!0;this.$validator.validate().then(function(t){if(null!=e.agendamento.horario){var o=e.moment(e.agendamento.horario,"HH:mm").format("HH:mm"),i=e.moment(e.viagem.horario,"HH:mm:ss").format("HH:mm");e.moment(o,"HH:mm").isBefore(e.moment(i,"HH:mm"))&&(a=!1,e.errors.add({field:"horario",msg:"O horário informado é inferior ao horário da viagem"}))}e.temAgendamento&&(a=!1,e.errors.add({field:"paciente_id",msg:"Já existe agendamento para o paciente na data informada"})),0==e.vagos&&(console.log("temAcompanhante:: ",e.temAcompanhante),(!e.temAcompanhante&&null!=e.agendamento.acompanhante||""!=e.agendamento.acompanhante)&&(a=!1,e.errors.add({field:"acompanhante",msg:"Não há mais vagas na viagem selecionada"}))),t&&a&&(0==e.agendamento_id?aa.salvar(e.agendamento).then(function(a){var t=0;""!=e.agendamento.acompanhante&&(t=1),e.limparAgendamento(),e.listarAgendamentos(),e.dialog=!1,e.ocupados=e.ocupados+1+t,e.vagos=e.capacidade-e.ocupados,e.message="Agendamento realizado com sucesso",e.alertS=!0}):(e.listarAgendamentos(),e.agendamento.procedimentos[0].id&&(e.agendamento.procedimentos=e.agendamento.procedimentos.map(function(e){return e.id})),aa.alterar(e.agendamento).then(function(a){e.dialog=!1;var t=0;!e.temAcompanhante&&null!=e.agendamento.acompanhante||""!=e.agendamento.acompanhante?t=1:(e.temAcompanhante&&null==e.agendamento.acompanhante||""==e.agendamento.acompanhante)&&(t=-1),e.ocupados=e.ocupados+t,e.vagos=e.capacidade-e.ocupados,e.limparAgendamento(),e.listarAgendamentos(),e.message="Agendamento alterado com sucesso",e.alertS=!0})),e.alterar=!1)})},editar:function(e){this.agendamento=e,this.agendamento_id=e.id,this.alterar=!0,this.agendamento.acompanhante&&(this.temAcompanhante=!0),this.dialog=!0},messageDelete:function(e){this.agendamento=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;aa.deletar(this.agendamento).then(function(a){if(a.data){e.alertS=!0,e.message="Agendamento deletado com sucesso";var t=0;null!=e.agendamento.acompanhante&&(t=1),e.ocupados=e.ocupados-1-t,e.vagos=e.capacidade-e.ocupados,e.listarAgendamentos(),e.dialogConfirmDelete=!1,e.limparAgendamento()}})},cancelar:function(){this.dialog=!1,this.alterar=!1,this.limparAgendamento(),this.listarAgendamentos()}}},pa=va,fa=t("c6a6"),ga=t("cc20"),ha=t("ce7e"),_a=t("c954"),ba=t("c964"),xa=Object(b["a"])(pa,Xe,Ze,!1,null,null,null),qa=xa.exports;q()(xa,{VAlert:ge["a"],VAutocomplete:fa["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VChip:ga["a"],VContainer:le["a"],VDataTable:_e["a"],VDatePicker:Ue["a"],VDialog:de["a"],VDivider:ha["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VListTileAvatar:_a["a"],VListTileContent:w["a"],VListTileSubTitle:w["b"],VListTileTitle:w["c"],VMenu:Y["a"],VSpacer:P["a"],VTextField:ke["a"],VTimePicker:ba["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var ka=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Agendamentos\n    ")]),t("v-spacer"),t("v-btn",{staticClass:"mb-2",attrs:{dark:"",flat:"",icon:"",outline:"",color:"primary",to:"/agendamentos/agendar-pacientes"}},[t("v-icon",[e._v("add")])],1)],1),[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.agendamentos,flat:""},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.paciente.nome)+" - "+e._s(a.item.paciente.celular)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.viagem.data)+" - "+e._s(a.item.horario)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.especialidade.nome)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.localDeConsulta.nome)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.detalhes(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  view_list\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],[t("v-dialog",{attrs:{"max-width":"55%",persistent:"",transition:"dialog-transition"},model:{value:e.dialogDetalhes,callback:function(a){e.dialogDetalhes=a},expression:"dialogDetalhes"}},[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Detalhes Agendamento\n        ")])],1),t("v-card",{attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{staticClass:"box-form",attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"data",label:"Data"},model:{value:e.agendamento.data,callback:function(a){e.$set(e.agendamento,"data",a)},expression:"agendamento.data"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"horario",label:"Horário"},model:{value:e.agendamento.horario,callback:function(a){e.$set(e.agendamento,"horario",a)},expression:"agendamento.horario"}})],1),t("v-flex",{attrs:{xs12:"",md8:""}},[t("v-text-field",{attrs:{name:"localidade",label:"Localidade"},model:{value:e.agendamento.viagem.localidade.nome,callback:function(a){e.$set(e.agendamento.viagem.localidade,"nome",a)},expression:"agendamento.viagem.localidade.nome"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"veiculo",label:"Veículo"},model:{value:e.agendamento.viagem.veiculo.numMod,callback:function(a){e.$set(e.agendamento.viagem.veiculo,"numMod",a)},expression:"agendamento.viagem.veiculo.numMod"}})],1),t("v-flex",{attrs:{xs10:"",md9:""}},[t("v-text-field",{attrs:{name:"motorista",label:"Motorista"},model:{value:e.agendamento.viagem.motorista.nome,callback:function(a){e.$set(e.agendamento.viagem.motorista,"nome",a)},expression:"agendamento.viagem.motorista.nome"}})],1),t("v-flex",{attrs:{xs2:"",md3:""}},[t("v-text-field",{attrs:{name:"motoristaCelular",label:"Celular"},model:{value:e.agendamento.viagem.motorista.celular,callback:function(a){e.$set(e.agendamento.viagem.motorista,"celular",a)},expression:"agendamento.viagem.motorista.celular"}})],1),t("v-flex",{attrs:{xs10:"",md9:""}},[t("v-text-field",{attrs:{name:"paciente",label:"Paciente"},model:{value:e.agendamento.paciente.nome,callback:function(a){e.$set(e.agendamento.paciente,"nome",a)},expression:"agendamento.paciente.nome"}})],1),t("v-flex",{attrs:{xs2:"",md3:""}},[t("v-text-field",{attrs:{name:"pacienteCelular",label:"Celular"},model:{value:e.agendamento.paciente.celular,callback:function(a){e.$set(e.agendamento.paciente,"celular",a)},expression:"agendamento.paciente.celular"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"localDeConsulta",label:"Local de consulta"},model:{value:e.agendamento.localDeConsulta.nome,callback:function(a){e.$set(e.agendamento.localDeConsulta,"nome",a)},expression:"agendamento.localDeConsulta.nome"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{attrs:{name:"especialidade",label:"Especialidade"},model:{value:e.agendamento.especialidade.nome,callback:function(a){e.$set(e.agendamento.especialidade,"nome",a)},expression:"agendamento.especialidade.nome"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{attrs:{name:"cid",label:"Cid 10"},model:{value:e.agendamento.cid.nome,callback:function(a){e.$set(e.agendamento.cid,"nome",a)},expression:"agendamento.cid.nome"}})],1),t("v-flex",{attrs:{xs12:""}},[t("label",[e._v(" Procedimentos")]),t("br"),e._l(e.agendamento.procedimentos,function(a){return t("v-chip",{key:a.id,attrs:{outline:"",color:"primary"}},[e._v("\n                "+e._s(a.nome)+"\n              ")])})],2),t("br"),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"red",outline:"",flat:""},on:{click:function(a){e.dialogDetalhes=!1}}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)]],2)},Va=[],Ca=(t("3022"),{data:function(){return{search:"",dialogDetalhes:!1,agendamento:{id:null,paciente_id:null,paciente:{nome:"",celular:""},data:null,horario:null,local_de_consulta_id:null,localDeConsulta:{nome:""},especialidade_id:null,especialidade:{nome:""},cid_id:null,cid:{nome:""},procedimentos:[],viagem_id:null,viagem:{data:null,motorista:{nome:"",celular:""},localidade:{nome:""},veiculo:{numMod:""}},viagemVeiculo:null},headers:[{text:"Paciente - Celular",value:"nome"},{text:"Data - Horário",value:"data"},{text:"Especialidade",value:"nome"},{text:"Local de consulta",value:"nome"}],agendamentos:[]}},mounted:function(){this.listarAgendamentos()},methods:{listarAgendamentos:function(){var e=this;aa.listar().then(function(a){e.agendamentos=a.data.map(function(a){var t=a;return t.paciente.celular="(".concat(t.paciente.celular.substr(0,2),") ").concat(t.paciente.celular.substr(2,5)," - ").concat(t.paciente.celular.substr(7)),t.viagem.data=e.moment(t.viagem.data).format("DD/MM/YYYY"),t})})},detalhes:function(e){this.agendamento=e,console.log(e.id,":::",e.procedimentos),this.agendamento.paciente.celular="(".concat(e.paciente.celular.substr(0,2),")").concat(e.paciente.celular.substr(2,5),"-").concat(e.paciente.celular.substr(7,11)),this.agendamento.viagem.veiculo.numMod="".concat(e.viagem.veiculo.numero," - ").concat(e.viagem.veiculo.modelo," - ").concat(e.viagem.veiculo.capacidade," "),this.agendamento.viagem.motorista.ceular="(".concat(e.viagem.motorista.celular.substr(0,2),")").concat(e.viagem.motorista.celular.substr(2,5),"-").concat(e.viagem.motorista.celular.substr(7,11)),this.agendamento.viagem.data=this.moment(this.agendamento.viagem.data,"YYYY-MM-DD").format(["DD/MM/YYYY"]),this.agendamento.viagem.horario=this.moment(this.agendamento.viagem.horario,"HH:mm:ss").format("HH:mm"),this.dialogDetalhes=!0,console.log(this.agendamento)},messageDelete:function(e){this.agendamento=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;aa.deletar(this.agendamento).then(function(a){a.data&&(e.alertS=!0,e.message="Agendamento deletado com sucesso",e.oucupados=e.oucupados-1,e.vagos=e.capacidade-e.oucupados,e.listarAgendamentos(),e.dialogConfirmDelete=!1,e.limparAgendamento())})}}}),ya=Ca,Da=Object(b["a"])(ya,ka,Va,!1,null,null,null),Ma=Da.exports;q()(Da,{VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VCardTitle:he["a"],VChip:ga["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var wa=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{staticClass:"success",attrs:{transition:"scale-transition",origin:"center center",type:"success",dismissible:"",dark:""},model:{value:e.alertS,callback:function(a){e.alertS=a},expression:"alertS"}},[e._v("\n    "+e._s(e.messageS)+"\n  ")]),t("v-alert",{staticClass:"error",attrs:{transition:"scale-transition",origin:"center center",type:"error",dismissible:"",dark:""},model:{value:e.alertE,callback:function(a){e.alertE=a},expression:"alertE"}},[e._v("\n    "+e._s(e.messageE)+"\n  ")]),t("v-layout",[t("v-spacer"),t("v-btn",{attrs:{color:"black",flat:"",outline:"",to:"/viagens/emergencia"}},[t("v-icon",[e._v("report")]),e._v("Emergência\n    ")],1),t("v-btn",{attrs:{color:"black",flat:"",outline:"",to:"/viagens/fixa"}},[t("v-icon",[e._v("access_time")]),e._v("Fixa\n    ")],1)],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Viagens\n    ")]),t("v-spacer")],1),[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.viagens,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",["Emergencia"==a.item.tipo?t("v-icon",[e._v("\n                report\n              ")]):e._e(),"Fixa"==a.item.tipo?t("v-icon",[e._v("\n                history\n              ")]):e._e()],1),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(e.moment(a.item.data).format("DD/MM/YYYY"))+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.horario)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.localidade.nome)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.motorista.nome)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.status)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.detalhes(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  list_alt\n                ")])],1),"Agendada"==a.item.status?t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1):t("v-btn",{attrs:{small:"",outline:"",icon:"",disabled:""}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar esta viagem?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){e.dialogConfirmDelete=!1}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-dialog",{attrs:{"max-width":"55%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Detalhes viagem\n        ")])],1),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"warning",type:"warning",dismissible:"",dark:""},model:{value:e.alertWV,callback:function(a){e.alertWV=a},expression:"alertWV"}},[e._v("\n            "+e._s(e.messageWV)+"\n          ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertEV,callback:function(a){e.alertEV=a},expression:"alertEV"}},[e._v("\n            "+e._s(e.messageEV)+"\n          ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"warning",type:"warning",dismissible:"",dark:""},model:{value:e.alertWM,callback:function(a){e.alertWM=a},expression:"alertWM"}},[e._v("\n            "+e._s(e.messageWM)+"\n          ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertEM,callback:function(a){e.alertEM=a},expression:"alertEM"}},[e._v("\n            "+e._s(e.messageEM)+"\n          ")]),t("v-layout",{staticClass:"box-form",attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"data",label:"Data"},model:{value:e.viagem.data,callback:function(a){e.$set(e.viagem,"data",a)},expression:"viagem.data"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"horario",label:"Horário"},model:{value:e.viagem.horario,callback:function(a){e.$set(e.viagem,"horario",a)},expression:"viagem.horario"}})],1),t("v-flex",{attrs:{xs12:"",md8:""}},[t("v-text-field",{attrs:{name:"localidade",label:"Localidade"},model:{value:e.viagem.localidade.nome,callback:function(a){e.$set(e.viagem.localidade,"nome",a)},expression:"viagem.localidade.nome"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"veiculo",label:"Veículo"},model:{value:e.viagemVeiculo,callback:function(a){e.viagemVeiculo=a},expression:"viagemVeiculo"}})],1),t("v-flex",{attrs:{xs10:"",md9:""}},[t("v-text-field",{attrs:{name:"motorista",label:"Motorista"},model:{value:e.viagem.motorista.nome,callback:function(a){e.$set(e.viagem.motorista,"nome",a)},expression:"viagem.motorista.nome"}})],1),t("v-flex",{attrs:{xs2:"",md3:""}},[t("v-text-field",{attrs:{name:"motoristaCelular",label:"Celular"},model:{value:e.motoristaCelular,callback:function(a){e.motoristaCelular=a},expression:"motoristaCelular"}})],1),"Emergencia"==e.viagem.tipo?[t("v-flex",{attrs:{xs10:"",md9:""}},[t("v-text-field",{attrs:{name:"paciente",label:"Paciente"},model:{value:e.agendamento.paciente.nome,callback:function(a){e.$set(e.agendamento.paciente,"nome",a)},expression:"agendamento.paciente.nome"}})],1),t("v-flex",{attrs:{xs2:"",md3:""}},[t("v-text-field",{attrs:{name:"pacienteCelular",label:"Celular"},model:{value:e.pacienteCelular,callback:function(a){e.pacienteCelular=a},expression:"pacienteCelular"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"localDeConsulta",label:"Local de consulta"},model:{value:e.agendamento.local_de_consulta.nome,callback:function(a){e.$set(e.agendamento.local_de_consulta,"nome",a)},expression:"agendamento.local_de_consulta.nome"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{attrs:{name:"especialidade",label:"Especialidade"},model:{value:e.agendamento.especialidade.nome,callback:function(a){e.$set(e.agendamento.especialidade,"nome",a)},expression:"agendamento.especialidade.nome"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{attrs:{name:"cid",label:"Cid 10"},model:{value:e.agendamento.cid.nome,callback:function(a){e.$set(e.agendamento.cid,"nome",a)},expression:"agendamento.cid.nome"}})],1),t("v-flex",{attrs:{xs12:""}},[t("label",[e._v(" Procedimentos")]),t("br"),e._l(e.agendamento.procedimentos,function(a){return t("v-chip",{key:a.id,attrs:{outline:"",color:"primary"}},[e._v("\n                  "+e._s(a.nome)+"\n                ")])})],2)]:e._e()],2),e.alterar?[t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{attrs:{name:"motorista_id",label:"Motorista","data-vv-name":"motorista_id","error-messages":e.errors.first("motorista_id"),items:e.motoristas,"item-text":"nome","item-value":"id"},model:{value:e.viagem.motorista_id,callback:function(a){e.$set(e.viagem,"motorista_id",a)},expression:"viagem.motorista_id"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{attrs:{name:"veiculo_id",label:"Veículo","data-vv-name":"veiculo_id","error-messages":e.errors.first("veiculo_id"),items:e.veiculos,"item-text":"numModCap","item-value":"id",hint:"número - modelo - capacidade"},model:{value:e.viagem.veiculo_id,callback:function(a){e.$set(e.viagem,"veiculo_id",a)},expression:"viagem.veiculo_id"}})],1)]:e._e(),t("br"),t("v-flex",{attrs:{xs12:""}},["Fixa"==e.viagem.tipo&&"Agendada"==e.viagem.status?[e.alterar?e._e():t("v-btn",{attrs:{color:"primary",outline:"",flat:""},on:{click:e.ativaAlterar}},[e._v("\n                Alterar\n              ")]),e.alterar?t("v-btn",{attrs:{color:"primary",outline:"",flat:""},on:{click:e.salvarFixa}},[e._v("\n                Salvar\n              ")]):e._e()]:e._e(),"Emergencia"==e.viagem.tipo&&"Agendada"==e.viagem.status?t("v-btn",{attrs:{color:"primary",outline:"",flat:"",to:"/viagens/emergencia/"+e.viagem.id}},[e._v("\n              Editar\n            ")]):e._e(),"Agendada"==e.viagem.status?t("v-btn",{attrs:{color:"black",outline:"",flat:""},on:{click:function(a){return e.messageDelete(e.viagem)}}},[e._v("\n              Deletar\n            ")]):e._e(),t("v-btn",{attrs:{color:"red",outline:"",flat:""},on:{click:e.cancelar}},[e._v("\n              Cancelar\n            ")])],2)],2)],1)],1)]],2)},Ya=[],Sa={data:function(){return{validE:!0,validW:!0,dialog:!1,dialogConfirmDelete:!1,alertE:!1,alertS:!1,alterar:!1,alertEV:!1,alertWV:!1,alertEM:!1,alertWM:!1,messageEV:"",messageWV:"",messageEM:"",messageWM:"",messageE:"",messageS:"",search:"",headers:[{},{text:"Data",value:"data"},{text:"Horário",value:"horario"},{text:"Localidade",value:"localidade"},{text:"Motorista",value:"motorista"},{text:"Status",value:"status"}],veiculo:{id:null,numModCap:null},viagem:{id:null,data:null,horario:null,localidade:{nome:""},motorista:{nome:"",celular:""},motorista_id:null,veiculo:{nome:"",capacidade:null},veiculo_id:null,tipo:null,agendamentos:[]},viagemVeiculo:"",motoristaCelular:null,agendamento:{id:null,paciente:{nome:""},paciente_id:null,local_de_consulta:{nome:""},local_de_consulta_id:null,especialidade:{nome:""},especialidade_id:null,cid:{nome:""},cid_id:null,procedimentos:[]},pacienteCelular:null,veiculos:[],motoristas:[],viagens:[]}},watch:{"viagem.veiculo_id":function(){this.buscarPorVeiculoPeriodo()},"viagem.motorista_id":function(){this.buscarPorMotoristaPeriodo()}},mounted:function(){this.listarViagens()},methods:{buscarPorVeiculoPeriodo:function(){var e=this;if(null!=this.viagem.veiculo_id){this.alertE=!1;var a=this.moment(this.viagem.data,"DD/MM/YYYY").format("YYYY-MM-DD");ea.buscarPorVeiculoPeriodo(a,a,this.viagem.veiculo_id,null,this.viagem.id).then(function(a){if(a.data.length>0){var t=a.data.filter(function(a){return!e.moment(e.viagem.horario,"hours").isAfter(e.moment(a.horario,"hours").add(6,"hours"))&&!e.moment(e.viagem.horario,"hours").isBefore(e.moment(a.horario,"hours").subtract(6,"hours"))});t.length>0?(e.listaViagens=[],e.alertWV=!1,e.alertEV=!0,e.validE=!1,e.messageEV="Existem viagens para o veículo no periodo informado"):(e.alertEV=!1,e.alertWV=!0,e.validW=!1,e.messageWV="Existem viagens para o veículo no periodo informado, porém o horário informado difere de 6 horas do horário dessas viagens")}else e.validE=!0,e.validW=!0,e.alertEV=!1,e.alertWV=!1})}},buscarPorMotoristaPeriodo:function(){var e=this;if(null!=this.viagem.motorista_id){this.alertE=!1;var a=this.moment(this.viagem.data,"DD/MM/YYYY").format("YYYY-MM-DD");ea.buscarPorMotoristaPeriodo(a,a,this.viagem.motorista_id,null,this.viagem.id).then(function(a){if(a.data.length>0){var t=a.data.filter(function(a){return!e.moment(e.viagem.horario,"hours").isAfter(e.moment(a.horario,"hours").add(6,"hours"))&&!e.moment(e.viagem.horario,"hours").isBefore(e.moment(a.horario,"hours").subtract(6,"hours"))});t.length>0?(e.listaViagens=[],e.alertWM=!1,e.alertEM=!0,e.validE=!1,e.messageEM="Existem viagens para o motorista no periodo informado"):(e.alertEM=!1,e.alertWM=!0,e.validW=!1,e.messageWM="Existem viagens para o motorista no periodo informado, porém o horário informado difere de 6 horas do horário dessas viagens")}else e.validE=!0,e.validW=!0,e.alertEM=!1,e.alertWM=!1})}},listarViagens:function(){var e=this;ea.listar().then(function(a){e.viagens=a.data})},listarVeiculos:function(){var e=this;Z.listar().then(function(a){a.data.forEach(function(a){e.veiculo={id:a.id,numModCap:"".concat(a.numero," - ").concat(a.modelo," - ").concat(a.capacidade," ")},e.veiculos.push(e.veiculo)})})},listarMotoristas:function(){var e=this;Ie.listar().then(function(a){e.motoristas=a.data.filter(function(a){return a.nome!==e.motorista})})},limpar:function(){this.alertS=!1,this.alertE=!1,this.dialogConfirmDelete=!1,this.dialog=!1,this.alterar=!1,this.messageS="",this.messageE="",this.viagem={id:null,data:null,horario:null,localidade:{nome:""},motorista:{nome:"",celular:""},motorista_id:null,veiculo:{nome:""},veiculo_id:null,tipo:null},this.agendamento={id:null,paciente:{nome:""},paciente_id:null,local_de_consulta:{nome:""},local_de_consulta_id:null,especialidade:{nome:""},especialidade_id:null,cid:{nome:""},cid_id:null,procedimentos:[]},this.listarViagens()},ativaAlterar:function(){this.alterar=!this.alterar},detalhes:function(e){var a=this;this.viagem=e,"Andamento"!==e.status&&"Realizada"!==e.status&&"Não Realizada"!==e.status||(this.alterar=!1),"Emergencia"===e.tipo&&aa.buscaPorViagem(e.id).then(function(e){a.agendamento.id=e.data[0].id,a.agendamento.paciente=e.data[0].paciente,a.pacienteCelular="(".concat(e.data[0].paciente.celular.substr(0,2),")").concat(e.data[0].paciente.celular.substr(2,5),"-").concat(e.data[0].paciente.celular.substr(7,11)),a.agendamento.paciente_id=e.data[0].paciente_id,a.agendamento.local_de_consulta=e.data[0].localDeConsulta,a.agendamento.local_de_consulta_id=e.data[0].local_de_consulta_id,a.agendamento.especialidade=e.data[0].especialidade,a.agendamento.especialidade_id=e.data[0].especialidade_id,a.agendamento.cid=e.data[0].cid,a.agendamento.cid_id=e.data[0].cid_id,a.agendamento.procedimentos=e.data[0].procedimentos}),this.viagemVeiculo="".concat(e.veiculo.numero," - ").concat(e.veiculo.modelo," - ").concat(e.veiculo.capacidade," "),this.motoristaCelular="(".concat(e.motorista.celular.substr(0,2),")").concat(e.motorista.celular.substr(2,5),"-").concat(e.motorista.celular.substr(7,11)),this.viagem.data=this.moment(this.viagem.data,"YYYY-MM-DD").format(["DD/MM/YYYY"]),this.viagem.horario=this.moment(this.viagem.horario,"HH:mm:ss").format("HH:mm"),this.listarMotoristas(),this.listarVeiculos(),this.dialog=!0},salvarFixa:function(){var e=this;null!=this.viagem.veiculo_id||null!=this.viagem.motorista_id?(aa.buscaPorViagem(this.viagem.id).then(function(a){e.viagem.veiculo.capacidade<a.data.length?(e.validE=!1,e.errors.add({field:"veiculo_id",msg:"Veiculo informado possui capacidade inferior a quantidade de agendamentos"})):e.validE=!0}),this.validE&&(this.viagem.data=this.moment(this.viagem.data,"DD/MM/YYYY").format("YYYY-MM-DD"),ea.alterar(this.viagem).then(function(a){e.messageS="Viagem alterada com sucesso",e.listarViagens(),e.limpar()}).catch(function(a){a.length>0&&e.errors.add({field:a.field,msg:a.message})}))):this.dialog=!1},messageDelete:function(e){var a=this;this.auxViagem=e,"Emergencia"==e.tipo&&aa.buscaPorViagem(e.id).then(function(e){e.data.length>0&&(a.agendamento.id=e.data[0].id)}),this.dialogConfirmDelete=!0},deletar:function(){var e=this;"Agendada"===this.auxViagem.status?"Emergencia"===this.auxViagem.tipo?aa.deletar(this.agendamento).then(function(a){ea.deletar(e.auxViagem).then(function(){e.limpar(),e.alertS=!0,e.messageS="Viagem deletada com sucesso",e.listarViagens()})}):ea.deletar(this.auxViagem).then(function(a){a.data?(e.limpar(),e.alertS=!0,e.messageS="Viagem deletada com sucesso",e.listarViagens()):(e.dialogConfirmDelete=!1,e.alertE=!0,e.messageE="Não é possivel deletar, pois existem agendamentos vinculados a está viagem")}):(this.dialogConfirmDelete=!1,this.alertE=!0,this.messageE="Não é possivel deletar, pois viagem se encontra em andamento ou já foi realizada")},cancelar:function(){this.limpar()}}},Pa=Sa,Ea=(t("92e1"),Object(b["a"])(Pa,wa,Ya,!1,null,null,null)),ja=Ea.exports;q()(Ea,{VAlert:ge["a"],VAutocomplete:fa["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VChip:ga["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Aa=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"warning",type:"warning",dismissible:"",dark:""},model:{value:e.alertWV,callback:function(a){e.alertWV=a},expression:"alertWV"}},[e._v("\n    "+e._s(e.messageWV)+"\n  ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertEV,callback:function(a){e.alertEV=a},expression:"alertEV"}},[e._v("\n    "+e._s(e.messageEV)+"\n  ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"warning",type:"warning",dismissible:"",dark:""},model:{value:e.alertWM,callback:function(a){e.alertWM=a},expression:"alertWM"}},[e._v("\n    "+e._s(e.messageWM)+"\n  ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertEM,callback:function(a){e.alertEM=a},expression:"alertEM"}},[e._v("\n    "+e._s(e.messageEM)+"\n  ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alertS,callback:function(a){e.alertS=a},expression:"alertS"}},[e._v("\n    "+e._s(e.messageS)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Agendamento de Viagens de Emergencia\n    ")])],1),t("v-card",{staticClass:"pa-3",attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.dataAtual,expression:"dataAtual"}],ref:"dataAtual",attrs:{type:"text",hidden:""},domProps:{value:e.dataAtual},on:{input:function(a){a.target.composing||(e.dataAtual=a.target.value)}}}),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menu,callback:function(a){e.menu=a},expression:"menu"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|after:dataAtual|date_format:DD/MM/YYYY",expression:"'required|after:dataAtual|date_format:DD/MM/YYYY'"}],attrs:{slot:"activator","data-vv-name":"data",name:"data","error-messages":e.errors.first("data"),label:"* Data","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.dataFormated,callback:function(a){e.dataFormated=a},expression:"dataFormated"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"data"},on:{input:function(a){e.menu=!1}},model:{value:e.viagem.data,callback:function(a){e.$set(e.viagem,"data",a)},expression:"viagem.data"}})],1)],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.viagem.horario,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.viagem,"horario",a)},"update:return-value":function(a){return e.$set(e.viagem,"horario",a)}},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t("v-text-field",e._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"horario","data-vv-name":"horario",label:"* Horário","prepend-icon":"access_time","error-messages":e.errors.first("horario"),readonly:""},model:{value:e.viagem.horario,callback:function(a){e.$set(e.viagem,"horario",a)},expression:"viagem.horario"}},o))]}}]),model:{value:e.menu2,callback:function(a){e.menu2=a},expression:"menu2"}},[e.menu2?t("v-time-picker",{attrs:{format:"24hr","data-vv-name":"horario","full-width":""},on:{"click:minute":function(a){return e.$refs.menu.save(e.viagem.horario)}},model:{value:e.viagem.horario,callback:function(a){e.$set(e.viagem,"horario",a)},expression:"viagem.horario"}}):e._e()],1)],1),t("v-flex",{attrs:{xs12:"",md7:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"paciente_id",name:"paciente_id",label:"* Paciente",items:e.pacientes,"item-text":"nome","item-value":"id","error-messages":e.errors.first("paciente_id")},model:{value:e.agendamento.paciente_id,callback:function(a){e.$set(e.agendamento,"paciente_id",a)},expression:"agendamento.paciente_id"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"veiculo_id",name:"veiculo_id",label:"* Veículo",items:e.veiculos,"item-text":"numModCap","item-value":"id","error-messages":e.errors.first("veiculo_id")},model:{value:e.viagem.veiculo_id,callback:function(a){e.$set(e.viagem,"veiculo_id",a)},expression:"viagem.veiculo_id"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"motorista_id",name:"motorista_id",label:"* Motorista",items:e.motoristas,"item-text":"nome","item-value":"id","error-messages":e.errors.first("motorista_id")},model:{value:e.viagem.motorista_id,callback:function(a){e.$set(e.viagem,"motorista_id",a)},expression:"viagem.motorista_id"}})],1),t("v-flex",{attrs:{xs12:"",md5:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"localidade_id",name:"localidade_id",label:"* Localidade",items:e.localidades,"item-text":"nome","item-value":"id","error-messages":e.errors.first("localidade_id")},model:{value:e.viagem.localidade_id,callback:function(a){e.$set(e.viagem,"localidade_id",a)},expression:"viagem.localidade_id"}})],1),t("v-flex",{attrs:{xs12:"",md7:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"local_de_consulta_id",name:"local_de_consulta_id",items:e.locais,label:"* Local de consulta","item-text":"nome","item-value":"id","error-messages":e.errors.first("local_de_consulta_id")},model:{value:e.agendamento.local_de_consulta_id,callback:function(a){e.$set(e.agendamento,"local_de_consulta_id",a)},expression:"agendamento.local_de_consulta_id"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"especialidade_id",name:"especialidade_id",items:e.especialidades,"item-text":"nome","item-value":"id",label:"* Especialidade","error-messages":e.errors.first("especialidade_id")},model:{value:e.agendamento.especialidade_id,callback:function(a){e.$set(e.agendamento,"especialidade_id",a)},expression:"agendamento.especialidade_id"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"cid_id",name:"cid_id",items:e.cids,"item-text":"nome","item-value":"id",label:"* Cid10","error-messages":e.errors.first("cid_id")},model:{value:e.agendamento.cid_id,callback:function(a){e.$set(e.agendamento,"cid_id",a)},expression:"agendamento.cid_id"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"procedimentos",name:"procedimentos",items:e.listaProcedimentos,chips:"",color:"blue-grey lighten-2",label:"* Procedimentos","item-text":"nome","item-value":"id","error-messages":e.errors.first("procedimentos"),multiple:""},scopedSlots:e._u([{key:"selection",fn:function(a){return[t("v-chip",{staticClass:"chip--select-multi",attrs:{selected:a.selected,close:""},on:{input:function(e){return a.parent.selectItem(a.item)}}},[e._v("\n                "+e._s(a.item.nome)+"\n              ")])]}},{key:"item",fn:function(a){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:e._s(a.item.nome)}})],1)]]}}]),model:{value:e.agendamento.procedimentos,callback:function(a){e.$set(e.agendamento,"procedimentos",a)},expression:"agendamento.procedimentos"}})],1),t("v-flex",{attrs:{xs12:""}},[e.altera?e._e():t("v-btn",{attrs:{color:"blue darken-1",outline:"",dark:""},on:{click:e.salvar}},[e._v("\n            Salvar\n          ")]),e.altera?e._e():t("v-btn",{attrs:{color:"red darken-1",outline:"",dark:""},on:{click:e.cancelar}},[e._v("\n            Cancelar\n          ")]),t("v-btn",{attrs:{color:"grey darken-1",outline:"",dark:"",to:"/viagens"}},[e._v("\n            Listar\n          ")])],1)],1)],1)],1),t("help-emergencia")],1)},Ta=[],$a=(t("3b2b"),t("795b")),Fa=t.n($a),Ha=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar bloqueio e desbloqueio de veículos\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("1652")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[e._v("\n                            "+e._s(a.observacao)+"\n                          ")]):o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal3}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  lock_open\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("c8f6")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{column:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("strong",[e._v(e._s(a.titulo))]),e._l(a.itens,function(a){return[o("div",{key:a.id},[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.solucao?[o("br"),o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                            ")]:e._e(),a.observacao?o("strong",[e._v("Observação: ")]):e._e(),e._v(e._s(a.observacao)+"\n                          ")],2)]})],2)],1)],1)]})],2)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog3,callback:function(a){e.dialog3=a},expression:"dialog3"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("f146")}}),e._l(e.arrHelp3,function(a){return[o("v-container",{key:a.titulo,attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{column:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("strong",[e._v(e._s(a.titulo))]),e._l(a.itens,function(a){return[o("div",{key:a.id},[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.solucao?[o("br"),o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                            ")]:e._e(),a.observacao?o("strong",[e._v("Observação: ")]):e._e(),e._v(e._s(a.observacao)+"\n                          ")],2)]})],2)],1)],1)]})],2)],1)],1)]],2)],1)]],2)},za=[],Ia={data:function(){return{dialog2:!1,dialog3:!1,arrHelp:[{titulo:"Para bloquear",itens:[{id:1,descricao:'Clique no botao "Registrar bloqueio de veículo"',descricao2:"aguarde a tela para registrar o veículo abrir",btn1:!0}]},{titulo:"Para desbloquear",itens:[{id:1,descricao:"Busque pelo veículo que gostaria de realizar o desbloqueio"},{id:2,descricao:"Clique no botão desbloquear referente ao veículo que deseja realizar o desbloqueio, ",btn2:!0,descricao2:"e aguarde pela tela de desbloqueio"}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo bloqueio que deseje deletar"},{id:2,descricao:"Após listar os agendamentos referentes a viagem selecionada, procure pelo o agendamento (paciente) que deseja excluir"},{id:3,descricao:"Clique no botão deletar referente ao agendamento que deseja realizar a exclusão, aguarde pela mensagem de confirmação",foto:!0}]},{titulo:"Para pesquisar pelo veiculo bloqueado: ",itens:[{id:1,descricao:"Realize os 3 primeiros passos realizados para inserir um agendamento"},{id:2,descricao:"Após listar os agendamentos referentes a viagem selecionada, procure pelo o agendamento (paciente) em questão"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Veiculo possui viagens agendadas, reagende outro veículo no lugar deste primeiro",solucao:"Agende outro veículo para a viagem na qual o veículo que deseja bloquear está vinculado"},{id:2,descricao:"A data de previsão de retorno deve ser igual ou posterior a data de bloqueio",solucao:"Informar uma data superior ou igual a data de bloqueio"},{id:3,descricao:"Quilometragem inferior a quilometragem registrada atualmente",solucao:"Informar uma quilometragem válida, que seja superior a ultima quilometragem registrada do veículo"}]}],arrHelp2:[{titulo:"Para registrar bloqueio: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do bloqueio"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Veiculo possui viagens agendadas",solucao:"Agende outro veículo para a viagem na qual o veículo que deseja bloquear está vinculado"},{id:2,descricao:"A data de previsão de retorno deve ser igual ou posterior a data de bloqueio",solucao:"Informar uma data superior ou igual a data de bloqueio"},{id:3,descricao:"Quilometragem inferior a quilometragem registrada atualmente",solucao:"Informar uma quilometragem válida, que seja superior a ultima quilometragem registrada do veículo"},{id:4,descricao:"Veículo já se encontra bloqueado para manutenção",solucao:"Veículo só pode ter um bloqueio por vez"}]}],arrHelp3:[{titulo:"Para registrar desbloqueio: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do bloqueio"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"A quilometragem de retorno não foi informada corretamente",solucao:"A quilometragem deve ser superior a quilometragem na saída"},{id:2,descricao:"A data de retorno deve ser inferior ou igual a data atual",solucao:"Informar uma data inferior ou igual a data de bloqueio"}]}]}},methods:{openModal2:function(){this.dialog2=!0},openModal3:function(){this.dialog3=!0}}},Ba=Ia,Na=(t("4d98"),Object(b["a"])(Ba,Ha,za,!1,null,"299217ca",null)),La=Na.exports;q()(Na,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Oa={$_veeValidate:{validator:"new"},components:{HelpEmergencia:La},data:function(){return{altera:!1,menu:!1,menu2:!1,progress:!1,alertS:!1,alertEV:!1,alertWV:!1,alertEM:!1,alertWM:!1,messageS:"",messageEV:"",messageWV:"",messageEM:"",messageWM:"",dataAtual:null,veiculo:{id:null,numModCap:null},viagem_id:0,viagem:{data:null,horario:null,veiculo_id:null,localidade_id:null,motorista_id:null,tipo:"Emergencia",status:"Agendada"},agendamento_id:0,agendamento:{id:0,paciente_id:null,local_de_consulta_id:null,especialidade_id:null,cid_id:null,procedimentos:[],viagem_id:null},pacientes:[],veiculos:[],motoristas:[],localidades:[],locais:[],especialidades:[],cids:[],listaProcedimentos:[],dictionary:{custom:{horario:{is_time:"O horário foi informado está inválido",required:"O horário deve ser informado",min:"O horário não foi informado corretamente"},data:{required:"A data deve ser informada",after:"Data deve ser maior ou igual a data atual"},paciente_id:{required:"O paciente deve ser informado"},veiculo_id:{required:"O veículo deve ser informado"},motorista_id:{required:"O motorista deve ser informado"},localidade_id:{required:"O horário deve ser informado"},local_de_consulta_id:{required:"O local de consulta deve ser informado"},especialidade_id:{required:"O horário deve ser informado"},cid_id:{required:"O Cid10 deve ser informado"},procedimentos:{required:"O(s) procedimento(s) devem ser informado(s)"}}}}},computed:{dataFormated:function(){return null!=this.viagem.data?this.moment(this.viagem.data).format("DD/MM/YYYY"):null}},watch:{"agendamento.especialidade_id":function(){null!=this.agendamento.especialidade_id&&this.listarCids()},"viagem.localidade_id":function(){this.viagem.localidade_id&&this.listarLocais()},"agendamento.paciente_id":function(){var e=this;this.agendamento.paciente_id&&null!=this.viagem.data&&(this.agendamento.paciente_id=this.agendamento.paciente_id,this.agendamento.data=this.viagem.data,aa.buscaPorPaciente(this.agendamento.paciente_id,this.agendamento.data,this.agendamento.id).then(function(a){a.data.length>0&&e.errors.add({field:"paciente_id",msg:"Ja existe agendamento para o paciente na data informada"})}))},"viagem.motorista_id":function(){this.viagem.motorista_id&&this.buscarPorMotoristaPeriodo()},"viagem.veiculo_id":function(){this.viagem.veiculo_id&&this.buscarPorVeiculoPeriodo()},"viagem.horario":function(){this.viagem.horario.length>4&&(this.buscarPorVeiculoPeriodo(),this.buscarPorMotoristaPeriodo())},"viagem.data":function(){this.viagem.data&&(this.buscarPorVeiculoPeriodo(),this.buscarPorMotoristaPeriodo())}},created:function(){s["a"].extend("is_time",{getMessage:function(e){return"The format must be HH:MM"},validate:function(e){return new Fa.a(function(a){var t=new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$");a({valid:e&&t.test(e)})})}})},mounted:function(){var e=this;this.$validator.localize("en",this.dictionary),this.dataAtual=this.moment(this.moment().subtract(1,"days")).format("DD/MM/YYYY"),this.listarPacientes(),this.listarVeiculos(),this.listarMotoristas(),this.listarLocalidades(),this.listarEspecialidades(),this.listarProcedimentos(),this.viagem_id=this.$route.params.id,this.viagem_id?ea.show(this.viagem_id).then(function(a){if("Agendada"==a.data.status){var t=a.data.agendamentos[0];e.agendamento=t,e.viagem=a.data,e.agendamento_id=e.agendamento.id,e.viagem.horario=e.viagem.horario.substr(0,5),e.localidade_id=e.localidade_id,e.agendamento.especialidade_id=e.agendamento.especialidade_id,e.agendamento.procedimentos=e.agendamento.procedimentos.map(function(e){return e.id})}else e.alertEV=!0,e.altera=!0,e.messageEV="Viagem com status igual a ".concat(a.data.status,", não é possível alterar")}).catch(function(e){console.log(e)}):this.viagem_id=0},methods:{listarPacientes:function(){var e=this;Me.listar().then(function(a){e.pacientes=a.data})},listarVeiculos:function(){var e=this;Z.listar().then(function(a){a.data.forEach(function(a){"Sucateado"!=a.bloqueio_ativo&&"Manutenção"!=a.bloqueio_ativo&&"Venda"!=a.bloqueio_ativo&&(e.veiculo={id:a.id,numModCap:"".concat(a.numero," - ").concat(a.modelo," - ").concat(a.capacidade)},e.veiculos.push(e.veiculo))})})},listarMotoristas:function(){var e=this;Ie.listar().then(function(a){e.motoristas=a.data})},listarLocalidades:function(){var e=this;ta.listar().then(function(a){e.localidades=a.data})},listarLocais:function(){var e=this;oa.listarPorLocalidade(this.viagem.localidade_id).then(function(a){e.locais=a.data})},listarEspecialidades:function(){var e=this;sa.listar().then(function(a){e.especialidades=a.data})},listarCids:function(){var e=this;ia.listarPorEspecialidade(this.agendamento.especialidade_id).then(function(a){e.cids=a.data})},listarProcedimentos:function(){var e=this;ra.listar().then(function(a){e.listaProcedimentos=a.data})},validaHorarioViagem:function(e){var a,t=!0;if(!(e.length>1))return this.moment(this.viagem.horario).isAfter(this.moment(e[0].horario,"hours").add(6,"hours"));for(var o=0;o<e.length;o+=1){a=this.moment(e[o].horario,"hours").add(6,"hours");for(var i=1;i<e.length;i+=1){if(!this.moment(this.viagem.horario).isAfter(a)||!this.moment(this.viagem.horario).isAfter(e[i].horario))return!1;t=!0,a=this.moment(e[i].horario,"hours").add(6,"hours")}}return t},buscarPorVeiculoPeriodo:function(){var e=this;null!=this.viagem.veiculo_id&&(null!=this.viagem.horario?null!=this.viagem.data?ea.buscarPorVeiculoPeriodo(this.viagem.data,this.viagem.data,this.viagem.veiculo_id,null,this.viagem.id).then(function(a){if(a.data.length>0){var t=a.data.filter(function(a){return!e.moment(e.viagem.horario,"hours").isAfter(e.moment(a.horario,"hours").add(6,"hours"))&&!e.moment(e.viagem.horario,"hours").isBefore(e.moment(a.horario,"hours").subtract(6,"hours"))});t.length>0?(e.validEM=!1,e.alertWV=!1,e.alertEV=!0,e.messageEV="Existe viagem para o veículo na data informada"):(e.validEM=!0,e.alertEV=!1,e.alertWV=!0,e.messageWV="Existem viagem para o veículo na data informada, porém o horário informado difere de 6 horas do horário desta viagem")}else e.alertEV=!1,e.alertWV=!1}):this.errors.add({field:"data",msg:"A data deve ser informada"}):this.errors.add({field:"horario",msg:"O horário deve ser informado"}))},buscarPorMotoristaPeriodo:function(){var e=this;null!=this.viagem.motorista_id&&(null!=this.viagem.horario?null!=this.viagem.data?(this.alertE=!1,ea.buscarPorMotoristaPeriodo(this.viagem.data,this.viagem.data,this.viagem.motorista_id,null,this.viagem.id).then(function(a){if(a.data.length>0){var t=a.data.filter(function(a){return!e.moment(e.viagem.horario,"hours").isAfter(e.moment(a.horario,"hours").add(6,"hours"))&&!e.moment(e.viagem.horario,"hours").isBefore(e.moment(a.horario,"hours").subtract(6,"hours"))});t.length>0?(e.listaViagens=[],e.validEM=!1,e.alertWM=!1,e.alertEM=!0,e.messageEM="Existe viagem para o motorista na data informada"):(e.validEM=!0,e.alertEM=!1,e.alertWM=!0,e.messageWM="Existem viagem para o motorista na data informada, porém o horário informado difere de 6 horas do horário desta viagem")}else e.alertEM=!1,e.alertWM=!1})):this.errors.add({field:"data",msg:"A data  deve ser informada"}):this.errors.add({field:"horario",msg:"O horário deve ser informado"}))},isErrors:function(e){var a=this;this.errors.clear(),this.progress=!1,e.forEach(function(e){a.errors.add({field:e.field,msg:e.message})})},limpar:function(){this.$validator.reset(),this.progress=!1,this.alertE=!1,this.alertS=!1,this.viagem_id=0,this.viagem={data:null,horario:"",veiculo_id:null,localidade_id:null,motorista_id:null,tipo:"Emergencia",status:"Agendada"},this.agendamento_id=0,this.agendamento={paciente_id:null,local_de_consulta_id:null,especialidade_id:null,cid_id:null,procedimentos:[],viagem_id:0},this.agendamento.procedimentos=[],this.agendamento.especialidade_id=null,this.localidade_id=null},salvar:function(){var e=this;this.progress=!0,this.$validator.validate().then(function(a){null!=e.viagem.data&&e.agendamento.paciente_id>0&&(e.agendamento.data=e.viagem.data,aa.buscaPorPaciente(e.agendamento.paciente_id,e.agendamento.data,e.agendamento.id).then(function(a){a.data.length>0&&e.errors.add({field:"paciente_id",msg:"Já existe agendamento para o paciente na data informada"})})),e.moment(e.viagem.data,"YYYY-MM-DD").format("YYYY-MM-DD")==e.moment(new Date,"YYYY-MM-DD").format("YYYY-MM-DD")&&e.moment(e.viagem.horario,"HH:mm").isBefore(e.moment(new Date,"HH:mm"))&&e.errors.add({field:"horario",msg:"Horário deve ser posterior ao horário atual"}),a?0===e.viagem_id?ea.salvar(e.viagem).then(function(a){e.agendamento.viagem_id=a.data.id,e.agendamento.horario=e.viagem.horario,aa.salvar(e.agendamento).then(function(a){e.limpar(),e.messageS="Viagem agendada com sucesso",e.alertS=!0})}).catch(function(a){a.length>0&&e.isErrors(a)}):ea.alterar(e.viagem).then(function(a){aa.alterar(e.agendamento).then(function(a){e.limpar(),e.messageS="Viagem e agendamento alterado com sucesso",e.alertS=!0})}).catch(function(a){a.length>0&&e.isErrors(a)}):e.progress=!1})},cancelar:function(){this.limpar()}}},Ra=Oa,Wa=Object(b["a"])(Ra,Aa,Ta,!1,null,null,null),Ga=Wa.exports;q()(Wa,{VAlert:ge["a"],VAutocomplete:fa["a"],VBtn:k["a"],VCard:se["a"],VChip:ga["a"],VContainer:le["a"],VDatePicker:Ue["a"],VFlex:ce["a"],VLayout:ue["a"],VListTileContent:w["a"],VListTileTitle:w["c"],VMenu:Y["a"],VTextField:ke["a"],VTimePicker:ba["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Qa=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"warning",type:"warning",dismissible:"",dark:""},model:{value:e.alertWV,callback:function(a){e.alertWV=a},expression:"alertWV"}},[e._v("\n    "+e._s(e.messageWV)+"\n  ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertEV,callback:function(a){e.alertEV=a},expression:"alertEV"}},[e._v("\n    "+e._s(e.messageEV)+"\n  ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"warning",type:"warning",dismissible:"",dark:""},model:{value:e.alertWM,callback:function(a){e.alertWM=a},expression:"alertWM"}},[e._v("\n    "+e._s(e.messageWM)+"\n  ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertEM,callback:function(a){e.alertEM=a},expression:"alertEM"}},[e._v("\n    "+e._s(e.messageEM)+"\n  ")]),t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alertS,callback:function(a){e.alertS=a},expression:"alertS"}},[e._v("\n    "+e._s(e.messageS)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Organizar Viagens Fixas\n    ")])],1),t("v-card",{staticClass:"pa-3",attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.parametro.expediente_inicio,expression:"parametro.expediente_inicio"}],ref:"expInicio",attrs:{name:"expInicio",type:"text",hidden:""},domProps:{value:e.parametro.expediente_inicio},on:{input:function(a){a.target.composing||e.$set(e.parametro,"expediente_inicio",a.target.value)}}}),t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.horario,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){e.horario=a},"update:return-value":function(a){e.horario=a}},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t("v-text-field",e._g({directives:[{name:"validate",rawName:"v-validate",value:"required|is_between:expInicio,"+e.parametro.expediente_fim,expression:"`required|is_between:expInicio,${parametro.expediente_fim}`"}],attrs:{name:"horario","data-vv-name":"horario",label:"* Horário","prepend-icon":"access_time","error-messages":e.errors.first("horario"),readonly:""},model:{value:e.horario,callback:function(a){e.horario=a},expression:"horario"}},o))]}}]),model:{value:e.menu2,callback:function(a){e.menu2=a},expression:"menu2"}},[e.menu2?t("v-time-picker",{attrs:{format:"24hr","data-vv-name":"horario","full-width":""},on:{"click:minute":function(a){return e.$refs.menu.save(e.horario)}},model:{value:e.horario,callback:function(a){e.horario=a},expression:"horario"}}):e._e()],1)],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{attrs:{lazy:"","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuI,callback:function(a){e.menuI=a},expression:"menuI"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],ref:"dataInicial",attrs:{slot:"activator","data-vv-name":"dataInicial","error-messages":e.errors.first("dataInicial"),"prepend-icon":"event",label:"* Inicio",readonly:""},slot:"activator",model:{value:e.dataInicialFormated,callback:function(a){e.dataInicialFormated=a},expression:"dataInicialFormated"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"dataInicial"},on:{input:function(a){e.menuI=!1}},model:{value:e.dataInicial,callback:function(a){e.dataInicial=a},expression:"dataInicial"}})],1)],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{attrs:{lazy:"","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuF,callback:function(a){e.menuF=a},expression:"menuF"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|after:dataInicial|date_format:DD/MM/YYYY",expression:"'required|after:dataInicial|date_format:DD/MM/YYYY'"}],attrs:{slot:"activator","data-vv-name":"dataFinal","error-messages":e.errors.first("dataFinal"),"prepend-icon":"event",label:"* Final",readonly:""},slot:"activator",model:{value:e.dataFinalFormated,callback:function(a){e.dataFinalFormated=a},expression:"dataFinalFormated"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"dataFinal"},on:{input:function(a){e.menuF=!1}},model:{value:e.dataFinal,callback:function(a){e.dataFinal=a},expression:"dataFinal"}})],1)],1),t("v-flex",{attrs:{xs12:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"dsSelecionados",label:"Dias da Semana","data-vv-name":"dsSelecionados","error-messages":e.errors.first("dsSelecionados"),items:e.diasSemana,chips:"",multiple:""},scopedSlots:e._u([{key:"selection",fn:function(a){return[t("v-chip",{attrs:{selected:a.selected,close:""},on:{input:function(t){return e.remove(a.item)}}},[t("strong",[e._v(e._s(a.item))]),e._v(" \n              ")])]}}]),model:{value:e.dsSelecionados,callback:function(a){e.dsSelecionados=a},expression:"dsSelecionados"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"localidade_id",label:"* Localidade","data-vv-name":"localidade_id","error-messages":e.errors.first("localidade_id"),items:e.localidades,"item-text":"nome","item-value":"id"},model:{value:e.localidade_id,callback:function(a){e.localidade_id=a},expression:"localidade_id"}})],1),t("v-flex",{attrs:{xs12:"",sm4:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"veiculo_id",label:"* Veículo","data-vv-name":"veiculo_id","error-messages":e.errors.first("veiculo_id"),items:e.veiculos,"item-text":"numModCap","item-value":"id",hint:"número - modelo - capacidade"},model:{value:e.veiculo_id,callback:function(a){e.veiculo_id=a},expression:"veiculo_id"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"motorista_id",label:"* Motorista","data-vv-name":"motorista_id","error-messages":e.errors.first("motorista_id"),items:e.motoristas,"item-text":"nome","item-value":"id"},model:{value:e.motorista_id,callback:function(a){e.motorista_id=a},expression:"motorista_id"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-expansion-panel",{attrs:{expand:""},model:{value:e.panel,callback:function(a){e.panel=a},expression:"panel"}},[t("v-expansion-panel-content",[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n                Agendamentos\n              ")]),t("v-container",[t("v-data-table",{attrs:{headers:e.headers,items:e.listaViagens,"item-key":"data","select-all":""},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[t("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:a.selected,callback:function(t){e.$set(a,"selected",t)},expression:"props.selected"}})],1),t("td",{staticClass:"text-xs-left"},[e._v("\n                      "+e._s(e.moment(a.item.data).format("DD/MM/YYYY"))+"\n                    ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n                      "+e._s(e.diasSemana[e.moment(a.item.data).weekday()-1])+"\n                    ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-icon",{attrs:{small:""},on:{click:function(t){return e.removeViagem(a.item)}}},[e._v("\n                        delete\n                      ")])],1)]}}]),model:{value:e.viagensSelecionadas,callback:function(a){e.viagensSelecionadas=a},expression:"viagensSelecionadas"}})],1)],1)],1)],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"grey darken-1",flat:"",outline:""},on:{click:e.gerarViagensPeriodo}},[e._v("\n            Gerar viagens\n          ")]),t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n            Salvar\n          ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n            Cancelar\n          ")]),t("v-btn",{attrs:{color:"grey darken-1",outline:"",dark:"",to:"/viagens"}},[e._v("\n            Voltar\n          ")])],1)],1)],1)],1),t("help-fixa")],1)},Ua=[],Ja=t("75fc"),Ka=t("768b"),Xa={salvar:function(e){return X.post("parametrizacao",e)},alterar:function(e){return X.put("parametrizacao/".concat(e.id),e)},show:function(e){return X.get("parametrizacao/".concat(e))}},Za=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar bloqueio e desbloqueio de veículos\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("1652")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[e._v("\n                            "+e._s(a.observacao)+"\n                          ")]):o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal3}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  lock_open\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("c8f6")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{column:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("strong",[e._v(e._s(a.titulo))]),e._l(a.itens,function(a){return[o("div",{key:a.id},[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.solucao?[o("br"),o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                            ")]:e._e(),a.observacao?o("strong",[e._v("Observação: ")]):e._e(),e._v(e._s(a.observacao)+"\n                          ")],2)]})],2)],1)],1)]})],2)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog3,callback:function(a){e.dialog3=a},expression:"dialog3"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("f146")}}),e._l(e.arrHelp3,function(a){return[o("v-container",{key:a.titulo,attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{column:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("strong",[e._v(e._s(a.titulo))]),e._l(a.itens,function(a){return[o("div",{key:a.id},[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.solucao?[o("br"),o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                            ")]:e._e(),a.observacao?o("strong",[e._v("Observação: ")]):e._e(),e._v(e._s(a.observacao)+"\n                          ")],2)]})],2)],1)],1)]})],2)],1)],1)]],2)],1)]],2)},et=[],at={data:function(){return{dialog2:!1,dialog3:!1,arrHelp:[{titulo:"Para bloquear",itens:[{id:1,descricao:'Clique no botao "Registrar bloqueio de veículo"',descricao2:"aguarde a tela para registrar o veículo abrir",btn1:!0}]},{titulo:"Para desbloquear",itens:[{id:1,descricao:"Busque pelo veículo que gostaria de realizar o desbloqueio"},{id:2,descricao:"Clique no botão desbloquear referente ao veículo que deseja realizar o desbloqueio, ",btn2:!0,descricao2:"e aguarde pela tela de desbloqueio"}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo bloqueio que deseje deletar"},{id:2,descricao:"Após listar os agendamentos referentes a viagem selecionada, procure pelo o agendamento (paciente) que deseja excluir"},{id:3,descricao:"Clique no botão deletar referente ao agendamento que deseja realizar a exclusão, aguarde pela mensagem de confirmação",foto:!0}]},{titulo:"Para pesquisar pelo veiculo bloqueado: ",itens:[{id:1,descricao:"Realize os 3 primeiros passos realizados para inserir um agendamento"},{id:2,descricao:"Após listar os agendamentos referentes a viagem selecionada, procure pelo o agendamento (paciente) em questão"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Veiculo possui viagens agendadas, reagende outro veículo no lugar deste primeiro",solucao:"Agende outro veículo para a viagem na qual o veículo que deseja bloquear está vinculado"},{id:2,descricao:"A data de previsão de retorno deve ser igual ou posterior a data de bloqueio",solucao:"Informar uma data superior ou igual a data de bloqueio"},{id:3,descricao:"Quilometragem inferior a quilometragem registrada atualmente",solucao:"Informar uma quilometragem válida, que seja superior a ultima quilometragem registrada do veículo"}]}],arrHelp2:[{titulo:"Para registrar bloqueio: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do bloqueio"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Veiculo possui viagens agendadas",solucao:"Agende outro veículo para a viagem na qual o veículo que deseja bloquear está vinculado"},{id:2,descricao:"A data de previsão de retorno deve ser igual ou posterior a data de bloqueio",solucao:"Informar uma data superior ou igual a data de bloqueio"},{id:3,descricao:"Quilometragem inferior a quilometragem registrada atualmente",solucao:"Informar uma quilometragem válida, que seja superior a ultima quilometragem registrada do veículo"},{id:4,descricao:"Veículo já se encontra bloqueado para manutenção",solucao:"Veículo só pode ter um bloqueio por vez"}]}],arrHelp3:[{titulo:"Para registrar desbloqueio: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do bloqueio"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"A quilometragem de retorno não foi informada corretamente",solucao:"A quilometragem deve ser superior a quilometragem na saída"},{id:2,descricao:"A data de retorno deve ser inferior ou igual a data atual",solucao:"Informar uma data inferior ou igual a data de bloqueio"}]}]}},methods:{openModal2:function(){this.dialog2=!0},openModal3:function(){this.dialog3=!0}}},tt=at,ot=(t("a727"),Object(b["a"])(tt,Za,et,!1,null,"2cf4efc7",null)),it=ot.exports;q()(ot,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var rt={$_veeValidate:{validator:"new"},components:{HelpFixa:it},data:function(){return{panel:[!0],menu2:!1,progress:!1,validEM:!0,menuI:!1,menuF:!1,alertS:!1,alertEV:!1,alertWV:!1,alertEM:!1,alertWM:!1,messageS:"",messageEV:"",messageWV:"",messageEM:"",messageWM:"",headers:[{text:"Data",value:"data"},{text:"Dia da semana",value:"dia_da_semana"}],horaAtual:null,parametro:{expediente_inicio:null,expediente_fim:null},dataInicial:null,dataFinal:null,horario:null,localidade_id:null,veiculo_id:null,motorista_id:null,viagem:{data:null,horario:null,localidade_id:null,veiculo_id:null,motorista_id:null,status:"Agendada",tipo:"Fixa"},listaViagens:[],viagensSelecionadas:[],veiculo:{id:null,numModCap:""},veiculos:[],localidades:[],motoristas:[],diasSemana:["Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sabado"],dsSelecionados:[],dictionary:{custom:{dataInicial:{required:"A data inicial deve ser informada"},dataFinal:{required:"A data final deve ser informada",after:"Data final tem que ser maior que a data inicial"},horario:{is_between:"Horário deve estar entre o inicio do expediente e o fim do expediente",required:"O horário deve ser informado",min:"O horário não foi informado corretamente"},localidade_id:{required:"A localidade deve ser informado"},veiculo_id:{required:"O veículo deve ser informado"},motorista_id:{required:"O motorista deve ser informado"},dsSelecionados:{required:"Informe os dias da semana"}}}}},computed:{dataInicialFormated:function(){return null!=this.dataInicial?this.moment(this.dataInicial).format("DD/MM/YYYY"):null},dataFinalFormated:function(){return null!=this.dataFinal?this.moment(this.dataFinal).format("DD/MM/YYYY"):null}},watch:{dsSelecionados:function(){this.listaViagens.length>0&&this.gerarViagensPeriodo()},motorista_id:function(){this.buscarPorMotoristaPeriodo()},veiculo_id:function(){this.buscarPorVeiculoPeriodo()},horario:function(){this.horario.length>4&&(this.buscarPorVeiculoPeriodo(),this.buscarPorMotoristaPeriodo())},dataInicial:function(){this.buscarPorVeiculoPeriodo(),this.buscarPorMotoristaPeriodo(),this.listaViagens.length>0&&this.gerarViagensPeriodo()},dataFinal:function(){this.buscarPorVeiculoPeriodo(),this.buscarPorMotoristaPeriodo(),this.listaViagens.length>0&&this.gerarViagensPeriodo()}},created:function(){var e=this;s["a"].extend("is_between",function(a,t){var o=Object(Ka["a"])(t,2),i=o[0],r=o[1];return e.moment(a,"HH:mm").isBetween(e.moment(i,"HH:mm"),e.moment(r,"HH:mm"))},{hasTarget:!0})},mounted:function(){var e=this;this.$validator.localize("en",this.dictionary),Xa.show(0).then(function(a){e.parametro.expediente_inicio=a.data[0].expediente_inicio,e.parametro.expediente_fim=a.data[0].expediente_fim}),this.listarMotoristas(),this.listarVeiculos(),this.listarLocalidades()},methods:{remove:function(e){this.dsSelecionados.splice(this.dsSelecionados.indexOf(e),1),this.dsSelecionados=Object(Ja["a"])(this.dsSelecionados)},removeViagem:function(e){this.listaViagens.splice(this.listaViagens.indexOf(e),1),this.listaViagens=Object(Ja["a"])(this.listaViagens)},listarMotoristas:function(){var e=this;Ie.listar().then(function(a){e.motoristas=a.data})},listarVeiculos:function(){var e=this;Z.listar().then(function(a){a.data.forEach(function(a){"Sucateado"!=a.bloqueio_ativo&&"Manutenção"!=a.bloqueio_ativo&&"Venda"!=a.bloqueio_ativo&&(e.veiculo={id:a.id,numModCap:"".concat(a.numero," - ").concat(a.modelo," - ").concat(a.capacidade)},e.veiculos.push(e.veiculo))})})},listarLocalidades:function(){var e=this;ta.listar().then(function(a){e.localidades=a.data})},buscarPorVeiculoPeriodo:function(){var e=this;null!=this.veiculo_id&&(null!=this.horario?null!=this.dataInicial?null!=this.dataFinal?(this.alertE=!1,ea.buscarPorVeiculoPeriodo(this.dataInicial,this.dataFinal,this.veiculo_id).then(function(a){if(a.data.length>0){var t=a.data.filter(function(a){return!e.moment(e.horario,"hours").isAfter(e.moment(a.horario,"hours").add(6,"hours"))&&!e.moment(e.horario,"hours").isBefore(e.moment(a.horario,"hours").subtract(6,"hours"))});t.length>0?(e.listaViagens=[],e.validEM=!1,e.alertWV=!1,e.alertEV=!0,e.messageEV="Existem viagens para o veículo no periodo informado"):(e.validEM=!0,e.alertEV=!1,e.alertWV=!0,e.messageWV="Existem viagens para o veículo no periodo informado, porém o horário informado difere de 6 horas do horário dessas viagens")}else e.validEM=!0,e.alertEV=!1,e.alertWV=!1})):this.errors.add({field:"dataFinal",msg:"A data final deve ser informada"}):this.errors.add({field:"dataInicial",msg:"A data inicial deve ser informada"}):this.errors.add({field:"horario",msg:"O horário deve ser informado"}))},buscarPorMotoristaPeriodo:function(){var e=this;null!=this.motorista_id&&(null!=this.horario?null!=this.dataInicial?null!=this.dataFinal?(this.alertE=!1,ea.buscarPorMotoristaPeriodo(this.dataInicial,this.dataFinal,this.motorista_id).then(function(a){if(a.data.length>0){var t=a.data.filter(function(a){return!e.moment(e.horario,"hours").isAfter(e.moment(a.horario,"hours").add(6,"hours"))&&!e.moment(e.horario,"hours").isBefore(e.moment(a.horario,"hours").subtract(6,"hours"))});t.length>0?(e.listaViagens=[],e.validEM=!1,e.alertWM=!1,e.alertEM=!0,e.messageEM="Existem viagens para o motorista no periodo informado"):(e.validEM=!0,e.alertEM=!1,e.alertWM=!0,e.messageWM="Existem viagens para o motorista no periodo informado, porém o horário informado difere de 6 horas do horário dessas viagens")}else e.validEM=!0,e.alertEM=!1,e.alertWM=!1})):this.errors.add({field:"dataFinal",msg:"A data final deve ser informada"}):this.errors.add({field:"dataInicial",msg:"A data inicial deve ser informada"}):this.errors.add({field:"horario",msg:"O horário deve ser informado"}))},gerarViagensPeriodo:function(){var e=this;this.$validator.validate().then(function(a){if(e.moment(e.dataInicialFormated).isBefore(e.moment(e.moment(new Date).format("DD/MM/YYYY")).add(1,"days"))&&(e.errors.add({field:"dataInicial",msg:"Data inicial tem que ser posterior a data atual"}),a(!1)),e.moment(e.dataInicial,"YYYY-MM-DD").format("YYYY-MM-DD")==e.moment(new Date,"YYYY-MM-DD").format("YYYY-MM-DD")&&e.moment(e.horario,"HH:mm").isBefore(e.moment(new Date,"HH:mm"))&&e.errors.add({field:"horario",msg:"Horário deve ser posterior ao horário atual"}),e.buscarPorVeiculoPeriodo(),e.buscarPorMotoristaPeriodo(),e.validEM)if(a){e.listaViagens=[];for(var t=e.moment(e.moment(e.dataFinal).add(1,"days")).format("YYYY-MM-DD"),o=e.dataInicial;e.moment(o).isBefore(t);o=e.moment(o).add(1,"days")){var i=e.diasSemana[e.moment(o).weekday()-1];-1!==e.dsSelecionados.indexOf(i)&&(e.viagem={data:e.moment(o).format("YYYY-MM-DD"),horario:e.horario,localidade_id:e.localidade_id,veiculo_id:e.veiculo_id,motorista_id:e.motorista_id,status:"Agendada",tipo:"Fixa"},e.listaViagens.push(e.viagem))}e.progress=!1}else e.progress=!1})},limpar:function(){this.$validator.reset(),this.progress=!1,this.alertEV=!1,this.alertS=!1,this.alertWV=!1,this.alertEM=!1,this.alertWM=!1,this.messagesE=[],this.messagesW=[],this.horario="",this.dataInicial=null,this.dataFinal=null,this.dsSelecionados=[],this.localidade_id=null,this.veiculo_id=null,this.motorista_id=null,this.listaViagens=[]},salvar:function(){var e=this;this.progress=!0,this.listaViagens.length>0?this.$validator.validate().then(function(a){e.moment(e.dataInicialFormated).isBefore(e.moment(e.moment(new Date).format("DD/MM/YYYY")).add(1,"days"))&&(e.errors.add({field:"dataInicial",msg:"Data inicial tem que ser posterior a data atual"}),a(!1)),e.moment(e.dataInicial,"YYYY-MM-DD").format("YYYY-MM-DD")==e.moment(new Date,"YYYY-MM-DD").format("YYYY-MM-DD")&&e.moment(e.horario,"HH:mm").isBefore(e.moment(new Date,"HH:mm"))&&e.errors.add({field:"horario",msg:"Horário deve ser posterior ao horário atual"}),e.buscarPorVeiculoPeriodo(),e.buscarPorMotoristaPeriodo(),e.validEM&&a&&(e.dataInicial=e.moment(e.dataInicial).format("YYYY-MM-DD"),e.dataFinal=e.moment(e.dataFinal).format("YYYY-MM-DD"),e.listaViagens.forEach(function(a){ea.salvar(a).then(function(e){}).catch(function(a){e.alertE=!0,e.messagesE="Error:: ".concat(a)})}),e.limpar(),e.messageS="Viagens adicionadas com sucesso",e.alertS=!0)}):(this.alertEV=!0,this.messageEV="Não foi gerada nenhuma viagem ainda")},cancelar:function(){this.limpar()}}},st=rt,nt=t("ac7c"),lt=t("b56d"),dt=Object(b["a"])(st,Qa,Ua,!1,null,null,null),ct=dt.exports;q()(dt,{VAlert:ge["a"],VAutocomplete:fa["a"],VBtn:k["a"],VCard:se["a"],VCheckbox:nt["a"],VChip:ga["a"],VContainer:le["a"],VDataTable:_e["a"],VDatePicker:Ue["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VMenu:Y["a"],VSelect:lt["a"],VTextField:ke["a"],VTimePicker:ba["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var ut=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alertS,callback:function(a){e.alertS=a},expression:"alertS"}},[e._v("\n    "+e._s(e.messageS)+"\n  ")]),t("v-alert",{attrs:{color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertE,callback:function(a){e.alertE=a},expression:"alertE"}},[e._v("\n    "+e._s(e.messageE)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Bloqueio de Veículos\n    ")]),t("v-spacer"),[t("v-dialog",{attrs:{"max-width":"50%",persistent:"",transition:"dialog-transition"},model:{value:e.dialogBloqueio,callback:function(a){e.dialogBloqueio=a},expression:"dialogBloqueio"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n            Bloquear Veículo\n          ")])],1),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md7:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Motivo",items:e.motivos,name:"motivo","data-vv-name":"motivo","error-messages":e.errors.first("motivo")},model:{value:e.bloqueio.motivo,callback:function(a){e.$set(e.bloqueio,"motivo",a)},expression:"bloqueio.motivo"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required|is_agendamentos",expression:"'required|is_agendamentos'"}],attrs:{label:"Veículo",items:e.veiculosSem,"item-text":"numNome","item-value":"id","data-vv-name":"veiculo_id","error-messages":e.errors.first("veiculo_id")},model:{value:e.bloqueio.veiculo_id,callback:function(a){e.$set(e.bloqueio,"veiculo_id",a)},expression:"bloqueio.veiculo_id"}})],1),"Manutenção"===e.bloqueio.motivo?[t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-menu",{attrs:{lazy:"","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuDataBloqueio,callback:function(a){e.menuDataBloqueio=a},expression:"menuDataBloqueio"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|is_before_actual",expression:"'required|is_before_actual'"}],ref:"dataBloqueio",attrs:{slot:"activator","data-vv-name":"data_de_bloqueio","error-messages":e.errors.first("data_de_bloqueio"),"prepend-icon":"event",label:"* Data de bloqueio",readonly:""},slot:"activator",model:{value:e.dataBloqueioFormatted,callback:function(a){e.dataBloqueioFormatted=a},expression:"dataBloqueioFormatted"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"data_de_bloqueio"},on:{input:function(a){e.menuDataBloqueio=!1}},model:{value:e.bloqueio.data_de_bloqueio,callback:function(a){e.$set(e.bloqueio,"data_de_bloqueio",a)},expression:"bloqueio.data_de_bloqueio"}})],1)],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-menu",{attrs:{lazy:"","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuDataPrevRetorno,callback:function(a){e.menuDataPrevRetorno=a},expression:"menuDataPrevRetorno"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|is_after:dataBloqueio",expression:"'required|is_after:dataBloqueio'"}],attrs:{slot:"activator","data-vv-name":"data_previsao_retorno","error-messages":e.errors.first("data_previsao_retorno"),"prepend-icon":"event",label:"* Previsão de retorno",readonly:""},slot:"activator",model:{value:e.dataPrevisaoRetornoFormatted,callback:function(a){e.dataPrevisaoRetornoFormatted=a},expression:"dataPrevisaoRetornoFormatted"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"data_previsao_retorno"},on:{input:function(a){e.menuDataPrevRetorno=!1}},model:{value:e.bloqueio.data_previsao_retorno,callback:function(a){e.$set(e.bloqueio,"data_previsao_retorno",a)},expression:"bloqueio.data_previsao_retorno"}})],1)],1)]:e._e(),"Sucateado"==e.bloqueio.motivo||"Venda"==e.bloqueio.motivo?[t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"numero_baixa","error-messages":e.errors.first("numero_baixa"),label:"* Número da baixa"},model:{value:e.bloqueio.numero_baixa,callback:function(a){e.$set(e.bloqueio,"numero_baixa",a)},expression:"bloqueio.numero_baixa"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|is_before_actual",expression:"'required|is_before_actual'"}],attrs:{name:"data_baixa","error-messages":e.errors.first("data_baixa"),"prepend-icon":"event",mask:"##/##/####",hint:"DD/MM/YYYY",label:"* Data da baixa"},model:{value:e.bloqueio.data_baixa,callback:function(a){e.$set(e.bloqueio,"data_baixa",a)},expression:"bloqueio.data_baixa"}})],1)]:e._e(),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"quilometragem_atual","error-messages":e.errors.first("quilometragem_atual"),label:"* Quilometragem atual"},model:{value:e.bloqueio.quilometragem_atual,callback:function(a){e.$set(e.bloqueio,"quilometragem_atual",a)},expression:"bloqueio.quilometragem_atual"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{name:"obeservacao",label:"Observações"},model:{value:e.bloqueio.observacoes,callback:function(a){e.$set(e.bloqueio,"observacoes",a)},expression:"bloqueio.observacoes"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                  Salvar\n                ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                  Cancelar\n                ")])],1)],2)],1)],1)],1)]],2),[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.bloqueios,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.veiculo.numero))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.veiculo.marca)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.veiculo.modelo)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.motivo)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.detalhes(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  view_list\n                ")])],1),"Manutenção"==a.item.motivo&&null==a.item.data_retorno?t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.desbloqueio(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  lock_open\n                ")])],1):e._e(),"Manutenção"!=a.item.motivo||null!=a.item.data_retorno?t("v-btn",{attrs:{small:"",outline:"",icon:"",disabled:""}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  lock_open\n                ")])],1):e._e(),null==a.item.data_retorno?t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1):e._e(),null!=a.item.data_retorno?t("v-btn",{attrs:{small:"",outline:"",icon:"",disabled:""}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1):e._e()],1)]}}])})],1)],1)],[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar este bloqueio?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-dialog",{attrs:{"max-width":"45%",persistent:"",transition:"dialog-transition"},model:{value:e.dialogDesbloqueio,callback:function(a){e.dialogDesbloqueio=a},expression:"dialogDesbloqueio"}},[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Desbloquear Veículo\n        ")])],1),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{attrs:{label:"Veículo",items:e.veiculosSem,"item-text":"numNome","item-value":"id",readonly:""},model:{value:e.bloqueio.veiculo_id,callback:function(a){e.$set(e.bloqueio,"veiculo_id",a)},expression:"bloqueio.veiculo_id"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{label:"Data de bloqueio",readonly:""},model:{value:e.bloqueio.data_de_bloqueio,callback:function(a){e.$set(e.bloqueio,"data_de_bloqueio",a)},expression:"bloqueio.data_de_bloqueio"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{label:"Previsão de retorno",readonly:""},model:{value:e.bloqueio.data_previsao_retorno,callback:function(a){e.$set(e.bloqueio,"data_previsao_retorno",a)},expression:"bloqueio.data_previsao_retorno"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuDataRetorno,callback:function(a){e.menuDataRetorno=a},expression:"menuDataRetorno"}},[t("v-text-field",{attrs:{slot:"activator","data-vv-name":"data_retorno","error-messages":e.errors.first("data_retorno"),label:"* Retorno","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.dataRetornoFormatted,callback:function(a){e.dataRetornoFormatted=a},expression:"dataRetornoFormatted"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"data_retorno"},on:{input:function(a){e.menuDataRetorno=!1}},model:{value:e.bloqueio.data_retorno,callback:function(a){e.$set(e.bloqueio,"data_retorno",a)},expression:"bloqueio.data_retorno"}})],1)],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{label:"Quilometragem saída"},model:{value:e.bloqueio.quilometragem_saida,callback:function(a){e.$set(e.bloqueio,"quilometragem_saida",a)},expression:"bloqueio.quilometragem_saida"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{"data-vv-name":"quilometragem_retorno",label:"Quilometragem de retorno","error-messages":e.errors.first("quilometragem_retorno")},model:{value:e.bloqueio.quilometragem_retorno,callback:function(a){e.$set(e.bloqueio,"quilometragem_retorno",a)},expression:"bloqueio.quilometragem_retorno"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{name:"obeservacao",label:"Observações"},model:{value:e.bloqueio.observacoes,callback:function(a){e.$set(e.bloqueio,"observacoes",a)},expression:"bloqueio.observacoes"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvarDesbloqueio}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:function(a){return e.cancelar()}}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],[t("v-dialog",{attrs:{"max-width":"55%",persistent:"",transition:"dialog-transition"},model:{value:e.dialogDetalhesBloqueio,callback:function(a){e.dialogDetalhesBloqueio=a},expression:"dialogDetalhesBloqueio"}},[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Detalhes do bloqueio\n        ")])],1),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{staticClass:"box-form",attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md5:""}},[t("v-text-field",{attrs:{label:"Motivo",readonly:""},model:{value:e.bloqueio.motivo,callback:function(a){e.$set(e.bloqueio,"motivo",a)},expression:"bloqueio.motivo"}})],1),t("v-flex",{attrs:{xs12:"",md7:""}},[t("v-text-field",{attrs:{label:"Veículo",readonly:""},model:{value:e.veiculo.numNome,callback:function(a){e.$set(e.veiculo,"numNome",a)},expression:"veiculo.numNome"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{ref:"detalheDataBloqueio",attrs:{label:"Bloqueio",readonly:""},model:{value:e.bloqueio.data_de_bloqueio,callback:function(a){e.$set(e.bloqueio,"data_de_bloqueio",a)},expression:"bloqueio.data_de_bloqueio"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{label:"Previsão de retorno",readonly:""},model:{value:e.bloqueio.data_previsao_retorno,callback:function(a){e.$set(e.bloqueio,"data_previsao_retorno",a)},expression:"bloqueio.data_previsao_retorno"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"data_retorno",label:"Retorno",readonly:""},model:{value:e.bloqueio.data_retorno,callback:function(a){e.$set(e.bloqueio,"data_retorno",a)},expression:"bloqueio.data_retorno"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{label:"Quilometragem na saída",readonly:""},model:{value:e.bloqueio.quilometragem_saida,callback:function(a){e.$set(e.bloqueio,"quilometragem_saida",a)},expression:"bloqueio.quilometragem_saida"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{label:"Data da baixa",readonly:""},model:{value:e.bloqueio.data_baixa,callback:function(a){e.$set(e.bloqueio,"data_baixa",a)},expression:"bloqueio.data_baixa"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{label:"Numero da baixa",readonly:""},model:{value:e.bloqueio.numero_baixa,callback:function(a){e.$set(e.bloqueio,"numero_baixa",a)},expression:"bloqueio.numero_baixa"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{label:"Quilometragem na baixa",readonly:""},model:{value:e.bloqueio.quilometragem_baixa,callback:function(a){e.$set(e.bloqueio,"quilometragem_baixa",a)},expression:"bloqueio.quilometragem_baixa"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{label:"Observações"},model:{value:e.bloqueio.observacoes,callback:function(a){e.$set(e.bloqueio,"observacoes",a)},expression:"bloqueio.observacoes"}})],1)],1),t("br"),t("v-flex",{attrs:{xs12:""}},["Manutenção"==e.bloqueio.motivo&&null==e.bloqueio.data_retorno?t("v-btn",{attrs:{color:"primary",outline:"",flat:""},on:{click:function(a){return e.desbloqueio(e.bloqueio)}}},[e._v("\n              Desbloquear\n            ")]):e._e(),null==e.bloqueio.data_retorno?t("v-btn",{attrs:{color:"black",outline:"",flat:""},on:{click:function(a){return e.messageDelete(e.bloqueio)}}},[e._v("\n              Deletar\n            ")]):e._e(),t("v-btn",{attrs:{color:"red",outline:"",flat:""},on:{click:e.cancelar}},[e._v("\n              Cancelar\n            ")])],1)],1)],1)],1),t("help-bloqueio")]],2)},mt=[],vt=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar bloqueio e desbloqueio de veículos\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("1652")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[e._v("\n                            "+e._s(a.observacao)+"\n                          ")]):o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal3}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  lock_open\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("c8f6")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{column:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("strong",[e._v(e._s(a.titulo))]),e._l(a.itens,function(a){return[o("div",{key:a.id},[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.solucao?[o("br"),o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                            ")]:e._e(),a.observacao?o("strong",[e._v("Observação: ")]):e._e(),e._v(e._s(a.observacao)+"\n                          ")],2)]})],2)],1)],1)]})],2)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog3,callback:function(a){e.dialog3=a},expression:"dialog3"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("f146")}}),e._l(e.arrHelp3,function(a){return[o("v-container",{key:a.titulo,attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{column:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("strong",[e._v(e._s(a.titulo))]),e._l(a.itens,function(a){return[o("div",{key:a.id},[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.solucao?[o("br"),o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                            ")]:e._e(),a.observacao?o("strong",[e._v("Observação: ")]):e._e(),e._v(e._s(a.observacao)+"\n                          ")],2)]})],2)],1)],1)]})],2)],1)],1)]],2)],1)]],2)},pt=[],ft={data:function(){return{dialog2:!1,dialog3:!1,arrHelp:[{titulo:"Para bloquear",itens:[{id:1,descricao:'Clique no botao "Registrar bloqueio de veículo"',descricao2:"aguarde a tela para registrar o veículo abrir",btn1:!0}]},{titulo:"Para desbloquear",itens:[{id:1,descricao:"Busque pelo veículo que gostaria de realizar o desbloqueio"},{id:2,descricao:"Clique no botão desbloquear referente ao veículo que deseja realizar o desbloqueio, ",btn2:!0,descricao2:"e aguarde pela tela de desbloqueio"}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo bloqueio que deseje deletar"},{id:2,descricao:"Após listar os agendamentos referentes a viagem selecionada, procure pelo o agendamento (paciente) que deseja excluir"},{id:3,descricao:"Clique no botão deletar referente ao agendamento que deseja realizar a exclusão, aguarde pela mensagem de confirmação",foto:!0}]},{titulo:"Para pesquisar pelo veiculo bloqueado: ",itens:[{id:1,descricao:"Realize os 3 primeiros passos realizados para inserir um agendamento"},{id:2,descricao:"Após listar os agendamentos referentes a viagem selecionada, procure pelo o agendamento (paciente) em questão"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Veiculo possui viagens agendadas, reagende outro veículo no lugar deste primeiro",solucao:"Agende outro veículo para a viagem na qual o veículo que deseja bloquear está vinculado"},{id:2,descricao:"A data de previsão de retorno deve ser igual ou posterior a data de bloqueio",solucao:"Informar uma data superior ou igual a data de bloqueio"},{id:3,descricao:"Quilometragem inferior a quilometragem registrada atualmente",solucao:"Informar uma quilometragem válida, que seja superior a ultima quilometragem registrada do veículo"}]}],arrHelp2:[{titulo:"Para registrar bloqueio: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do bloqueio"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Veiculo possui viagens agendadas",solucao:"Agende outro veículo para a viagem na qual o veículo que deseja bloquear está vinculado"},{id:2,descricao:"A data de previsão de retorno deve ser igual ou posterior a data de bloqueio",solucao:"Informar uma data superior ou igual a data de bloqueio"},{id:3,descricao:"Quilometragem inferior a quilometragem registrada atualmente",solucao:"Informar uma quilometragem válida, que seja superior a ultima quilometragem registrada do veículo"},{id:4,descricao:"Veículo já se encontra bloqueado para manutenção",solucao:"Veículo só pode ter um bloqueio por vez"}]}],arrHelp3:[{titulo:"Para registrar desbloqueio: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do bloqueio"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"A quilometragem de retorno não foi informada corretamente",solucao:"A quilometragem deve ser superior a quilometragem na saída"},{id:2,descricao:"A data de retorno deve ser inferior ou igual a data atual",solucao:"Informar uma data inferior ou igual a data de bloqueio"}]}]}},methods:{openModal2:function(){this.dialog2=!0},openModal3:function(){this.dialog3=!0}}},gt=ft,ht=(t("0b91"),Object(b["a"])(gt,vt,pt,!1,null,"60b1579d",null)),_t=ht.exports;q()(ht,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var bt={$_veeValidate:{validator:"new"},components:{HelpBloqueio:_t},data:function(){return{progress:!1,alertE:!1,alertS:!1,messageS:"",messageE:"",menuDataBloqueio:!1,menuDataPrevRetorno:!1,menuDataBaixa:!1,menuDataRetorno:!1,message:"",dialogBloqueio:!1,dialogDesbloqueio:!1,dialogConfirmDelete:!1,dialogDetalhesBloqueio:!1,search:"",headers:[{text:"Número",value:"número"},{text:"Modelo",value:"modelo"},{text:"Marca",value:"marca"},{text:"Motivo",value:"motivo"}],motivos:["Manutenção","Sucateado","Venda"],veiculo:{id:null,marca:"",modelo:"",numero:"",placa:"",capacidade:null,ano:null,bloqueio_ativo:null,numNome:null,quilometragem_atual:0,quilometragem_anterior:0},veiculosSem:[],bloqueios:[],id:0,bloqueio:{veiculo_id:null,motivo:"Manutenção",observacoes:null,quilometragem_baixa:null,numero_baixa:null,data_baixa:null,data_de_bloqueio:null,data_previsao_retorno:null,data_retorno:null,quilometragem_atual:null,quilometragem_saida:null,quilometragem_retorno:null},dictionary:{custom:{veiculo_id:{required:"O veículo não foi informado",is_agendamentos:"Veiculo possui viagens agendadas"},motivo:{required:"O motivo de bloqueio deve ser informado"},data_de_bloqueio:{required:"A data em que foi realizado o bloqueio deve ser informada",is_before_actual:"A data de bloqueio deve ser inferior ou igual a data atual"},data_baixa:{required:"A data em que foi realizado o bloqueio deve ser informada",is_before_actual:"A data da baixa deve ser inferior ou igual a data atual"},data_previsao_retorno:{required:"A data da previsão de retorno deve ser informada",is_after:"A data de previsão de retorno deve ser igual ou posterior a data de bloqueio"},numero_baixa:{required:"O número da baixa deve ser informado"},quilometragem_atual:{required:"A quilometragem do veículo deve ser informada"}}}}},computed:{dataBloqueioFormatted:function(){return null!=this.bloqueio.data_de_bloqueio?this.moment(this.bloqueio.data_de_bloqueio).format("DD/MM/YYYY"):null},dataPrevisaoRetornoFormatted:function(){return null!=this.bloqueio.data_previsao_retorno?this.moment(this.bloqueio.data_previsao_retorno).format("DD/MM/YYYY"):null},dataRetornoFormatted:function(){return null!=this.bloqueio.data_retorno?this.moment(this.bloqueio.data_retorno).format("DD/MM/YYYY"):null}},watch:{"bloqueio.motivo":function(){this.$validator.reset()},dialogBloqueio:function(){this.dialogBloqueio&&(this.limpar(),this.bloqueio.motivo="Manutenção")},"bloqueio.veiculo_id":function(){var e=this;Z.show(this.bloqueio.veiculo_id).then(function(a){e.veiculo=a.data})}},created:function(){var e=this;s["a"].extend("is_after",function(a,t){var o=Object(Ka["a"])(t,1),i=o[0];return e.moment(a,"DD/MM/YYYY").isAfter(e.moment(e.moment(i,"DD/MM/YYYY").subtract(1,"days"),"DD/MM/YYYY"))},{hasTarget:!0}),s["a"].extend("is_before",function(a,t){var o=Object(Ka["a"])(t,1),i=o[0],r=e.moment(a).format("DD/MM/YYYY");return!e.moment(r,"DD/MM/YYYY").isBefore(e.moment(i,"DD/MM/YYYY"))},{hasTarget:!0}),s["a"].extend("is_before_actual",function(a){return e.moment(a,"DD/MM/YYYY").isBefore(e.moment(e.moment(e.moment().add(1,"days")).format("DD/MM/YYYY"),"DD/MM/YYYY"))},{hasTarget:!0}),s["a"].extend("is_agendamentos",function(e){return ea.buscarPorVeiculoPeriodo(null,null,e,null,0).then(function(e){return!(e.data.length>0)})},{hasTarget:!0})},mounted:function(){this.$validator.localize("en",this.dictionary),this.dataAtual=this.moment(new Date).format("DD/MM/YYYY"),this.listarVeiculos(),this.listarBloqueios()},methods:{listarVeiculos:function(){var e=this;Z.listar().then(function(a){a.data.forEach(function(a){"Sucateado"!==a.bloqueio_ativo&&"Venda"!==a.bloqueio_ativo&&(e.veiculo={id:a.id,numNome:"".concat(a.numero," - ").concat(a.modelo),bloqueio_ativo:a.bloqueio_ativo},e.veiculosSem.push(e.veiculo))})})},listarBloqueios:function(){var e=this;ee.listar().then(function(a){e.bloqueios=a.data})},addErrors:function(e,a){this.errors.add({field:e,msg:a})},isErrors:function(e){var a=this;this.errors.clear(),this.progress=!1,e.forEach(function(e){a.addErrors(e.field,e.message)})},limpar:function(){this.$validator.reset(),this.dialogConfirmDelete=!1,this.progress=!1,this.alertE=!1,this.alertS=!1,this.bloqueio={veiculo_id:null,observacoes:null,quilometragem_baixa:null,numero_baixa:null,data_baixa:null,data_de_bloqueio:null,data_previsao_retorno:null,data_retorno:null,quilometragem_atual:null,quilometragem_saida:null,quilometragem_retorno:null}},salvarDesbloqueio:function(){var e=this;this.errors.clear();var a=!0;null==this.bloqueio.data_retorno?(this.addErrors("data_retorno","A data de retorno deve ser informada"),a=!1):this.moment(this.dataRetornoFormatted,"DD/MM/YYYY").isBefore(this.moment(this.moment(this.bloqueio.data_de_bloqueio,"DD/MM/YYYY")))?(this.addErrors("data_retorno","A data de retorno deve ser igual ou posterior a data de bloqueio"),a=!1):this.moment(this.dataRetornoFormatted,"DD/MM/YYYY").isAfter(this.moment(this.dataAtual,"DD/MM/YYYY"))&&(this.addErrors("data_retorno","A data de retorno deve ser inferior ou igual a data atual"),a=!1),null==this.bloqueio.quilometragem_retorno?(this.addErrors("quilometragem_retorno","A quilometragem de retorno do veículo deve ser informada"),a=!1):this.bloqueio.quilometragem_retorno<=this.bloqueio.quilometragem_saida&&(this.addErrors("quilometragem_retorno","A quilometragem de retorno não foi informada corretamente"),a=!1),a&&(this.bloqueio.data_de_bloqueio=this.moment(this.moment(this.bloqueio.data_de_bloqueio,"DD/MM/YYYY")).format("YYYY-MM-DD"),this.bloqueio.data_previsao_retorno=this.moment(this.moment(this.bloqueio.data_previsao_retorno,"DD/MM/YYYY")).format("YYYY-MM-DD"),ee.alterar(this.bloqueio).then(function(a){e.veiculo.bloqueio_ativo=null,e.veiculo.quilometragem_anterior=e.veiculo.quilometragem_atual;var t=e.bloqueio.quilometragem_retorno-e.veiculo.quilometragem_atual;e.veiculo.quilometragem_retorno=e.veiculo.quilometragem_atual+t,Z.alterar(e.veiculo).then(function(){e.limpar(),e.dialogDesbloqueio=!1,e.bloqueio.motivo="Manutenção",e.alertS=!0,e.messageS="Desbloqueio realizado com sucesso",e.listarBloqueios(),e.listarVeiculos()})}).catch(function(a){a.length>0&&e.isErrors(a)}))},salvar:function(){var e=this;this.$validator.validate().then(function(a){"Manutenção"!==e.veiculo.bloqueio_ativo&&e.addErrors("quilometragem_atual","Quilometragem inferior a quilometragem registrada atualmente"),e.bloqueio.quilometragem_atual>e.veiculo.quilometragem_atual&&e.addErrors("veiculo_id","Veículo já se encontra bloqueado para manutenção"),a&&(Z.show(e.bloqueio.veiculo_id).then(function(a){e.veiculo=a.data}),0===e.id&&("Manutenção"===e.bloqueio.motivo?e.bloqueio.quilometragem_saida=e.bloqueio.quilometragem_atual:e.bloqueio.quilometragem_baixa=e.bloqueio.quilometragem_atual,ee.salvar(e.bloqueio).then(function(a){e.veiculo.bloqueio_ativo=e.bloqueio.motivo,e.veiculo.quilometragem_anterior=e.veiculo.quilometragem_atual;var t=e.bloqueio.quilometragem_atual-e.veiculo.quilometragem_atual;e.veiculo.quilometragem_atual=e.veiculo.quilometragem_atual+t,Z.alterar(e.veiculo).then(function(a){e.limpar(),e.dialogBloqueio=!1,e.bloqueio.motivo="Manutenção",e.alertS=!0,e.messageS="Bloqueio realizado com sucesso",e.listarBloqueios(),e.listarVeiculos()})}).catch(function(a){a.length>0&&e.isErrors(a)})))})},detalhes:function(e){this.bloqueio=e,this.id=this.bloqueio.id,this.veiculo=this.bloqueio.veiculo,this.veiculo.numNome="".concat(e.veiculo.numero," - ").concat(e.veiculo.modelo),"Manutenção"===this.bloqueio.motivo?(this.bloqueio.data_de_bloqueio=this.moment(this.bloqueio.data_de_bloqueio,"YYYY-MM-DD").format("DD/MM/YYYY"),this.bloqueio.data_previsao_retorno=this.moment(this.bloqueio.data_previsao_retorno,"YYYY-MM-DD").format("DD/MM/YYYY"),this.bloqueio.data_retorno=this.moment(this.bloqueio.data_retorno,"YYYY-MM-DD").format("DD/MM/YYYY")):this.bloqueio.data_baixa=this.moment(this.bloqueio.data_baixa,"YYYY-MM-DD").format("DD/MM/YYYY"),this.dialogDetalhesBloqueio=!0},desbloqueio:function(e){this.bloqueio.data_retorno=null,this.bloqueio.quilometragem_retorno=null,this.bloqueio.veiculo_id||(this.bloqueio=e,this.id=this.bloqueio.id,this.veiculo=this.bloqueio.veiculo,this.veiculo.numNome="".concat(e.veiculo.numero," - ").concat(e.veiculo.modelo),this.bloqueio.quilometragem_atual=this.bloqueio.quilometragem_saida,this.bloqueio.data_de_bloqueio=this.moment(this.moment(this.bloqueio.data_de_bloqueio,"YYYY-MM-DD")).format("DD/MM/YYYY"),this.bloqueio.data_previsao_retorno=this.moment(this.bloqueio.data_previsao_retorno,"YYYY-MM-DD").format("DD/MM/YYYY")),this.dialogDesbloqueio=!0},messageDelete:function(e){this.bloqueio=e,this.veiculo=e.veiculo,this.dialogConfirmDelete=!0},deletar:function(){var e=this;ee.deletar(this.bloqueio).then(function(a){a.data?(e.veiculo.bloqueio_ativo=null,e.veiculo.quilometragem_atual=e.veiculo.quilometragem_anterior,e.veiculo.quilometragem_anterior=0,Z.alterar(e.veiculo).then(function(){e.limpar(),e.bloqueio.motivo="Manutenção",e.alertS=!0,e.messageS="Bloqueio deletado com sucesso",e.listarBloqueios(),e.listarVeiculos()})):(e.alertE=!0,e.messageE="Não é possivel deletar")}),this.limpar()},cancelar:function(){this.dialogBloqueio=!1,this.dialogDesbloqueio=!1,this.dialogDetalhesBloqueio=!1,this.listarBloqueios(),this.listarVeiculos()}}},xt=bt,qt=(t("8c1c"),t("a844")),kt=Object(b["a"])(xt,ut,mt,!1,null,null,null),Vt=kt.exports;q()(kt,{VAlert:ge["a"],VAutocomplete:fa["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDatePicker:Ue["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VMenu:Y["a"],VSelect:lt["a"],VSpacer:P["a"],VTextField:ke["a"],VTextarea:qt["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Ct=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{staticClass:"success",attrs:{transition:"scale-transition",origin:"center center",dismissible:"",dark:"",type:"success"},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Saida de Veículos\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"65%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Saida\n        ")])],1),t("v-card",{attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-alert",{staticClass:"warning",attrs:{transition:"scale-transition",origin:"center center",dismissible:"",dark:"",type:"warning"},model:{value:e.alertW,callback:function(a){e.alertW=a},expression:"alertW"}},[e._v("\n            "+e._s(e.messageW)+"\n          ")]),t("v-alert",{staticClass:"error",attrs:{transition:"scale-transition",origin:"center center",dismissible:"",dark:"",type:"error"},model:{value:e.alertE,callback:function(a){e.alertE=a},expression:"alertE"}},[e._v("\n            "+e._s(e.message)+"\n          ")]),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md4:""}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.dataAtual,expression:"dataAtual"}],ref:"dataAtual",attrs:{type:"text",hidden:""},domProps:{value:e.dataAtual},on:{input:function(a){a.target.composing||(e.dataAtual=a.target.value)}}}),t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuData,callback:function(a){e.menuData=a},expression:"menuData"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|after:dataAtual|date_format:DD/MM/YYYY",expression:"'required|after:dataAtual|date_format:DD/MM/YYYY'"}],attrs:{slot:"activator","data-vv-name":"data_saida",name:"data_saida","error-messages":e.errors.first("data_saida"),label:"* Data","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.dataSaidaFormated,callback:function(a){e.dataSaidaFormated=a},expression:"dataSaidaFormated"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"data_saida"},on:{input:function(a){e.menuData=!1}},model:{value:e.movimentacao.data_saida,callback:function(a){e.$set(e.movimentacao,"data_saida",a)},expression:"movimentacao.data_saida"}})],1)],1),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.listaViagens,name:"viagem_id","data-vv-name":"viagem_id",box:"",chips:"",color:"blue-grey lighten-2",label:"* Viagens","item-text":"datHorLoc","item-value":"id","error-messages":e.errors.first("viagem_id")},scopedSlots:e._u([{key:"selection",fn:function(a){return[t("v-chip",{staticClass:"chip--select-multi",attrs:{selected:a.selected,close:""},on:{input:function(t){return e.remove(a.item)}}},[e._v("\n                    "+e._s(a.item.data)+" -\n                    "+e._s(a.item.horario)+" -\n                    "+e._s(a.item.localidade.nome)+"\n                  ")])]}},{key:"item",fn:function(a){return["object"!==typeof a.item?[t("v-list-tile-content",{domProps:{textContent:e._s(a.item)}})]:["Fixa"==a.item.tipo?t("v-list-tile-avatar",[t("v-icon",[e._v("\n                        history\n                      ")])],1):e._e(),"Emergencia"==a.item.tipo?t("v-list-tile-avatar",[t("v-icon",[e._v("\n                        report\n                      ")])],1):e._e(),t("v-list-tile-content",[t("v-list-tile-sub-title",{domProps:{innerHTML:e._s("<b>Data:</b> "+a.item.data+"  <b>Horário:</b> "+a.item.horario+"  <b>Localidade:</b> "+a.item.localidade.nome)}}),t("v-list-tile-sub-title",{domProps:{innerHTML:e._s("<b>Motorista:</b> "+a.item.motorista.nome)}})],1)]]}}]),model:{value:e.movimentacao.viagem_id,callback:function(a){e.$set(e.movimentacao,"viagem_id",a)},expression:"movimentacao.viagem_id"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.movimentacao.horario_saida,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.movimentacao,"horario_saida",a)},"update:return-value":function(a){return e.$set(e.movimentacao,"horario_saida",a)}},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t("v-text-field",e._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"horario_saida","data-vv-name":"horario_saida",label:"* Horário da saída","prepend-icon":"access_time","error-messages":e.errors.first("horario_saida"),readonly:""},model:{value:e.movimentacao.horario_saida,callback:function(a){e.$set(e.movimentacao,"horario_saida",a)},expression:"movimentacao.horario_saida"}},o))]}}]),model:{value:e.menu2,callback:function(a){e.menu2=a},expression:"menu2"}},[e.menu2?t("v-time-picker",{attrs:{format:"24hr","data-vv-name":"horario_saida","full-width":""},on:{"click:minute":function(a){return e.$refs.menu.save(e.movimentacao.horario_saida)}},model:{value:e.movimentacao.horario_saida,callback:function(a){e.$set(e.movimentacao,"horario_saida",a)},expression:"movimentacao.horario_saida"}}):e._e()],1)],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"quilometragem_saida",name:"quilometragem_saida",label:"Quilometragem atual","error-messages":e.errors.first("quilometragem_saida"),hint:"km",type:"number",min:"0"},model:{value:e.movimentacao.quilometragem_saida,callback:function(a){e.$set(e.movimentacao,"quilometragem_saida",a)},expression:"movimentacao.quilometragem_saida"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],1),[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.saidas,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.viagem.veiculo.numero)+" - "+e._s(a.item.viagem.veiculo.modelo)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.viagem.localidade.nome)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(e.moment(a.item.data_saida).format("DD/MM/YYYY"))+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(e.moment(a.item.horario_saida,"HH:mm").format("HH:mm"))+"\n            ")])]}}])})],1)],1)],t("help-saida")],2)},yt=[],Dt={salvar:function(e){return X.post("movimentacoes",e)},alterar:function(e){return X.put("movimentacoes",e)},deletar:function(e){return X.delete("movimentacoes/".concat(e.id))},listar:function(e){return X.get("movimentacoes",{params:{movimento:e}})}},Mt=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar a saída\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("faed")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[o("div",[o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("954e")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},wt=[],Yt={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para registrar",itens:[{id:1,descricao:'Clique no "botão para registrar uma saída"',descricao2:" e aguarde a nova tela carregar, para registrar a saída ",btn:!0}]},{titulo:"Para alterar/excluir",itens:[{id:1,descricao:"Não é possivel realizar a alteração de uma saída do veículo. Registre o retorno do veículo para corrigir um possível erro de registro da saída em questão"}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo veículo no "campo para pesquisar pela saída"'}]}],arrHelp2:[{titulo:"Para registrar",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados da saída"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Não existe pacientes agendados para está viagem",solucao:"Agendar pacientes na viagem, pois uma viagem sem agendamento(s) não é possivel registrar saída para o veículo"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},St=Yt,Pt=(t("097e"),Object(b["a"])(St,Mt,wt,!1,null,"1648b988",null)),Et=Pt.exports;q()(Pt,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var jt={$_veeValidate:{validator:"new"},components:{HelpSaida:Et},data:function(){return{alert:!1,alertE:!1,message:"",search:"",alertW:!1,messageW:"",time:null,menu2:!1,menuData:!1,panel:[!0,!0,!1],disabled:!1,dialog:!1,mask_placa:"AAA-####",headers:[{text:"Veiculo",value:"modelo"},{text:"Localidade",value:"nome"},{text:"Data saida",value:"data_saida"},{text:"Horário saida",value:"horario_saida"}],dataAtual:null,listaViagens:[],listaVeiculos:[],saidas:[],movimentacao:{data_saida:null,horario_saida:null,quilometragem_saida:null,viagem_id:null},viagem:{id:"",data:null,horario:null,localidade:{nome:null},motorista:{nome:""},veiculo_id:null,tipo:null,status:null},veiculo:{id:null,numMod:null,quilometragem_atual:null,quilometragem_anterior:null},hrViagem:null,dictionary:{custom:{data_saida:{required:"Informe a data de saída",after:"Data de saída deve ser maior ou igual a data atual"},horario_saida:{required:"Informe o horário de saída"},quilometragem_saida:{required:"Informe a quilometragem atual na saída"},viagem_id:{required:"Informe a viagem a ser realizada pelo veículo"}}}}},computed:{dataSaidaFormated:function(){return null!=this.movimentacao.data_saida?this.moment(this.movimentacao.data_saida).format("DD/MM/YYYY"):null}},watch:{"movimentacao.data_saida":function(){this.listarViagens()},"movimentacao.viagem_id":function(){var e=this;null!=this.movimentacao.viagem_id&&ea.show(this.movimentacao.viagem_id).then(function(a){e.hrViagem=e.moment(e.viagem.horario,"HH:mm").format("HH:mm"),e.movimentacao.horario_saida=null,0===a.data.agendamentos.length?(e.viagem=null,e.errors.add({field:"viagem_id",msg:"Não existe pacientes agendados para está viagem"})):e.viagem=a.data})},"movimentacao.horario_saida":function(){this.moment(this.movimentacao.horario_saida,"HH:mm").isAfter(this.moment(this.viagem.horario,"HH:mm"))&&(this.alertW=!0,this.messageW="Viagem está com horário de saída em atraso!")}},mounted:function(){this.$validator.localize("en",this.dictionary),this.movimentacao.data_saida=(new Date).toISOString().substr(0,10),this.listarSaidas(),this.listarVeiculos(),this.dataAtual=this.moment(this.moment().subtract(1,"days")).format("DD/MM/YYYY")},methods:{remove:function(e){this.movimentacao.viagem_id=null},listarSaidas:function(){var e=this,a="saida";Dt.listar(a).then(function(a){e.saidas=a.data})},listarVeiculos:function(){var e=this;Z.listar().then(function(a){a.data.forEach(function(a){e.veiculo={id:a.id,numMod:"".concat(a.numero," - ").concat(a.modelo)},e.listaVeiculos.push(e.veiculo)})})},listarViagens:function(){var e=this;this.listaViagens=[],ea.buscarPorVeiculoPeriodo(this.movimentacao.data_saida).then(function(a){a.data.forEach(function(a){e.viagem=a,e.viagem.data=e.moment(a.data).format("DD/MM/YYYY"),e.listaViagens.push(e.viagem)})})},limpar:function(){this.$validator.reset(),this.dialog=!1,this.alert=!1,this.messageE="",this.movimentacao={},this.hrViagem=null,this.listaViagens=[]},salvar:function(){var e=this;this.$validator.validate().then(function(a){e.moment(e.dataSaidaFormated,"DD/MM/YYYY").isAfter(e.moment(e.moment(new Date).format("DD/MM/YYYY"),"DD/MM/YYYY"))&&e.errors.add({field:"data_saida",msg:"Data da saída não pode ser depois da data atual"}),null==e.viagem&&e.errors.add({field:"viagem_id",msg:"Não existe pacientes agendados para está viagem"}),null!=e.veiculo.id&&Z.show(e.veiculo.id).then(function(t){e.veiculo=t.data,e.movimentacao.quilometragem_saida<e.veiculo.quilometragem_atual&&(e.errors.add({field:"quilometragem_saida",msg:"Quilometragem inferior a quilometragem registrada atualmente"}),a(!1))}),a&&(e.movimentacao.veiculo_id=e.viagem.veiculo_id,Dt.salvar(e.movimentacao).then(function(a){e.viagem.status="Andamento",ea.alterar(e.viagem).then(function(a){e.veiculo.quilometragem_anterior=e.veiculo.quilometragem_atual;var t=e.movimentacao.quilometragem_saida-e.veiculo.quilometragem_atual;e.veiculo.quilometragem_atual=e.veiculo.quilometragem_atual+t,Z.alterar(e.veiculo).then(function(a){e.message="Saída de veículo realizada com sucesso",e.alert=!0,e.limpar(),e.listarSaidas()})})}))})},cancelar:function(){this.limpar()}}},At=jt,Tt=Object(b["a"])(At,Ct,yt,!1,null,null,null),$t=Tt.exports;q()(Tt,{VAlert:ge["a"],VAutocomplete:fa["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VCardTitle:he["a"],VChip:ga["a"],VContainer:le["a"],VDataTable:_e["a"],VDatePicker:Ue["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VListTileAvatar:_a["a"],VListTileContent:w["a"],VListTileSubTitle:w["b"],VMenu:Y["a"],VSpacer:P["a"],VTextField:ke["a"],VTimePicker:ba["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Ft=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{staticClass:"success",attrs:{transition:"scale-transition",origin:"center center",dismissible:"",dark:"",type:"success"},model:{value:e.alertS,callback:function(a){e.alertS=a},expression:"alertS"}},[e._v("\n    "+e._s(e.messageS)+"\n  ")]),[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n        Retorno de Veículos\n      ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"60%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n            Retorno\n          ")])],1),t("v-card",{attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-alert",{staticClass:"error",attrs:{transition:"scale-transition",origin:"center center",dismissible:"",dark:"",type:"error"},model:{value:e.alertE,callback:function(a){e.alertE=a},expression:"alertE"}},[e._v("\n              "+e._s(e.message)+"\n            ")]),t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:"",md8:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.listaVeiculos,name:"veiculo_id","data-vv-name":"veiculo_id",label:"* Veiculo","item-text":"numMod","item-value":"id","error-messages":e.errors.first("veiculo_id")},model:{value:e.veiculo_id,callback:function(a){e.veiculo_id=a},expression:"veiculo_id"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuData,callback:function(a){e.menuData=a},expression:"menuData"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY|date_between:"+e.dataSaida+","+e.dataAtual,expression:"`required|date_format:DD/MM/YYYY|date_between:${dataSaida},${dataAtual}`"}],attrs:{slot:"activator","data-vv-name":"data_retorno",name:"data_retorno","error-messages":e.errors.first("data_retorno"),label:"* Data","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.dateRetornoFormatted,callback:function(a){e.dateRetornoFormatted=a},expression:"dateRetornoFormatted"}}),t("v-date-picker",{attrs:{"data-vv-name":"data_retorno",name:"data_retorno",locale:"pt-BR"},on:{input:function(a){e.menuData=!1}},model:{value:e.movimentacao.data_retorno,callback:function(a){e.$set(e.movimentacao,"data_retorno",a)},expression:"movimentacao.data_retorno"}})],1)],1),t("v-flex",{attrs:{xs12:""}},[t("v-expansion-panel",{attrs:{disabled:e.disabled,readonly:"",expand:""},model:{value:e.panel,callback:function(a){e.panel=a},expression:"panel"}},[t("v-expansion-panel-content",{attrs:{disabled:""}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n                      Dados da saida\n                    ")]),t("v-container",[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"data_saida",label:"Data da saida",readonly:""},model:{value:e.movimentacao.data_saida,callback:function(a){e.$set(e.movimentacao,"data_saida",a)},expression:"movimentacao.data_saida"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{name:"horario_saida",label:"Horário da saida",readonly:""},model:{value:e.movimentacao.horario_saida,callback:function(a){e.$set(e.movimentacao,"horario_saida",a)},expression:"movimentacao.horario_saida"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{ref:"kmSaida",attrs:{name:"quilometragem_saida",label:"Quilometragem na saida",readonly:""},model:{value:e.movimentacao.quilometragem_saida,callback:function(a){e.$set(e.movimentacao,"quilometragem_saida",a)},expression:"movimentacao.quilometragem_saida"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"horario_viagem",label:"Horário da viagem",readonly:""},model:{value:e.viagem.horario,callback:function(a){e.$set(e.viagem,"horario",a)},expression:"viagem.horario"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{attrs:{name:"localidade",label:"Localidade",readonly:""},model:{value:e.viagem.localidade.nome,callback:function(a){e.$set(e.viagem.localidade,"nome",a)},expression:"viagem.localidade.nome"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{attrs:{name:"motorista",label:"Motorista",readonly:""},model:{value:e.viagem.motorista.nome,callback:function(a){e.$set(e.viagem.motorista,"nome",a)},expression:"viagem.motorista.nome"}})],1)],1)],1)],1)],1)],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.movimentacao.horario_retorno,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.movimentacao,"horario_retorno",a)},"update:return-value":function(a){return e.$set(e.movimentacao,"horario_retorno",a)}},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t("v-text-field",e._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"horario_retorno","data-vv-name":"horario_retorno",label:"* Horário de retorno","prepend-icon":"access_time","error-messages":e.errors.first("horario_retorno"),readonly:""},model:{value:e.movimentacao.horario_retorno,callback:function(a){e.$set(e.movimentacao,"horario_retorno",a)},expression:"movimentacao.horario_retorno"}},o))]}}]),model:{value:e.menu2,callback:function(a){e.menu2=a},expression:"menu2"}},[e.menu2?t("v-time-picker",{attrs:{format:"24hr","data-vv-name":"horario_retorno","full-width":""},on:{"click:minute":function(a){return e.$refs.menu.save(e.movimentacao.horario_retorno)}},model:{value:e.movimentacao.horario_retorno,callback:function(a){e.$set(e.movimentacao,"horario_retorno",a)},expression:"movimentacao.horario_retorno"}}):e._e()],1)],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|kmBefore:kmSaida",expression:"'required|kmBefore:kmSaida'"}],attrs:{name:"quilometragem_retorno","data-vv-name":"quilometragem_retorno",label:"* Quilometragem retorno","error-messages":e.errors.first("quilometragem_retorno")},model:{value:e.movimentacao.quilometragem_retorno,callback:function(a){e.$set(e.movimentacao,"quilometragem_retorno",a)},expression:"movimentacao.quilometragem_retorno"}})],1),t("v-flex",{attrs:{xs12:""}},[e.retorno?t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                  Salvar\n                ")]):e._e(),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                  Cancelar\n                ")])],1)],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.retornos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.viagem.veiculo.numero)+" - "+e._s(a.item.viagem.veiculo.modelo)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(e.moment(a.item.data_saida).format("DD/MM/YYYY"))+" -\n              "+e._s(e.moment(a.item.horario_saida,"HH:mm").format("HH:mm"))+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(e.moment(a.item.data_retorno).format("DD/MM/YYYY"))+" -\n              "+e._s(e.moment(a.item.horario_retorno,"HH:mm").format("HH:mm"))+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.viagem.localidade.nome)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.detalhes(a.item.id)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  list_alt\n                ")])],1)],1)]}}])})],1)],1)],[t("v-dialog",{attrs:{"max-width":"60%",persistent:"",transition:"dialog-transition"},model:{value:e.dialogDetalhes,callback:function(a){e.dialogDetalhes=a},expression:"dialogDetalhes"}},[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Detalhes retorno\n        ")])],1),t("v-card",{attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:"",md8:""}},[t("v-text-field",{attrs:{label:"Veiculo",readonly:""},model:{value:e.veiculo.numMod,callback:function(a){e.$set(e.veiculo,"numMod",a)},expression:"veiculo.numMod"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{label:"Data do retorno","prepend-icon":"event",readonly:""},model:{value:e.auxMovimentacao.data_retorno,callback:function(a){e.$set(e.auxMovimentacao,"data_retorno",a)},expression:"auxMovimentacao.data_retorno"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{label:"Data da saida",readonly:""},model:{value:e.auxMovimentacao.data_saida,callback:function(a){e.$set(e.auxMovimentacao,"data_saida",a)},expression:"auxMovimentacao.data_saida"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{attrs:{label:"Horário da saida",readonly:""},model:{value:e.auxMovimentacao.horario_saida,callback:function(a){e.$set(e.auxMovimentacao,"horario_saida",a)},expression:"auxMovimentacao.horario_saida"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{label:"Quilometragem na saida",readonly:""},model:{value:e.auxMovimentacao.quilometragem_saida,callback:function(a){e.$set(e.auxMovimentacao,"quilometragem_saida",a)},expression:"auxMovimentacao.quilometragem_saida"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{label:"Horário da viagem",readonly:""},model:{value:e.viagem.horario,callback:function(a){e.$set(e.viagem,"horario",a)},expression:"viagem.horario"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{attrs:{label:"Localidade",readonly:""},model:{value:e.viagem.localidade.nome,callback:function(a){e.$set(e.viagem.localidade,"nome",a)},expression:"viagem.localidade.nome"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{attrs:{label:"Motorista",readonly:""},model:{value:e.viagem.motorista.nome,callback:function(a){e.$set(e.viagem.motorista,"nome",a)},expression:"viagem.motorista.nome"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{label:"Horário de retorno","prepend-icon":"access_time",readonly:""},model:{value:e.auxMovimentacao.horario_retorno,callback:function(a){e.$set(e.auxMovimentacao,"horario_retorno",a)},expression:"auxMovimentacao.horario_retorno"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{label:"Quilometragem retorno",readonly:""},model:{value:e.auxMovimentacao.quilometragem_retorno,callback:function(a){e.$set(e.auxMovimentacao,"quilometragem_retorno",a)},expression:"auxMovimentacao.quilometragem_retorno"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],t("help-retorno")],2)},Ht=[],zt={alterar:function(e){return X.put("movimentacoes/".concat(e.id),e)},listar:function(){return X.get("movimentacoes")},listarPorVeiculo:function(e){return X.get("veiculos/".concat(e,"/movimentacoes"))},show:function(e){return X.get("movimentacoes/".concat(e))}},It=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar o retorno\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("faed")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[o("div",[o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("7fbe")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},Bt=[],Nt={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para registrar",itens:[{id:1,descricao:'Clique no "botão para registrar uma saída"',descricao2:" e aguarde a nova tela carregar, para registrar a saída ",btn:!0}]},{titulo:"Para alterar/excluir",itens:[{id:1,descricao:"Não é possivel realizar a alteração de uma saída do veículo. Registre o retorno do veículo para corrigir um possível erro de registro da saída em questão"}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo veículo no "campo para pesquisar pela saída"'}]}],arrHelp2:[{titulo:"Para registrar",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados da retorno"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"A data de retorno deve estar entre a data de saída e a data atual",solucao:"Informe uma data superior ou igual a data de saida e menor ou igual a data atual"},{id:2,descricao:"A quilometragem atual é inferior a quilometragem informada na saida",solucao:"Informe uma quilometragem superior a informada na saída"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},Lt=Nt,Ot=(t("a7f3"),Object(b["a"])(Lt,It,Bt,!1,null,"5ceeaf4d",null)),Rt=Ot.exports;q()(Ot,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Wt={$_veeValidate:{validator:"new"},components:{HelpRetorno:Rt},data:function(){return{retorno:!0,search:"",alertE:!1,message:"",alertS:!1,messageS:"",time:null,menu2:!1,menuData:!1,panel:[!0,!0,!1],dialog:!1,dialogDetalhes:!1,disabled:!1,headers:[{text:"Veículo",value:"modelo"},{text:"Saida",value:"data_saida"},{text:"Retorno",value:"data_retorno"},{text:"Localidade",value:"localidade.nome"}],dataAtual:null,dataSaida:null,auxMovimentacao:{id:null,data_retorno:null,horario_retorno:null,quilometragem_retorno:null,data_saida:null,horario_saida:null,quilometragem_saida:null,viagem:{horario:null}},movimentacao:{id:null,data_retorno:null,horario_retorno:null,quilometragem_retorno:null,data_saida:null,horario_saida:null,quilometragem_saida:null},veiculo_id:null,veiculo:{id:null,numMod:null,quilometragem_atual:null,quilometragem_anterior:null},viagem:{horario:null,localidade:{nome:null},motorista:{nome:null},status:""},retornos:[],listaVeiculos:[],dictionary:{custom:{veiculo_id:{required:"O veículo deve ser infromado"},data_retorno:{required:"A data de retorno deve ser informada",date_between:"A data de retorno deve estar entre a data de saída e a data atual"},horario_retorno:{required:"O horário de retorno deve ser informado"},quilometragem_retorno:{required:"A quilometragem de retorno deve ser informada",kmBefore:"A quilometragem atual é inferior a quilometragem informada na saida"}}}}},computed:{dateRetornoFormatted:function(){return null!=this.movimentacao.data_retorno?this.moment(this.movimentacao.data_retorno).format("DD/MM/YYYY"):null}},watch:{veiculo_id:function(){var e=this;this.veiculo_id&&this.retorno&&(this.limparUm(),zt.listarPorVeiculo(this.veiculo_id).then(function(a){a.data.length>0?(e.movimentacao=a.data[0],e.movimentacao.data_saida=e.moment(a.data[0].data_saida).format("DD/MM/YYYY"),e.dataSaida=e.moment(e.moment(a.data[0].data_saida,"DD/MM/YYYY").subtract(1,"day")).format("DD/MM/YYYY"),e.movimentacao.horario_saida=e.moment(a.data[0].horario_saida,"HH:mm").format("HH:mm"),ea.show(e.movimentacao.viagem_id).then(function(a){e.viagem=a.data,e.viagem.horario=e.moment(e.viagem.horario,"HH:mm").format("HH:mm")})):(e.alertE=!0,e.message="Veículo não possui saída registrada")}))},"movimentacao.data_retorno":function(){this.movimentacao.horario_retorno=null,this.movimentacao.quilometragem_retorno=null}},created:function(){s["a"].extend("kmBefore",function(e,a){var t=Object(Ka["a"])(a,1),o=t[0];return e>o},{hasTarget:!0})},mounted:function(){this.$validator.localize("en",this.dictionary),this.listarSaidas(),this.listarVeiculos(),this.dataAtual=this.moment(this.moment().add(1,"days")).format("DD/MM/YYYY")},methods:{listarVeiculos:function(){var e=this;Dt.listar("saida").then(function(a){a.data.forEach(function(a){e.veiculo={id:a.viagem.veiculo.id,numMod:"".concat(a.viagem.veiculo.numero," - ").concat(a.viagem.veiculo.modelo)},e.listaVeiculos.push(e.veiculo)})})},listarSaidas:function(){var e=this,a="retorno";zt.listar(a).then(function(a){e.retornos=a.data.filter(function(e){return null!=e.data_retorno})})},limpar:function(){this.$validator.reset(),this.dialog=!1,this.dialogDetalhes=!1,this.veiculo_id=null,this.limparUm()},limparUm:function(){this.movimentacao.data_retorno=null,this.movimentacao.horario_retorno=null,this.movimentacao.data_saida=null,this.movimentacao.horario_saida=null,this.movimentacao.quilometragem_saida=null,this.viagem={horario:null,localidade:{nome:null},motorista:{nome:null}}},salvar:function(){var e=this;this.$validator.validate().then(function(a){e.moment(e.movimentacao.data_retorno).format("DD/MM/YYYY")==e.movimentacao.data_saida&&e.moment(e.movimentacao.horario_retorno,"HH:mm").isBefore(e.moment(e.movimentacao.horario_saida,"HH:mm"))&&e.errors.add({field:"horario_retorno",msg:"O horário de retorno deve ser posterior ao horário de saída"}),null!=e.veiculo.id&&Z.show(e.veiculo.id).then(function(t){e.veiculo=t.data,e.movimentacao.quilometragem_retorno<e.veiculo.quilometragem_atual&&(e.errors.add({field:"quilometragem_retorno",msg:"Quilometragem inferior a quilometragem registrada atualmente"}),a(!1))}),a&&(e.movimentacao.data_saida=e.moment(e.movimentacao.data_saida,"DD/MM/YYYY").format("YYYY-MM-DD"),zt.alterar(e.movimentacao).then(function(a){e.viagem.status="Realizada",ea.alterar(e.viagem).then(function(a){e.veiculo.quilometragem_anterior=e.veiculo.quilometragem_atual;var t=e.movimentacao.quilometragem_retorno-e.veiculo.quilometragem_atual;e.veiculo.quilometragem_atual=e.veiculo.quilometragem_atual+t,Z.alterar(e.veiculo).then(function(a){e.messageS="Registro de retorno do veículo realizado com sucesso",e.alertS=!0,e.listarSaidas(),e.limpar()})})}))})},detalhes:function(e){var a=this;this.retorno=!1,zt.show(e).then(function(e){a.auxMovimentacao=e.data,a.veiculo.numMod="".concat(e.data.viagem.veiculo.numero," - ").concat(e.data.viagem.veiculo.modelo),a.auxMovimentacao.data_saida=a.moment(a.auxMovimentacao.data_saida).format("DD/MM/YYYY"),a.auxMovimentacao.data_retorno=a.moment(a.auxMovimentacao.data_retorno).format("DD/MM/YYYY"),a.viagem=e.data.viagem,a.viagem.horario=a.moment(e.data.viagem.horario,"HH:mm").format("HH:mm"),a.dialogDetalhes=!0})},cancelar:function(){this.limpar()}}},Gt=Wt,Qt=Object(b["a"])(Gt,Ft,Ht,!1,null,null,null),Ut=Qt.exports;q()(Qt,{VAlert:ge["a"],VAutocomplete:fa["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDatePicker:Ue["a"],VDialog:de["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VMenu:Y["a"],VSpacer:P["a"],VTextField:ke["a"],VTimePicker:ba["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Jt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-alert",{attrs:{color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertError,callback:function(a){e.alertError=a},expression:"alertError"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Especialidades\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"50%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Gerenciar Especialidades\n        ")]),t("v-spacer"),e.progress?[t("v-progress-circular",{attrs:{size:30,width:5,color:"green",indeterminate:""}})]:e._e()],2),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"nome",label:"* Nome","error-messages":e.errors.first("nome"),"data-vv-as":"nome","data-vv-name":"nome"},model:{value:e.especialidade.nome,callback:function(a){e.$set(e.especialidade,"nome",a)},expression:"especialidade.nome"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"descricao",label:"Descrição"},model:{value:e.especialidade.descricao,callback:function(a){e.$set(e.especialidade,"descricao",a)},expression:"especialidade.descricao"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar esta especialidade?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.especialidades,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.nome))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.descricao)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],t("help-especialidade")],2)},Kt=[],Xt=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar especialidades\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("94ee")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[e._v("\n                            "+e._s(a.observacao)+"\n                          ")]):o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal2}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  edit\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("32ea")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},Zt=[],eo={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:1,descricao:'Clique no "botão para adicionar especialidade"',descricao2:" e aguarde a nova tela carregar, para cadastrar a especialidade ",btn1:!0}]},{titulo:"Para alterar",itens:[{id:1,descricao:"Busque pela especialidade que deseja realizar a alteração"},{id:2,descricao:'Clique no "botão para editar uma especialidade"',descricao2:"referente à especialidade que deseja realizar a alteração e aguarde carregar a nova tela com os dados da mesma",btn2:!0}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo especialidade que deseja excluir"},{id:2,descricao:'Clique no "botão para excluir uma especialidade", referente à especialidade que deseja realizar a exclusão e aguarde pela mensagem de confirmação',foto:!0}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo nome no "campo para pesquisar pela especialidade"'}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Impossivel excluir à especialidade, pois está vinculada a um ou mais agendamentos",solucao:"Não é possível realizar este tipo de ação, pois pode causar inconsistências na base de dados"}]}],arrHelp2:[{titulo:"Para inserir",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados da especialidade"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Já existe uma especialidade com este nome",solucao:"Não realizar cadastro de uma especialidade que já se encontra registrada"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},ao=eo,to=(t("3a28"),Object(b["a"])(ao,Xt,Zt,!1,null,"519a2f6e",null)),oo=to.exports;q()(to,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var io={components:{HelpEspecialidade:oo},data:function(){return{alert:!1,alertError:!1,dialog:!1,dialogConfirmDelete:!1,progress:!1,message:"",search:"",headers:[{text:"Nome",value:"nome"},{text:"Descrição",value:"descricao"}],id:0,especialidade:{nome:"",descricao:""},especialidades:[]}},mounted:function(){this.listarEspecialidades()},methods:{listarEspecialidades:function(){var e=this;sa.listar().then(function(a){e.especialidades=a.data})},limpar:function(){this.alert=!1,this.dialog=!1,this.dialogConfirmDelete=!1,this.progress=!1,this.id=0,this.especialidade={},this.errors.clear()},salvar:function(){var e=this;this.progress=!0,0===this.id?sa.salvar(this.especialidade).then(function(a){e.limpar(),e.listarEspecialidades(),e.message="Especialidade adicionado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&(e.progress=!1,e.errors.add({field:a.response.data[0].field,msg:a.response.data[0].message}))}):sa.alterar(this.especialidade).then(function(a){e.limpar(),e.listarEspecialidades(),e.message="Especialidade alterada com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&(e.progress=!1,e.errors.add({field:a.response.data[0].field,msg:a.response.data[0].message}))})},editar:function(e){this.id=e.id,this.especialidade=e,this.dialog=!0},messageDelete:function(e){this.especialidade=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;sa.deletar(this.especialidade).then(function(a){a.data?(e.alert=!0,e.message="Especialidade deletada com sucesso",e.listarEspecialidades()):(e.alertError=!0,e.message="Não é possivel deletar, pois a especialidade está vinculada a um ou mais cids")}),this.limpar()},cancelar:function(){this.limpar()}}},ro=io,so=Object(b["a"])(ro,Jt,Kt,!1,null,null,null),no=so.exports;q()(so,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VProgressCircular:qe["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var lo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{value:e.alert,type:"success",transition:"scale-transition",dismissible:""}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Procedimentos\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"50%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Gerenciar Procedimentos\n        ")]),t("v-spacer"),e.progress?[t("v-progress-circular",{attrs:{size:30,width:5,color:"green",indeterminate:""}})]:e._e()],2),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"Nome",label:"* Nome","error-messages":e.errors.first("nome")},model:{value:e.procedimento.nome,callback:function(a){e.$set(e.procedimento,"nome",a)},expression:"procedimento.nome"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"Descricao",label:"Descrição"},model:{value:e.procedimento.descricao,callback:function(a){e.$set(e.procedimento,"descricao",a)},expression:"procedimento.descricao"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar este Procedimento?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.procedimentos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.nome))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.descricao)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],t("help-procedimento")],2)},co=[],uo=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar procedimentos\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("8ac1")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[e._v("\n                            "+e._s(a.observacao)+"\n                          ")]):o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal2}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  edit\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("1628")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},mo=[],vo={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:'Clique no "botão para adicionar um procedimento"',descricao2:" e aguarde a nova tela carregar, para cadastrar o novo procedimento ",btn1:!0}]},{titulo:"Para alterar",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Busque pelo procedimento que deseja realizar a alteração"},{id:2,descricao:'Clique no "botão para editar um procedimento"',descricao2:"referente ao procedimento que deseja realizar a alteração e aguarde carregar a nova tela com os dados do mesmo",btn2:!0}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pela procedimento que deseja excluir"},{id:2,descricao:'Clique no "botão para excluir uma procedimento", referente ao procedimento que deseja realizar a exclusão e aguarde pela mensagem de confirmação',foto:!0}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo nome no "campo para pesquisar pelo procedimento"'}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Não é possivel excluir, pois o procedimento está vinculada a um ou mais agendamentos",solucao:"Não é possível realizar este tipo de ação, pois pode causar inconsistências na base de dados"}]}],arrHelp2:[{titulo:"Para inserir: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do procedimento"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Este procedimento já se encontra cadastrado ",solucao:"Não realizar cadastro de um procedimento que ja se encontra registrado"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},po=vo,fo=(t("7307"),Object(b["a"])(po,uo,mo,!1,null,"25e67af2",null)),go=fo.exports;q()(fo,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var ho={components:{HelpProcedimento:go},data:function(){return{alert:!1,dialog:!1,dialogConfirmDelete:!1,progress:!1,message:"",search:"",headers:[{text:"Nome",value:"nome"},{text:"Descrição",value:"descricao"}],id:0,procedimento:{nome:"",descricao:""},procedimentos:[]}},mounted:function(){this.listarProcedimentos()},methods:{listarProcedimentos:function(){var e=this;ra.listar().then(function(a){e.procedimentos=a.data})},limpar:function(){this.alert=!1,this.dialog=!1,this.dialogConfirmDelete=!1,this.progress=!1,this.id=0,this.procedimento={},this.errors.clear()},salvar:function(){var e=this;this.progress=!0,0===this.id?ra.salvar(this.procedimento).then(function(a){e.limpar(),e.listarProcedimentos(),e.message="Procedimento adicionado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.errors.add({field:a.response.data[0].field,msg:a.response.data[0].message})}):ra.alterar(this.procedimento).then(function(a){e.limpar(),e.listarProcedimentos(),e.message="Procedimento alterado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.errors.add({field:a.response.data[0].field,msg:a.response.data[0].message})})},cancelar:function(){this.limpar()},messageDelete:function(e){this.procedimento=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;ra.deletar(this.procedimento).then(function(a){e.alert=!0,e.message="Procedimento deletado com sucesso",e.listarProcedimentos()}),this.limpar()},editar:function(e){this.id=e.id,this.procedimento=e,this.dialog=!0}}},_o=ho,bo=Object(b["a"])(_o,lo,co,!1,null,null,null),xo=bo.exports;q()(bo,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VProgressCircular:qe["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var qo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-alert",{attrs:{color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertError,callback:function(a){e.alertError=a},expression:"alertError"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Localidades\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"50%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Gerenciar Localidades\n        ")]),t("v-spacer"),e.progress?[t("v-progress-circular",{attrs:{size:30,width:5,color:"green",indeterminate:""}})]:e._e()],2),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"nome",label:"* Nome","error-messages":e.errors.first("nome")},model:{value:e.localidade.nome,callback:function(a){e.$set(e.localidade,"nome",a)},expression:"localidade.nome"}})],1),t("v-flex",{attrs:{xs12:"",md9:""}},[t("v-select",{attrs:{name:"estado",label:"* Estado",items:e.estados,"error-messages":e.errors.first("estado")},model:{value:e.localidade.estado,callback:function(a){e.$set(e.localidade,"estado",a)},expression:"localidade.estado"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{type:"number",name:"distancia",label:"* Distancia","error-messages":e.errors.first("distancia"),hint:"km"},model:{value:e.localidade.distancia,callback:function(a){e.$set(e.localidade,"distancia",a)},expression:"localidade.distancia"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar esta localidade?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.localidades,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.nome))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.estado)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.distancia)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],t("help-localidade")],2)},ko=[],Vo=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar localidades\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("af89")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[e._v("\n                            "+e._s(a.observacao)+"\n                          ")]):o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal2}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  edit\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("1aae")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},Co=[],yo={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:'Clique no "botão para adicionar uma localidade"',descricao2:" e aguarde a nova tela carregar, para cadastrar a nova localidade ",btn1:!0}]},{titulo:"Para alterar",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Busque pela localidade que deseja realizar a alteração"},{id:2,descricao:'Clique no "botão para editar uma localidade"',descricao2:"referente a localidade que deseja realizar a alteração e aguarde carregar a nova tela com os dados da mesma",btn2:!0}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pela localidade que deseja excluir"},{id:2,descricao:'Clique no "botão para excluir uma localidade", referente a localidade que deseja realizar a exclusão e aguarde pela mensagem de confirmação',foto:!0}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo nome, código ou localidade no "campo para pesquisar pela localidade"'}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Não é possivel deletar, pois a localidade está vinculada a um ou mais locais de consulta",solucao:"Não é possível realizar este tipo de ação, pois pode causar inconsistências na base de dados"}]}],arrHelp2:[{titulo:"Para inserir: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados da localidade"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Está localidade já se encontra cadastrada ",solucao:"Não realizar cadastro de uma localidade que ja se encontra registrada"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},Do=yo,Mo=(t("2cac"),Object(b["a"])(Do,Vo,Co,!1,null,"79474842",null)),wo=Mo.exports;q()(Mo,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Yo={components:{HelpLocalidade:wo},data:function(){return{alert:!1,alertError:!1,dialog:!1,dialogConfirmDelete:!1,progress:!1,message:"",search:"",headers:[{text:"Cidade",value:"nome"},{text:"Estado",value:"estado"},{text:"Distancia (km)",value:"distancia"}],estados:["Paraná","São Paulo","Mato Grosso","Mato Grosso do Sul"],id:0,localidade:{nome:"",estado:"",distancia:""},localidades:[]}},mounted:function(){this.listarLocalidades()},methods:{listarLocalidades:function(){var e=this;ta.listar().then(function(a){e.localidades=a.data})},limpar:function(){this.alert=!1,this.dialog=!1,this.dialogConfirmDelete=!1,this.progress=!1,this.id=0,this.localidade={},this.errors.clear()},isErrors:function(e){var a=this;this.errors.clear(),this.progress=!1,e.forEach(function(e){a.errors.add({field:e.field,msg:e.message})}),this.localidade.distancia<=0&&this.errors.add({field:"distancia",msg:"A distância informada está inválida"})},salvar:function(){var e=this;this.progress=!0,0===this.id?ta.salvar(this.localidade).then(function(a){e.limpar(),e.listarLocalidades(),e.message="Localidade adicionada com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}):ta.alterar(this.localidade).then(function(a){e.limpar(),e.listarLocalidades(),e.message="Localidade alterada com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)})},editar:function(e){this.id=e.id,this.localidade=e,this.dialog=!0},messageDelete:function(e){this.localidade=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;this.alertError=!1,ta.deletar(this.localidade).then(function(a){a.data?(e.alert=!0,e.message="Localidade deletada com sucesso",e.listarLocalidades()):(e.alertError=!0,e.message="Não é possivel deletar, pois a localidade está vinculada a um ou mais locais de consulta")}),this.limpar()},cancelar:function(){this.limpar()}}},So=Yo,Po=Object(b["a"])(So,qo,ko,!1,null,null,null),Eo=Po.exports;q()(Po,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VProgressCircular:qe["a"],VSelect:lt["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var jo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Locais de consulta\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"65%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Gerenciar local de consulta\n        ")]),t("v-spacer"),e.progress?[t("v-progress-circular",{attrs:{size:30,width:5,color:"green",indeterminate:""}})]:e._e()],2),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-alert",{attrs:{color:"error",type:"error",dismissible:"",dark:""},model:{value:e.alertError,callback:function(a){e.alertError=a},expression:"alertError"}},[e._v("\n            "+e._s(e.errorMessage)+"\n          ")]),t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"nome",name:"Nome",label:"* Nome","error-messages":e.errors.first("nome")},model:{value:e.local.nome,callback:function(a){e.$set(e.local,"nome",a)},expression:"local.nome"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"localidade_id",name:"localidade_id",label:"* Localidade",items:e.localidades,"item-text":"nome","item-value":"id","error-messages":e.errors.first("localidade_id")},model:{value:e.local.localidade_id,callback:function(a){e.$set(e.local,"localidade_id",a)},expression:"local.localidade_id"}})],1),t("v-flex",{attrs:{"xs12,":"",md9:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"endereco",name:"endereco",label:"* Endereço","error-messages":e.errors.first("endereco")},model:{value:e.local.endereco,callback:function(a){e.$set(e.local,"endereco",a)},expression:"local.endereco"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"numero",name:"numero",label:"* Número","error-messages":e.errors.first("numero")},model:{value:e.local.numero,callback:function(a){e.$set(e.local,"numero",a)},expression:"local.numero"}})],1),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"bairro",name:"bairro",label:"* Bairro","error-messages":e.errors.first("bairro")},model:{value:e.local.bairro,callback:function(a){e.$set(e.local,"bairro",a)},expression:"local.bairro"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"telefone",label:"Telefone",mask:e.mask_telefone,"error-messages":e.errors.first("telefone")},model:{value:e.local.telefone,callback:function(a){e.$set(e.local,"telefone",a)},expression:"local.telefone"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{attrs:{name:"celular",label:"Celular",mask:e.mask_celular,"error-messages":e.errors.first("celular")},model:{value:e.local.celular,callback:function(a){e.$set(e.local,"celular",a)},expression:"local.celular"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{name:"Descricao",label:"Descrição"},model:{value:e.local.descricao,callback:function(a){e.$set(e.local,"descricao",a)},expression:"local.descricao"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:function(a){return e.cancelar()}}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar este Local?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.locais,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.nome))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.localidade.nome)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.localidade.estado)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.celular)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.telefone)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],t("help-local-de-consulta")],2)},Ao=[],To=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar locais de consulta\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("fdbd")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[e._v("\n                            "+e._s(a.observacao)+"\n                          ")]):o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal2}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  edit\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("0e64")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},$o=[],Fo={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:'Clique no "botão para adicionar local de consulta"',descricao2:" e aguarde a nova tela carregar, para cadastrar o novo local de consulta ",btn1:!0}]},{titulo:"Para alterar",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Busque pelo local de consulta que deseja realizar a alteração"},{id:2,descricao:'Clique no "botão para editar um local de consulta"',descricao2:"referente ao local de consulta que deseja realizar a alteração e aguarde carregar a nova tela com os dados do mesmo",btn2:!0}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo local de consulta que deseja excluir"},{id:2,descricao:'Clique no "botão para excluir um local de consulta", referente ao local de consulta que deseja realizar a exclusão e aguarde pela mensagem de confirmação',foto:!0}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo nome "campo para pesquisar pelo local de consulta"'}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Impossivel excluir o local de consulta, pois este está vinculado a um ou mais agendamentos",solucao:"Não é possível realizar este tipo de ação, pois pode causar inconsistências na base de dados"}]}],arrHelp2:[{titulo:"Para inserir ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do local de consulta"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},Ho=Fo,zo=(t("6928"),Object(b["a"])(Ho,To,$o,!1,null,"2bab80b3",null)),Io=zo.exports;q()(zo,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Bo={$_veeValidate:{validator:"new"},components:{HelpLocalDeConsulta:Io},data:function(){return{alert:!1,alertError:!1,dialog:!1,dialogConfirmDelete:!1,progress:!1,message:"",errorMessage:"",mask_telefone:"(##)####-####",mask_celular:"(##)#####-####",search:"",headers:[{text:"Nome",value:"nome"},{text:"Localidade",value:"localidade.nome"},{text:"Estado",value:"localidade.estado"},{text:"Celular",value:"celular"},{text:"Telefone",value:"telefone"}],id:0,local:{nome:"",localidade_id:"",bairro:"",endereco:"",numero:"",telefone:"",celular:"",descricao:""},locais:[],localidades:[],dictionary:{custom:{nome:{required:"O nome deve ser informado"},localidade_id:{required:"A localidade do local de consulta deve ser informado"},bairro:{required:"O bairro deve ser informado"},endereco:{required:"O endereço deve ser informado"},numero:{required:"O número deve ser informado"}}}}},mounted:function(){this.$validator.localize("en",this.dictionary),this.listarLocais(),this.listarLocalidades()},methods:{listarLocais:function(){var e=this;oa.listar().then(function(a){e.locais=a.data})},listarLocalidades:function(){var e=this;ta.listar().then(function(a){e.localidades=a.data})},limpar:function(){this.alert=!1,this.dialog=!1,this.dialogConfirmDelete=!1,this.progress=!1,this.id=0,this.local={},this.errors.clear(),this.$validator.reset()},isErrors:function(e){var a=this;this.errors.clear(),this.progress=!1,e.forEach(function(e){a.errors.add({field:e.field,msg:e.message})})},salvar:function(){var e=this;this.progress=!0,this.$validator.validate().then(function(a){a?0===e.id?oa.salvar(e.local).then(function(a){e.limpar(),e.listarLocais(),e.message="Local de consulta adicionado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}):oa.alterar(e.local).then(function(a){e.limpar(),e.listarLocais(),e.message="Local de consulta alterado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}):e.errorMessage="Já existe um local cadastrado com estas informações"})},editar:function(e){this.id=e.id,this.local=e,this.dialog=!0},messageDelete:function(e){this.local=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;oa.deletar(this.local).then(function(a){e.alert=!0,e.message="Local de consulta deletada com sucesso",e.listarLocais()}),this.limpar()},cancelar:function(){this.limpar()}}},No=Bo,Lo=Object(b["a"])(No,jo,Ao,!1,null,null,null),Oo=Lo.exports;q()(Lo,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VProgressCircular:qe["a"],VSelect:lt["a"],VSpacer:P["a"],VTextField:ke["a"],VTextarea:qt["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Ro=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Cid 10\n    ")]),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"50%",persistent:"",transition:"dialog-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",flat:"",dark:"",icon:"",outline:"",color:"primary"},slot:"activator"},[t("v-icon",[e._v("add")])],1),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n          Gerenciar Cid 10\n        ")]),t("v-spacer"),e.progress?[t("v-progress-circular",{attrs:{size:30,width:5,color:"green",indeterminate:""}})]:e._e()],2),t("v-card",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{name:"nome",label:"* Nome","error-messages":e.errors.first("nome")},model:{value:e.cid.nome,callback:function(a){e.$set(e.cid,"nome",a)},expression:"cid.nome"}})],1),t("v-flex",{attrs:{xs12:"",md8:""}},[t("v-select",{attrs:{name:"especialidade_id",label:"* Especialidade",items:e.especialidades,"item-text":"nome","item-value":"id","error-messages":e.errors.first("especialidade_id")},model:{value:e.cid.especialidade_id,callback:function(a){e.$set(e.cid,"especialidade_id",a)},expression:" cid.especialidade_id"}})],1),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{attrs:{name:"codigo",label:"* Codigo","error-messages":e.errors.first("codigo")},model:{value:e.cid.codigo,callback:function(a){e.$set(e.cid,"codigo",a)},expression:"cid.codigo"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{name:"descricao",label:"Descrição"},model:{value:e.cid.descricao,callback:function(a){e.$set(e.cid,"descricao",a)},expression:"cid.descricao"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",flat:"",outline:""},on:{click:e.salvar}},[e._v("\n                Salvar\n              ")]),t("v-btn",{attrs:{color:"red darken-1",flat:"",outline:""},on:{click:e.cancelar}},[e._v("\n                Cancelar\n              ")])],1)],1)],1)],1)],1)],1),[t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogConfirmDelete,callback:function(a){e.dialogConfirmDelete=a},expression:"dialogConfirmDelete"}},[t("v-card",[t("v-card-title",{staticClass:"error headline",staticStyle:{"font-weight":"bold",color:"white"}}),t("v-card-text",[e._v("\n              Você deseja realmente deletar este Cid10?\n            ")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{flat:""},on:{click:function(a){return e.limpar()}}},[e._v("\n                Cancelar\n              ")]),t("v-btn",{attrs:{flat:"",color:"error darken-1"},on:{click:function(a){return e.deletar()}}},[e._v("\n                Confirmar\n              ")])],1)],1)],1)],1)],1)],[t("v-card",{attrs:{flat:""}},[t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-card-text",[t("v-data-table",{attrs:{headers:e.headers,items:e.cids,search:e.search},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.nome))]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.codigo)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.especialidade.nome)+"\n            ")]),t("td",{staticClass:"text-xs-left"},[e._v("\n              "+e._s(a.item.descricao)+"\n            ")]),t("td",{staticClass:"justify-center layout px-0"},[t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.editar(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  edit\n                ")])],1),t("v-btn",{attrs:{small:"",outline:"",icon:""},on:{click:function(t){return e.messageDelete(a.item)}}},[t("v-icon",{attrs:{small:""}},[e._v("\n                  delete\n                ")])],1)],1)]}}])})],1)],1)],t("help-cid")],2)},Wo=[],Go=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[[o("div",{staticClass:"text-xs-center"},[o("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-fab-transition",[o("v-btn",{attrs:{color:"red",dark:"",fab:"",fixed:"",bottom:"",right:""}},[o("v-icon",[e._v("help")])],1)],1)]},proxy:!0}])},[[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"red lighten-2"}},[o("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n                Ajuda para gerenciar Cids 10\n              ")])],1),o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("img",{staticClass:"image",attrs:{src:t("af89")}})]),o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target",fluid:""}},[o("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:e.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticStyle:{"min-height":"300px"},attrs:{column:"",wrap:""}},e._l(e.arrHelp,function(a){return o("div",{key:a.id,staticStyle:{"padding-bottom":"10px"}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[o("div",[o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao)+"\n                            "),a.btn1?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"primary"},on:{click:e.openModal2}},[o("v-icon",[e._v("add")])],1)]:e._e(),a.btn2?[o("v-btn",{attrs:{outline:"",icon:"",flat:"",small:"",color:"#000"},on:{click:e.openModal2}},[o("v-icon",{attrs:{small:""}},[e._v("\n                                  edit\n                                ")])],1)]:e._e(),a.descricao2?[e._v("\n                              "+e._s(a.descricao2)+"\n                            ")]:e._e()],2)])})],2)}),0)],1)],1)],1)],1)],1)],[o("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog2,callback:function(a){e.dialog2=a},expression:"dialog2"}},[o("v-card",[o("v-card-text",[o("img",{staticClass:"image2",attrs:{src:t("1aae")}}),e._l(e.arrHelp2,function(a){return[o("v-container",{key:a.titulo,attrs:{fluid:"","grid-list-xs":""}},[o("div",[o("strong",[e._v(e._s(a.titulo))])]),e._l(a.itens,function(a){return o("div",{key:a.id},[a.observacao?o("div",[o("strong",[e._v("Observação: ")]),e._v(e._s(a.observacao)+"\n                      ")]):o("div",[o("div",[a.observacao?e._e():o("strong",[e._v(e._s(a.id)+" - ")]),e._v(e._s(a.descricao))]),a.solucao?o("div",[o("strong",[e._v("Solução: ")]),e._v(e._s(a.solucao)+"\n                        ")]):e._e()])])})],2)]})],2)],1)],1)]],2)],1)]],2)},Qo=[],Uo={data:function(){return{dialog2:!1,arrHelp:[{titulo:"Para inserir",itens:[{id:1,descricao:'Clique no "botão para adicionar Cid 10"',descricao2:" e aguarde a nova tela carregar, para cadastrar o Cid 10 ",btn1:!0}]},{titulo:"Para alterar",itens:[{id:1,descricao:"Busque pelo Cid 10 que deseja realizar a alteração"},{id:2,descricao:'Clique no "botão para editar um Cid 10"',descricao2:"referente ao Cid 10 que deseja realizar a alteração e aguarde carregar a nova tela com os dados do mesmo",btn2:!0}]},{titulo:"Para excluir",itens:[{id:1,descricao:"Busque pelo Cid 10 que deseja excluir"},{id:2,descricao:'Clique no "botão para excluir um Cid 10", referente ao Cid 10 que deseja realizar a exclusão e aguarde pela mensagem de confirmação'}]},{titulo:"Para pesquisar",itens:[{id:1,descricao:'Busque pelo nome, código ou especialidade no "campo para pesquisar pelo Cid 10"'}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Impossivel excluir o Cid 10, pois este está vinculado a um ou mais agendamentos",solucao:"Não é possível realizar este tipo de ação, pois pode causar inconsistências na base de dados"}]}],arrHelp2:[{titulo:"Para registrar bloqueio: ",itens:[{id:0,observacao:"Campos com * são obrigatórios"},{id:1,descricao:"Informe os dados do bloqueio"}]},{titulo:"Mensagens de erro",itens:[{id:1,descricao:"Já existe um Cid 10 com este nome",solucao:"Não realizar cadastro de um Cid 10 que já se encontra registrado"}]}]}},methods:{openModal2:function(){this.dialog2=!0}}},Jo=Uo,Ko=(t("f2f2"),Object(b["a"])(Jo,Go,Qo,!1,null,"3a4dab8c",null)),Xo=Ko.exports;q()(Ko,{VBottomSheet:re["a"],VBtn:k["a"],VCard:se["a"],VCardText:ne["b"],VContainer:le["a"],VDialog:de["a"],VFabTransition:B["b"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Zo={components:{HelpCid:Xo},data:function(){return{alert:!1,dialog:!1,dialogConfirmDelete:!1,progress:!1,message:"",search:"",headers:[{text:"Nome",value:"nome"},{text:"Codigo",value:"codigo"},{text:"Especialidade",value:"especialidade.nome"},{text:"Descrição",value:"descricao"}],id:0,cid:{nome:"",codigo:"",especialidade:null,especialidade_id:0,descricao:""},cids:[],especialidades:[]}},mounted:function(){this.listarCids(),this.listarEspecialidades()},methods:{listarCids:function(){var e=this;ia.listar().then(function(a){e.cids=a.data})},listarEspecialidades:function(){var e=this;sa.listar().then(function(a){e.especialidades=a.data})},isErrors:function(e){var a=this;this.errors.clear(),this.progress=!1,e.forEach(function(e){a.errors.add({field:e.field,msg:e.message})})},limpar:function(){this.alert=!1,this.dialog=!1,this.dialogConfirmDelete=!1,this.progress=!1,this.id=0,this.cid={},this.errors.clear()},salvar:function(){var e=this;this.progress=!0,0===this.id?ia.salvar(this.cid).then(function(a){e.limpar(),e.listarCids(),e.message="Cid 10 adicionado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}):ia.alterar(this.cid).then(function(a){e.limpar(),e.listarCids(),e.message="Cid 10 alterado com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)})},editar:function(e){this.id=e.id,this.cid=e,this.dialog=!0},messageDelete:function(e){this.cid=e,this.dialogConfirmDelete=!0},deletar:function(){var e=this;ia.deletar(this.cid).then(function(a){e.message="Cid 10 deletado com sucesso",e.alert=!0,e.listarCids()}).catch(function(e){console.log(e)}),this.limpar()},cancelar:function(){this.limpar()}}},ei=Zo,ai=Object(b["a"])(ei,Ro,Wo,!1,null,null,null),ti=ai.exports;q()(ai,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:he["a"],VContainer:le["a"],VDataTable:_e["a"],VDialog:de["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VProgressCircular:qe["a"],VSelect:lt["a"],VSpacer:P["a"],VTextField:ke["a"],VTextarea:qt["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var oi=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("center",[t("div",{staticClass:"container-one"},[t("v-layout",{attrs:{column:""}},[t("v-toolbar",{attrs:{color:"green lighten-4",flat:""}},[t("v-toolbar-title",[e._v("\n          SAPV - Prefeitura\n        ")])],1),t("v-card",{staticStyle:{padding:"10px"},attrs:{flat:""}},[t("v-alert",{attrs:{value:e.alert,type:"error",dismissible:""}},[e._v("\n          "+e._s(e.message)+"\n        ")]),t("v-card-text",[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{"prepend-icon":"person",name:"email","data-vv-name":"email","error-messages":e.errors.first("email"),label:"E-mail",type:"text"},model:{value:e.user.email,callback:function(a){e.$set(e.user,"email",a)},expression:"user.email"}}),t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"prepend-icon":"lock",name:"password","data-vv-name":"password","error-messages":e.errors.first("password"),label:"Senha",type:"password"},model:{value:e.user.password,callback:function(a){e.$set(e.user,"password",a)},expression:"user.password"}})],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"#000",outline:""},on:{click:e.login}},[e._v("\n            Entrar\n          ")])],1)],1)],1)],1)])},ii=[],ri={login:function(e){return X.post("sessions",e)}},si={$_veeValidate:{validator:"new"},name:"Login",data:function(){return{alert:!1,user:{email:"",password:""},message:"",dictionary:{custom:{email:{required:"E-mail não foi informado",email:"E-mail não foi informado corretamente"},password:{required:"Senha não foi informada"}}}}},mounted:function(){this.$validator.localize("en",this.dictionary)},methods:{login:function(){var e=this;this.alert=!1,this.$validator.validate().then(function(a){a&&ri.login(e.user).then(function(a){""!==a.data?(e.$store.commit("updatedToken",a.data.token),e.$store.commit("updatedUser",a.data.user),localStorage.setItem("token",a.data.token),e.$router.replace("/"),e.alert=!1):(e.alert=!0,e.message="Usuário ou senha inválidos")}).catch(function(a){a.length>0&&a.foreach(function(a){e.errors.add({field:a.field,msg:a.msg})})})})}}},ni=si,li=(t("528d"),Object(b["a"])(ni,oi,ii,!1,null,null,null)),di=li.exports;q()(li,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VCardActions:ne["a"],VCardText:ne["b"],VLayout:ue["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var ci=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{attrs:{transition:"scale-transition",origin:"center center",color:"success",type:"success",dismissible:"",dark:""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n      Parametrização\n    ")])],1),t("v-card",{staticClass:"pa-3",attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"nome_empresa",label:"* Nome da empresa","error-messages":e.errors.first("nome_empresa")},model:{value:e.parametrizacao.nome_empresa,callback:function(a){e.$set(e.parametrizacao,"nome_empresa",a)},expression:"parametrizacao.nome_empresa"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{ref:"menuInicio",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.parametrizacao.expediente_inicio,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.parametrizacao,"expediente_inicio",a)},"update:return-value":function(a){return e.$set(e.parametrizacao,"expediente_inicio",a)}},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t("v-text-field",e._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"expIni",attrs:{name:"expediente_inicio","data-vv-name":"expediente_inicio",label:"* Inicio de expediente","prepend-icon":"access_time","error-messages":e.errors.first("expediente_inicio"),readonly:""},model:{value:e.parametrizacao.expediente_inicio,callback:function(a){e.$set(e.parametrizacao,"expediente_inicio",a)},expression:"parametrizacao.expediente_inicio"}},o))]}}]),model:{value:e.menuInicio,callback:function(a){e.menuInicio=a},expression:"menuInicio"}},[e.menuInicio?t("v-time-picker",{attrs:{format:"24hr","data-vv-name":"expediente_inicio","full-width":""},on:{"click:minute":function(a){return e.$refs.menuInicio.save(e.parametrizacao.expediente_inicio)}},model:{value:e.parametrizacao.expediente_inicio,callback:function(a){e.$set(e.parametrizacao,"expediente_inicio",a)},expression:"parametrizacao.expediente_inicio"}}):e._e()],1)],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-menu",{ref:"menuFim",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.parametrizacao.expediente_fim,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.parametrizacao,"expediente_fim",a)},"update:return-value":function(a){return e.$set(e.parametrizacao,"expediente_fim",a)}},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t("v-text-field",e._g({directives:[{name:"validate",rawName:"v-validate",value:"required|is_after:expIni",expression:"'required|is_after:expIni'"}],attrs:{name:"expediente_fim","data-vv-name":"expediente_fim",label:"* Fim de expediente","prepend-icon":"access_time","error-messages":e.errors.first("expediente_fim"),readonly:""},model:{value:e.parametrizacao.expediente_fim,callback:function(a){e.$set(e.parametrizacao,"expediente_fim",a)},expression:"parametrizacao.expediente_fim"}},o))]}}]),model:{value:e.menuFim,callback:function(a){e.menuFim=a},expression:"menuFim"}},[e.menuFim?t("v-time-picker",{attrs:{format:"24hr","data-vv-name":"expediente_fim","full-width":""},on:{"click:minute":function(a){return e.$refs.menuFim.save(e.parametrizacao.expediente_fim)}},model:{value:e.parametrizacao.expediente_fim,callback:function(a){e.$set(e.parametrizacao,"expediente_fim",a)},expression:"parametrizacao.expediente_fim"}}):e._e()],1)],1),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"logo",label:"* Logo","error-messages":e.errors.first("logo")},model:{value:e.parametrizacao.logo,callback:function(a){e.$set(e.parametrizacao,"logo",a)},expression:"parametrizacao.logo"}})],1),t("v-flex",{attrs:{xs12:"",md10:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"endereco",label:"* Endereco","error-messages":e.errors.first("endereco")},model:{value:e.parametrizacao.endereco,callback:function(a){e.$set(e.parametrizacao,"endereco",a)},expression:"parametrizacao.endereco"}})],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"numero",label:"* Número","error-messages":e.errors.first("numero")},model:{value:e.parametrizacao.numero,callback:function(a){e.$set(e.parametrizacao,"numero",a)},expression:"parametrizacao.numero"}})],1),t("v-flex",{attrs:{xs12:"",md9:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"bairro",label:"* Bairro","error-messages":e.errors.first("bairro")},model:{value:e.parametrizacao.bairro,callback:function(a){e.$set(e.parametrizacao,"bairro",a)},expression:"parametrizacao.bairro"}})],1),t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:10",expression:"'required|min:10'"}],attrs:{name:"telefone",label:"* Telefone",mask:"(##)####-####","error-messages":e.errors.first("telefone")},model:{value:e.parametrizacao.telefone,callback:function(a){e.$set(e.parametrizacao,"telefone",a)},expression:"parametrizacao.telefone"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-btn",{attrs:{color:"blue darken-1",outline:"",dark:""},on:{click:e.salvar}},[e._v("\n            Salvar\n          ")])],1)],1)],1)],1)],1)},ui=[],mi={$_veeValidate:{validator:"new"},data:function(){return{menuInicio:!1,menuFim:!1,alert:!1,message:"",progress:!1,id:0,parametrizacao:{nome_empresa:"",expediente_inicio:"",expediente_fim:"",logo:"",endereco:"",numero:"",bairro:"",telefone:""},dictionary:{custom:{nome_empresa:{required:"O nome da empresa deve ser informado"},expediente_inicio:{required:"O horário que se inicia o expediente deve ser informado"},expediente_fim:{required:"O horário que encerra o expediente deve ser informado",is_after:"O horário que encerra o expediente deve se maior que o horário que se inicia do expediente"},logo:{required:"O logo deve ser informado"},endereco:{required:"O endereço deve ser informado"},numero:{required:"O número deve ser infromado"},bairro:{required:"O bairro deve ser informado"},telefone:{required:"O telefone deve ser informado",min:"O telefone não foi informado corretamente"}}}}},created:function(){var e=this;s["a"].extend("is_after",function(a,t){var o=Object(Ka["a"])(t,1),i=o[0];return e.moment(a,"HH:mm").isAfter(e.moment(i,"HH:mm"))},{hasTarget:!0})},mounted:function(){var e=this;this.$validator.localize("en",this.dictionary),Xa.show(0).then(function(a){if(a.data.length>0){var t=a.data[0];e.id=t.id,e.parametrizacao=t}})},methods:{isErrors:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.errors.clear(),this.progress=!1,a.forEach(function(a){e.errors.add({field:a.field,msg:a.message})})},salvar:function(){var e=this;this.alert=!1,this.progress=!0,this.$validator.validate().then(function(a){a&&(0===e.id?Xa.salvar(e.parametrizacao).then(function(a){e.message="Parametrização adicionada com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}):Xa.alterar(e.parametrizacao).then(function(a){e.message="Parametrização alterada com sucesso",e.alert=!0}).catch(function(a){a.response.data.length>0&&e.isErrors(a.response.data)}))})}}},vi=mi,pi=Object(b["a"])(vi,ci,ui,!1,null,null,null),fi=pi.exports;q()(pi,{VAlert:ge["a"],VBtn:k["a"],VCard:se["a"],VContainer:le["a"],VFlex:ce["a"],VLayout:ue["a"],VMenu:Y["a"],VTextField:ke["a"],VTimePicker:ba["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var gi=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-alert",{staticClass:"error",attrs:{type:"error",dismissible:"",value:!0,"fade-transition":""},model:{value:e.alert,callback:function(a){e.alert=a},expression:"alert"}},[e._v("\n    "+e._s(e.message)+"\n  ")]),[t("v-toolbar",{attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbar-title",{staticClass:"font-weight-light title text-uppercase"},[e._v("\n        Relatórios\n      ")]),t("v-spacer")],1),t("v-card",{attrs:{flat:""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md8:""}},[t("v-select",{attrs:{items:e.items,label:"Opção de relatório","item-text":"name","item-value":"id"},model:{value:e.optionSelected,callback:function(a){e.optionSelected=a},expression:"optionSelected"}})],1),1==e.optionSelected?t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuData,callback:function(a){e.menuData=a},expression:"menuData"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{slot:"activator","data-vv-name":"dataViagem",name:"dataViagem","error-messages":e.errors.first("dataViagem"),label:"* Data","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.dataViagemFormatted,callback:function(a){e.dataViagemFormatted=a},expression:"dataViagemFormatted"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"dataViagem"},on:{input:function(a){e.menuData=!1}},model:{value:e.dataViagem,callback:function(a){e.dataViagem=a},expression:"dataViagem"}})],1)],1):e._e(),1==e.optionSelected?[t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.listaViagens,name:"viagem_id","data-vv-name":"viagem_id",box:"",chips:"",color:"blue-grey lighten-2",label:"* Viagens","item-text":"datHorLoc","item-value":"id","error-messages":e.errors.first("viagem_id")},scopedSlots:e._u([{key:"selection",fn:function(a){return[t("v-chip",{staticClass:"chip--select-multi",attrs:{selected:a.selected,close:""},on:{input:function(t){return e.remove(a.item)}}},[e._v("\n                    "+e._s(a.item.data)+" -\n                    "+e._s(a.item.horario)+" -\n                    "+e._s(a.item.localidade.nome)+"\n                  ")])]}},{key:"item",fn:function(a){return["object"!==typeof a.item?[t("v-list-tile-content",{domProps:{textContent:e._s(a.item)}})]:["Fixa"==a.item.tipo?t("v-list-tile-avatar",[t("v-icon",[e._v("\n                        history\n                      ")])],1):e._e(),"Emergencia"==a.item.tipo?t("v-list-tile-avatar",[t("v-icon",[e._v("\n                        report\n                      ")])],1):e._e(),t("v-list-tile-content",[t("v-list-tile-sub-title",{domProps:{innerHTML:e._s("<b>Data:</b> "+a.item.data+"  <b>Horário:</b> "+a.item.horario+"  <b>Localidade:</b> "+a.item.localidade.nome)}}),t("v-list-tile-sub-title",{domProps:{innerHTML:e._s("<b>Motorista:</b> "+a.item.motorista.nome)}})],1)]]}}],null,!1,3460088426),model:{value:e.viagem_id,callback:function(a){e.viagem_id=a},expression:"viagem_id"}})],1)]:e._e(),2==e.optionSelected?[t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuDataIni,callback:function(a){e.menuDataIni=a},expression:"menuDataIni"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{slot:"activator","data-vv-name":"dataIni",name:"dataIni","error-messages":e.errors.first("dataIni"),label:"* Data","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.dataIniFormatted,callback:function(a){e.dataIniFormatted=a},expression:"dataIniFormatted"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"dataIni"},on:{input:function(a){e.menuDataIni=!1}},model:{value:e.dataIni,callback:function(a){e.dataIni=a},expression:"dataIni"}})],1)],1),t("v-flex",{attrs:{xs12:"",md2:""}},[t("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menuDataFin,callback:function(a){e.menuDataFin=a},expression:"menuDataFin"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{slot:"activator","data-vv-name":"dataFin",name:"dataFin","error-messages":e.errors.first("dataFin"),label:"* Data Final","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.dataFinFormatted,callback:function(a){e.dataFinFormatted=a},expression:"dataFinFormatted"}}),t("v-date-picker",{attrs:{locale:"pt-BR","data-vv-name":"dataFin"},on:{input:function(a){e.menuDataFin=!1}},model:{value:e.dataFin,callback:function(a){e.dataFin=a},expression:"dataFin"}})],1)],1)]:e._e(),e.optionSelected?t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-btn",{attrs:{color:"#111",outline:""},on:{click:function(a){return e.gerarRelatorio()}}},[t("v-icon",[e._v("settings")]),e._v("Abrir\n            ")],1)],1):e._e()],2)],1)],1)],[e.activeReport&&1==e.optionSelected?t("rel-viagem-motorista",{attrs:{dialog:e.dialog,viagem:e.viagem},on:{changeDialog:function(a){e.dialog=a}}}):e._e(),e.activeReport&&2==e.optionSelected?t("rel-viagens",{attrs:{dialog:e.dialog,viagens:e.viagens},on:{changeDialog:function(a){e.dialog=a}}}):e._e()]],2)},hi=[],_i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-layout",{attrs:{row:""}},[t("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",{attrs:{flat:""}},[t("v-toolbar",{attrs:{dark:"",color:"green lighten-4",flat:""}},[t("v-btn",{attrs:{dark:"",flat:"",icon:"",outiline:"",color:"#000"},on:{click:function(a){return e.close()}}},[t("v-icon",[e._v("close")])],1),t("v-toolbar-title",[e._v(e._s(e.title))]),t("v-spacer"),t("v-toolbar-items",[t("v-btn",{attrs:{dark:"",flat:"",icon:"",outiline:"",color:"#000"},on:{click:e.printPdf}},[t("v-icon",[e._v("print")])],1)],1)],1),t("div",{staticClass:"padding-20",attrs:{id:"PrintArea"}},[t("section",{staticClass:"container basis-numero-container"},[t("div",{staticClass:"header"},[t("img",{attrs:{src:"https://iepe.sp.gov.br/Content/img/brasao-iepe.png"}}),t("span",[e._v("Relatório da viagem")])]),t("hr"),t("div",{staticClass:"container-header"},[t("div",[t("div",[t("strong",[e._v("Motorista: ")]),e._v(e._s(e.viagem.motorista.nome)+" - "),t("strong",[e._v("Telefone: ")]),e._v(e._s(e.celularFormatted(e.viagem.motorista.celular)))]),t("div",[t("strong",[e._v("Veiculo: ")]),e._v(e._s(e.viagem.veiculo.modelo)+" - "+e._s(e.viagem.veiculo.numero))])]),t("div",[t("div",[t("strong",[e._v("Localidade: ")]),t("span",[e._v(e._s(e.viagem.localidade.nome))])]),t("div",[t("strong",[e._v("Data/Horário: ")]),t("span",[e._v(e._s(e.moment(e.viagem.data).format("DD/MM/YYYY"))+" - "+e._s(e.moment(e.viagem.horario,"hh:mm:ss").format("hh:mm")))])])])]),t("hr"),e._l(e.primeiraPagina,function(a){return t("div",{key:a.id},[t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Nome: ")]),e._v(e._s(a.paciente.nome))]),t("div",[t("strong",[e._v("Celular: ")]),e._v(e._s(e.celularFormatted(a.paciente.celular)))])]),t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Local de consulta: ")]),e._v(" "+e._s(a.localDeConsulta.nome)+"\n              ")]),t("div",[t("strong",[e._v("Especialidade: ")]),e._v(e._s(a.especialidade.nome))])]),t("div",[t("div",[t("strong",[e._v("Procedimentos: ")])]),e._l(a.procedimentos,function(a){return[t("span",{key:a.id},[e._v("\n                  "+e._s(a.nome)+"\n                ")])]})],2),t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Acompanhante: ")]),e._v(e._s(a.acompanhante))]),t("div",[t("strong",[e._v("Presença: ")]),e._v(" [ ] Sim - [ ] Não")])]),t("hr")])}),t("div",{staticClass:"pageNumber"},[t("span",[e._v("DATA: "+e._s(e.moment(new Date).format("DD/MM/YYYY"))+" - PÁGINA: 1/"+e._s(e.totalPages))])])],2),e._l(e.pages,function(a){return t("section",{key:a.number,staticClass:"container"},[e._l(a.agendamentos,function(a){return t("div",{key:a.id},[t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Nome: ")]),e._v(e._s(a.paciente.nome))]),t("div",[t("strong",[e._v("Celular: ")]),e._v(e._s(e.celularFormatted(a.paciente.celular)))])]),t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Local de consulta: ")]),e._v(" "+e._s(a.localDeConsulta.nome)+"\n              ")]),t("div",[t("strong",[e._v("Especialidade: ")]),e._v(e._s(a.especialidade.nome))])]),t("div",[t("div",[t("strong",[e._v("Procedimentos: ")])]),e._l(a.procedimentos,function(a){return[t("span",{key:a.id},[e._v("\n                  "+e._s(a.nome)+"\n                ")])]})],2),t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Acompanhante: ")]),e._v(e._s(a.acompanhante))]),t("div",[t("strong",[e._v("Presença: ")]),e._v(" [ ] Sim - [ ] Não")])]),t("hr")])}),t("div",{staticClass:"pageNumber"},[t("span",[e._v("DATA: "+e._s(e.moment(new Date).format("DD/MM/YYYY"))+" - PÁGINA: "+e._s(a.number)+"/"+e._s(e.totalPages))])])],2)})],2)],1)],1)],1)},bi=[],xi=t("3748"),qi={props:{viagem:Object,dialog:Boolean,title:String},data:function(){return{totalPages:1,cssText:"\n      .container {\n        width: 21cm;\n        height: 31cm;\n        margin: 0 auto;\n        padding: 0;\n      }\n      .container-header {\n        display: flex;\n        width: 100%;\n        justify-content: space-between;\n      }\n      .header {\n        display: flex;\n        height: 80px;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 10px;\n      }\n\n      .header span {\n        font-size: 30px;\n        font-weight: bold;\n      }\n\n      .header img {\n        width: 70px;\n        height: 75px;\n      }\n\n      .pageNumber {\n        font-size: 12px;\n        display: flex;\n        justify-content: flex-end;\n      }\n    ",primeiraPagina:[],page:{number:"",agendamentos:[]},pages:[]}},mounted:function(){this.d=new xi["Printd"];var e=this.d.getIFrame();e.contentWindow;this.mountPages()},methods:{mountPages:function(){if(this.primeiraPagina=this.viagem.agendamentos.slice(0,2),this.viagem.agendamentos.length>2){this.totalPages=this.viagem.agendamentos.length/2,this.viagem.agendamentos=this.viagem.agendamentos.slice(2,this.viagem.agendamentos.length);for(var e=2,a=0;a<this.viagem.agendamentos.length;a+=2)this.page.number=e,this.page.agendamentos=this.viagem.agendamentos.slice(a,a+=2),this.pages.push(this.page),e+=1}},printPdf:function(){this.d.print(document.getElementById("PrintArea"),[this.cssText])},close:function(){this.dialog=!1,this.$emit("changeDialog",!1)},celularFormatted:function(e){var a="(".concat(e.substr(0,2),") ").concat(e.substr(2,5)," - ").concat(e.substr(7,8));return a}}},ki=qi,Vi=(t("a1c7"),Object(b["a"])(ki,_i,bi,!1,null,"79b035cf",null)),Ci=Vi.exports;q()(Vi,{VBtn:k["a"],VCard:se["a"],VDialog:de["a"],VIcon:V["a"],VLayout:ue["a"],VSpacer:P["a"],VToolbar:E["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var yi=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-layout",{attrs:{row:""}},[t("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",{attrs:{flat:""}},[t("v-toolbar",{attrs:{dark:"",color:"green lighten-4",flat:""}},[t("v-btn",{attrs:{dark:"",flat:"",icon:"",outiline:"",color:"#000"},on:{click:function(a){return e.close()}}},[t("v-icon",[e._v("close")])],1),t("v-toolbar-title",[e._v(e._s(e.title))]),t("v-spacer"),t("v-toolbar-items",[t("v-btn",{attrs:{dark:"",flat:"",icon:"",outiline:"",color:"#000"},on:{click:e.printPdf}},[t("v-icon",[e._v("print")])],1)],1)],1),t("div",{staticClass:"padding-20",attrs:{id:"PrintArea"}},[t("section",{staticClass:"container basis-numero-container"},[t("div",{staticClass:"header"},[t("img",{attrs:{src:"https://iepe.sp.gov.br/Content/img/brasao-iepe.png"}}),t("span",[e._v("Relatório das viagens")])]),t("hr"),e._l(e.primeiraPagina,function(a){return t("div",{key:a.id},[t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Data/Horário: ")]),e._v(e._s(e.moment(a.data).format("DD/MM/YYYY")))]),t("div",[t("strong",[e._v("Localidade: ")]),e._v(e._s(a.localidade.nome)+" - "+e._s(a.localidade.estado))])]),t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Motorista: ")]),e._v(e._s(a.motorista.nome))]),t("div",[t("strong",[e._v("Celular: ")]),e._v(e._s(e.celularFormatted(a.motorista.celular)))])]),t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Veiculo/Número: ")]),e._v(e._s(a.veiculo.modelo)+" - "+e._s(a.veiculo.numero))]),t("div",[t("strong",[e._v("Status: ")]),e._v(e._s(a.status))])]),t("hr")])}),t("div",{staticClass:"pageNumber"},[t("span",[e._v("DATA: "+e._s(e.moment(new Date).format("DD/MM/YYYY"))+" - PÁGINA: 1/"+e._s(e.totalPages))])])],2),e._l(e.pages,function(a){return t("section",{key:a.number,staticClass:"container"},[e._l(a.viagens,function(a){return t("div",{key:a.id},[t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Data/Horário: ")]),e._v(e._s(e.moment(a.data).format("DD/MM/YYYY")))]),t("div",[t("strong",[e._v("Localidade: ")]),e._v(e._s(a.localidade.nome)+" - "+e._s(a.localidade.estado))])]),t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Motorista: ")]),e._v(e._s(a.motorista.nome))]),t("div",[t("strong",[e._v("Celular: ")]),e._v(e._s(e.celularFormatted(a.motorista.celular)))])]),t("div",{staticClass:"container-header"},[t("div",[t("strong",[e._v("Veiculo/Número: ")]),e._v(e._s(a.veiculo.modelo)+" - "+e._s(a.veiculo.numero))]),t("div",[t("strong",[e._v("Status: ")]),e._v(e._s(a.status))])]),t("hr")])}),t("div",{staticClass:"pageNumber"},[t("span",[e._v("DATA: "+e._s(e.moment(new Date).format("DD/MM/YYYY"))+" - PÁGINA: "+e._s(a.number)+"/"+e._s(e.totalPages))])])],2)})],2)],1)],1)],1)},Di=[],Mi={props:{viagens:Array,dialog:Boolean,title:String},data:function(){return{totalPages:1,primeiraPagina:[],page:{number:"",viagens:[]},pages:[],cssText:"\n    .basis-numero-container {\n      flex-wrap: wrap;\n    }\n    .container {\n      width: 21.5cm;\n      height: 31cm;\n      margin: 0 auto;\n    }\n    .container-header {\n      display: flex;\n      width: 100%;\n      justify-content: space-between;\n    }\n    .header {\n      display: flex;\n      width: 100%;\n      height: 80px;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 10px;\n    }\n    .header span {\n      font-size: 30px;\n      font-weight: bold;\n    }\n    .header img {\n      width: 70px;\n      height: 75px;\n    }\n    .pageNumber {\n      font-size: 12px;\n      display: flex;\n      justify-content: flex-end;\n    }"}},mounted:function(){this.d=new xi["Printd"];var e=this.d.getIFrame();e.contentWindow;this.mountPages()},methods:{mountPages:function(){if(this.primeiraPagina=this.viagens.slice(0,14),this.viagens.length>14){this.totalPages=Math.round(this.viagens.length/14),this.viagens=this.viagens.slice(14,this.viagens.length);for(var e=2,a=0;a<this.viagens.length;a+=14)this.page.number=e,this.page.viagens=this.viagens.slice(a,a+=14),this.pages.push(this.page),e+=1}},printPdf:function(){this.d.print(document.getElementById("PrintArea"),[this.cssText])},close:function(){this.dialog=!1,this.$emit("changeDialog",!1)},celularFormatted:function(e){var a="(".concat(e.substr(0,2),") ").concat(e.substr(2,5)," - ").concat(e.substr(7,8));return a}}},wi=Mi,Yi=(t("ec00"),Object(b["a"])(wi,yi,Di,!1,null,"69c2ee75",null)),Si=Yi.exports;q()(Yi,{VBtn:k["a"],VCard:se["a"],VDialog:de["a"],VIcon:V["a"],VLayout:ue["a"],VSpacer:P["a"],VToolbar:E["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var Pi={$_veeValidate:{validator:"new"},components:{RelViagemMotorista:Ci,RelViagens:Si},data:function(){return{activeReport:!1,dialog:!1,menuData:!1,menuDataIni:!1,menuDataFin:!1,alert:!1,message:"",dataViagem:null,dataIni:null,dataFin:null,viagem_id:null,viagem:{data:null,horario:null,localidade:{nome:null},motorista:{nome:""},veiculo_id:null,tipo:null,status:null,agendamentos:[]},optionSelected:null,listaViagens:[],items:[{id:1,name:"Relatório da viagem para o motorista"},{id:2,name:"Relatório de todas viagens"}],viagens:[],dictionary:{custom:{viagem_id:{required:"Selecione a viagem para gerar o relatório"}}}}},computed:{dataViagemFormatted:function(){return this.moment(this.dataViagem).format("DD/MM/YYYY")},dataIniFormatted:function(){return this.dataIni?this.moment(this.dataIni).format("DD/MM/YYYY"):null},dataFinFormatted:function(){return this.dataFin?this.moment(this.dataFin).format("DD/MM/YYYY"):null}},watch:{dataViagem:function(){this.dataViagem&&this.listarViagens()},optionSelected:function(){1===this.optionSelected&&this.listarViagens()},viagem_id:function(){var e=this;this.viagem_id&&ea.show(this.viagem_id).then(function(a){e.viagem=a.data})},dataIni:function(){this.dataFin&&this.listarTodasViagensPeriodo()},dataFin:function(){this.dataIni&&this.listarTodasViagensPeriodo()}},mounted:function(){this.$validator.localize("en",this.dictionary);var e=(new Date).toISOString().substr(0,10);this.dataViagem=e},methods:{remove:function(e){this.viagem=null,this.viagem_id=null},listarTodasViagensPeriodo:function(){var e=this;ea.buscarPorPeriodo(this.dataIni,this.dataFin).then(function(a){e.viagens=a.data})},listarViagens:function(){var e=this;this.listaViagens=[],ea.buscarPorVeiculoPeriodo(this.dataViagem).then(function(a){a.data.forEach(function(a){e.viagem=a,e.viagem.data=e.moment(a.data).format("DD/MM/YYYY"),e.listaViagens.push(e.viagem)})})},gerarRelatorio:function(){1===this.optionSelected&&(this.viagem_id?(this.alert=!1,this.dialog=!0,this.activeReport=!0):(this.alert=!0,this.message="Não foi selecionado nenhum dado para gerar relatório")),2===this.optionSelected&&(this.alert=!1,this.dialog=!0,this.activeReport=!0)}}},Ei=Pi,ji=Object(b["a"])(Ei,gi,hi,!1,null,null,null),Ai=ji.exports;q()(ji,{VAlert:ge["a"],VAutocomplete:fa["a"],VBtn:k["a"],VCard:se["a"],VChip:ga["a"],VContainer:le["a"],VDatePicker:Ue["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VListTileAvatar:_a["a"],VListTileContent:w["a"],VListTileSubTitle:w["b"],VMenu:Y["a"],VSelect:lt["a"],VSpacer:P["a"],VTextField:ke["a"],VToolbar:E["a"],VToolbarTitle:A["b"]});var Ti=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-container",[t("v-toolbar",{staticClass:"bord",attrs:{flat:"",color:"green lighten-4"}},[t("v-toolbal-title",{staticClass:"font-weight-light title text-uppercase px-4"},[e._v("\n        Relatorio de viagens\n      ")]),t("v-spacer"),t("v-btn",{attrs:{flat:"",icon:""},on:{click:function(a){return e.printPdf()}}},[t("v-icon",[e._v("print")])],1)],1),t("v-card",{staticClass:"pa-5",attrs:{id:"PrintArea",flat:""}},[t("v-data-iterator",{attrs:{items:e.dados,"hide-headers":"","hide-actions":"",pagination:e.pagination},on:{"update:pagination":function(a){e.pagination=a}},scopedSlots:e._u([{key:"item",fn:function(a){return t("v-layout",{staticClass:"py-3",attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md6:""}},[t("b",[e._v("Nome:")]),t("br"),e._v(" "+e._s(a.item.nome)+"\n          ")]),t("v-flex",{attrs:{xs12:"",md3:""}},[t("b",[e._v("Data:")]),t("br"),e._v(" "+e._s(a.item.data)+"\n          ")]),t("v-flex",{attrs:{xs12:"",md3:""}},[t("b",[e._v("Horario:")]),t("br"),e._v(" "+e._s(a.item.horario)+"\n          ")]),t("v-flex",{attrs:{xs12:"",md12:""}},[t("b",[e._v("Descrição:")]),t("br"),e._v(" "+e._s(a.item.descricao)+"\n          ")])],1)}}])})],1),t("div",{staticClass:"text-xs-center pt-2"},[t("v-pagination",{attrs:{length:e.pages},model:{value:e.pagination.page,callback:function(a){e.$set(e.pagination,"page",a)},expression:"pagination.page"}})],1)],1)],1)},$i=[],Fi={data:function(){return{pagination:{rowsPerPage:10},dados:[{nome:"Juliana Fonsa",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"13:00"},{nome:"Nelson Augusto",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"14:00"},{nome:"Jones Balta",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"13:30"},{nome:"Landy Boltsty",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"15:00"},{nome:"Florinda Maria",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"17:00"},{nome:"Florinda Maria",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"17:00"},{nome:"Florinda kkkkkkk",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"17:00"},{nome:"Juliana Fonsa",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"13:00"},{nome:"Nelson Augusto",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"14:00"},{nome:"Jones Balta",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"13:30"},{nome:"Landy Boltsty",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"15:00"},{nome:"Florinda Maria",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"17:00"},{nome:"Florinda Maria",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"17:00"},{nome:"Florinda kkkkkkk",descricao:"Lorem ipsum lacinia nec ut at aptent tempor eleifend faucibus, aliquam condimentum porttitor conubia curae dictumst aliquam sapien, amet erat malesuada enim litora quisque condimentum ante. inceptos taciti quam suscipit varius cras tortor aliquam euismod bibendum ut, lectus sit tortor leo quisque vel malesuada interdum aliquam, erat commodo libero et turpis pulvinar curabitur sem pretium. porta convallis orci sit tempus lectus ante dolor himenaeos et",data:"20/02/2019",horario:"17:00"}],cssText:"\n      .printing {\n        font-family: sans-serif;\n        width: 500px;\n        border: solid 1px #ccc;\n        text-align: center;\n        padding: 1em;\n        margin: 2em auto;\n      }\n\n      button {\n        background-color: #f0f0f0;\n        border: solid 1px #bbb;\n        padding: 10px;\n        font-size: 15px;\n        border-radius: 5px;\n      }\n\n      pre {\n        color: #c7254e;\n      }\n    "}},computed:{pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}},mounted:function(){console.log("when component is mounted!");var e=window.printd.Printd;this.d=new e;var a=this.d.getIFrame(),t=a.contentWindow;t.addEventListener("beforeprint",function(){return console.log("before print event!")}),t.addEventListener("afterprint",function(){return console.log("after print event!")})},methods:{printPdf:function(){this.d.print(this.$el,[this.cssText])}}},Hi=Fi,zi=t("c377"),Ii=t("891e"),Bi=Object(b["a"])(Hi,Ti,$i,!1,null,null,null),Ni=Bi.exports;q()(Bi,{VBtn:k["a"],VCard:se["a"],VContainer:le["a"],VDataIterator:zi["a"],VFlex:ce["a"],VIcon:V["a"],VLayout:ue["a"],VPagination:Ii["a"],VSpacer:P["a"],VToolbar:E["a"]}),o["a"].use(W["a"]);var Li=new W["a"]({mode:"history",base:"/",routes:[{path:"/login",component:di,meta:{guest:!0}},{path:"/",component:U,meta:{requiresAuth:!0}},{path:"/viagens",component:ja,meta:{requiresAuth:!0}},{path:"/viagens/fixa",component:ct,meta:{requiresAuth:!0}},{path:"/viagens/emergencia",component:Ga,meta:{requiresAuth:!0}},{path:"/viagens/emergencia/:id",component:Ga,meta:{requiresAuth:!0}},{path:"/agendamentos/agendar-pacientes",component:qa,meta:{requiresAuth:!0}},{path:"/agendamentos/todos",component:Ma,meta:{requiresAuth:!0}},{path:"/veiculos",component:Ce,meta:{requiresAuth:!0}},{path:"/pacientes",component:Fe,meta:{requiresAuth:!0}},{path:"/bloqueio-veiculos",component:Vt,meta:{requiresAuth:!0}},{path:"/saida-veiculos",component:$t,meta:{requiresAuth:!0}},{path:"/retorno-veiculos",component:Ut,meta:{requiresAuth:!0}},{path:"/motoristas",component:Ke,meta:{requiresAuth:!0}},{path:"/especialidades",component:no,meta:{requiresAuth:!0}},{path:"/procedimentos",component:xo,meta:{requiresAuth:!0}},{path:"/localidades",component:Eo,meta:{requiresAuth:!0}},{path:"/locais-de-consulta",component:Oo,meta:{requiresAuth:!0}},{path:"/cids",component:ti,meta:{requiresAuth:!0}},{path:"/relatorio",component:Ai,meta:{requiresAuth:!0}},{path:"/teste-pdf",component:Ni,meta:{requiresAuth:!0}},{path:"/parametrizacao",component:fi,meta:{requiresAuth:!0}}]});Li.beforeEach(function(e,a,t){e.matched.some(function(e){return e.meta.requiresAuth})?null==localStorage.getItem("token")?t({path:"/login",params:{nextUrl:e.fullPath}}):t():(e.matched.some(function(e){return e.meta.guest}),null==localStorage.getItem("token")?t():t({path:"/"}))});var Oi=Li,Ri=t("2f62");o["a"].use(Ri["a"]);var Wi=new Ri["a"].Store({state:{appTitle:null,token:null,user:{}},mutations:{updatedToken:function(e,a){e.token=a},updatedUser:function(e,a){e.user=a},updatedTitle:function(e,a){e.appTitle=a}},actions:{},getters:{isAuthenticated:function(e){return!!e.token},getToken:function(e){return e.token},getUser:function(e){return e.user},isAdmin:function(e){return!!e.user.admin},getTitle:function(e){return e.appTitle}}}),Gi={name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","https://unpkg.com/kidlat-css/css/kidlat.css"]};o["a"].use(m.a,Gi),o["a"].use(s["b"]),o["a"].prototype.moment=l.a,o["a"].prototype.$http=c.a,o["a"].config.productionTip=!1,new o["a"]({router:Oi,store:Wi,render:function(e){return e(L)}}).$mount("#app")},"5bbc":function(e,a,t){},6928:function(e,a,t){"use strict";var o=t("5bbc"),i=t.n(o);i.a},7307:function(e,a,t){"use strict";var o=t("b8b3"),i=t.n(o);i.a},"788d":function(e,a,t){},"7a24":function(e,a,t){},"7d0f":function(e,a,t){e.exports=t.p+"img/agendamento.9acd9b8b.png"},"7fbe":function(e,a,t){e.exports=t.p+"img/retorno_2.fw.931c926b.png"},"84d7":function(e,a,t){e.exports=t.p+"img/motorista_2.fw.997e329c.png"},"8ac1":function(e,a,t){e.exports=t.p+"img/procedimento_1.a01cf215.png"},"8c1c":function(e,a,t){"use strict";var o=t("12e8"),i=t.n(o);i.a},"8fc2":function(e,a,t){},9158:function(e,a,t){},"92e1":function(e,a,t){"use strict";var o=t("b5c1"),i=t.n(o);i.a},"94ee":function(e,a,t){e.exports=t.p+"img/especialidade_1.3b45a7c4.png"},9519:function(e,a,t){},"954e":function(e,a,t){e.exports=t.p+"img/saida_2.fw.6117bf9c.png"},a1c7:function(e,a,t){"use strict";var o=t("d4c5"),i=t.n(o);i.a},a1cc:function(e,a,t){e.exports=t.p+"img/motorista_1.fw.ff055a63.png"},a283:function(e,a,t){},a727:function(e,a,t){"use strict";var o=t("9519"),i=t.n(o);i.a},a7f3:function(e,a,t){"use strict";var o=t("d958"),i=t.n(o);i.a},af89:function(e,a,t){e.exports=t.p+"img/localidade_1.fw.30fac0e7.png"},b5c1:function(e,a,t){},b7ea:function(e,a,t){"use strict";var o=t("3887"),i=t.n(o);i.a},b8b3:function(e,a,t){},c55b:function(e,a,t){"use strict";var o=t("a283"),i=t.n(o);i.a},c8f6:function(e,a,t){e.exports=t.p+"img/bloqueio_veiculos_2.fw.31c46da2.png"},cf74:function(e,a,t){e.exports=t.p+"img/veiculo_1.a6da73bb.png"},d4c5:function(e,a,t){},d887:function(e,a,t){},d958:function(e,a,t){},e469:function(e,a,t){},ec00:function(e,a,t){"use strict";var o=t("e469"),i=t.n(o);i.a},eddc:function(e,a,t){},ef6a:function(e,a,t){e.exports=t.p+"img/paciente_2.fw.da880611.png"},efb4:function(e,a,t){},f146:function(e,a,t){e.exports=t.p+"img/bloqueio_veiculos_3.fw.e4341749.png"},f2f2:function(e,a,t){"use strict";var o=t("efb4"),i=t.n(o);i.a},faed:function(e,a,t){e.exports=t.p+"img/saida_1.fw.70869996.png"},fdbd:function(e,a,t){e.exports=t.p+"img/local_1.fw.c66c5a80.png"}});
//# sourceMappingURL=app.9cf15d3a.js.map